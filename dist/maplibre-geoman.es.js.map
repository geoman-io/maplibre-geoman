{"version":3,"file":"maplibre-geoman.es.js","sources":["../src/assets/images/markers/default-marker.png","../src/core/controls/defaults.ts","../src/assets/images/controls/change.svg","../src/assets/images/controls/circle-marker.svg","../src/assets/images/controls/circle.svg","../src/assets/images/controls/drag.svg","../src/assets/images/controls/line.svg","../src/assets/images/controls/marker.svg","../src/assets/images/controls/polygon.svg","../src/assets/images/controls/rectangle.svg","../src/assets/images/controls/remove.svg","../src/assets/images/controls/rotate.svg","../src/assets/images/controls/snap-guides.svg","../src/assets/images/controls/text_marker.svg","../src/assets/images/controls2/auto-trace.svg","../src/assets/images/controls2/copy.svg","../src/assets/images/controls2/custom-shape.svg","../src/assets/images/controls2/cut.svg","../src/assets/images/controls2/difference.svg","../src/assets/images/controls2/freehand.svg","../src/assets/images/controls2/geofencing.svg","../src/assets/images/controls2/lasso.svg","../src/assets/images/controls2/line-simplification.svg","../src/assets/images/controls2/measurements.svg","../src/assets/images/controls2/mouse.svg","../src/assets/images/controls2/pin.svg","../src/assets/images/controls2/scale.svg","../src/assets/images/controls2/snap.svg","../src/assets/images/controls2/split.svg","../src/assets/images/controls2/union.svg","../src/assets/images/controls2/zoom-to-features.svg","../src/core/options/icons.ts","../src/types/events/mode.ts","../src/utils/typing.ts","../node_modules/loglevel/lib/loglevel.js","../src/core/map/base/marker.ts","../node_modules/@turf/helpers/dist/esm/index.js","../node_modules/@turf/meta/dist/esm/index.js","../node_modules/@turf/bbox/dist/esm/index.js","../node_modules/@turf/invariant/dist/esm/index.js","../node_modules/@turf/destination/dist/esm/index.js","../node_modules/@turf/circle/dist/esm/index.js","../node_modules/@turf/distance/dist/esm/index.js","../node_modules/@turf/polygon-to-line/dist/esm/index.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/isSymbol.js","../node_modules/lodash-es/_arrayMap.js","../node_modules/lodash-es/isArray.js","../node_modules/lodash-es/_baseToString.js","../node_modules/lodash-es/_trimmedEndIndex.js","../node_modules/lodash-es/_baseTrim.js","../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/toNumber.js","../node_modules/lodash-es/identity.js","../node_modules/lodash-es/isFunction.js","../node_modules/lodash-es/_coreJsData.js","../node_modules/lodash-es/_isMasked.js","../node_modules/lodash-es/_toSource.js","../node_modules/lodash-es/_baseIsNative.js","../node_modules/lodash-es/_getValue.js","../node_modules/lodash-es/_getNative.js","../node_modules/lodash-es/_WeakMap.js","../node_modules/lodash-es/_baseCreate.js","../node_modules/lodash-es/_apply.js","../node_modules/lodash-es/noop.js","../node_modules/lodash-es/_copyArray.js","../node_modules/lodash-es/_shortOut.js","../node_modules/lodash-es/constant.js","../node_modules/lodash-es/_defineProperty.js","../node_modules/lodash-es/_baseSetToString.js","../node_modules/lodash-es/_setToString.js","../node_modules/lodash-es/_arrayEach.js","../node_modules/lodash-es/_baseFindIndex.js","../node_modules/lodash-es/_baseIsNaN.js","../node_modules/lodash-es/_strictIndexOf.js","../node_modules/lodash-es/_baseIndexOf.js","../node_modules/lodash-es/_arrayIncludes.js","../node_modules/lodash-es/_isIndex.js","../node_modules/lodash-es/_baseAssignValue.js","../node_modules/lodash-es/eq.js","../node_modules/lodash-es/_assignValue.js","../node_modules/lodash-es/_copyObject.js","../node_modules/lodash-es/_overRest.js","../node_modules/lodash-es/_baseRest.js","../node_modules/lodash-es/isLength.js","../node_modules/lodash-es/isArrayLike.js","../node_modules/lodash-es/_isIterateeCall.js","../node_modules/lodash-es/_createAssigner.js","../node_modules/lodash-es/_isPrototype.js","../node_modules/lodash-es/_baseTimes.js","../node_modules/lodash-es/_baseIsArguments.js","../node_modules/lodash-es/isArguments.js","../node_modules/lodash-es/stubFalse.js","../node_modules/lodash-es/isBuffer.js","../node_modules/lodash-es/_baseIsTypedArray.js","../node_modules/lodash-es/_baseUnary.js","../node_modules/lodash-es/_nodeUtil.js","../node_modules/lodash-es/isTypedArray.js","../node_modules/lodash-es/_arrayLikeKeys.js","../node_modules/lodash-es/_overArg.js","../node_modules/lodash-es/_nativeKeys.js","../node_modules/lodash-es/_baseKeys.js","../node_modules/lodash-es/keys.js","../node_modules/lodash-es/_nativeKeysIn.js","../node_modules/lodash-es/_baseKeysIn.js","../node_modules/lodash-es/keysIn.js","../node_modules/lodash-es/_isKey.js","../node_modules/lodash-es/_nativeCreate.js","../node_modules/lodash-es/_hashClear.js","../node_modules/lodash-es/_hashDelete.js","../node_modules/lodash-es/_hashGet.js","../node_modules/lodash-es/_hashHas.js","../node_modules/lodash-es/_hashSet.js","../node_modules/lodash-es/_Hash.js","../node_modules/lodash-es/_listCacheClear.js","../node_modules/lodash-es/_assocIndexOf.js","../node_modules/lodash-es/_listCacheDelete.js","../node_modules/lodash-es/_listCacheGet.js","../node_modules/lodash-es/_listCacheHas.js","../node_modules/lodash-es/_listCacheSet.js","../node_modules/lodash-es/_ListCache.js","../node_modules/lodash-es/_Map.js","../node_modules/lodash-es/_mapCacheClear.js","../node_modules/lodash-es/_isKeyable.js","../node_modules/lodash-es/_getMapData.js","../node_modules/lodash-es/_mapCacheDelete.js","../node_modules/lodash-es/_mapCacheGet.js","../node_modules/lodash-es/_mapCacheHas.js","../node_modules/lodash-es/_mapCacheSet.js","../node_modules/lodash-es/_MapCache.js","../node_modules/lodash-es/memoize.js","../node_modules/lodash-es/_memoizeCapped.js","../node_modules/lodash-es/_stringToPath.js","../node_modules/lodash-es/toString.js","../node_modules/lodash-es/_castPath.js","../node_modules/lodash-es/_toKey.js","../node_modules/lodash-es/_baseGet.js","../node_modules/lodash-es/get.js","../node_modules/lodash-es/_arrayPush.js","../node_modules/lodash-es/_isFlattenable.js","../node_modules/lodash-es/_baseFlatten.js","../node_modules/lodash-es/_getPrototype.js","../node_modules/lodash-es/isPlainObject.js","../node_modules/lodash-es/_stackClear.js","../node_modules/lodash-es/_stackDelete.js","../node_modules/lodash-es/_stackGet.js","../node_modules/lodash-es/_stackHas.js","../node_modules/lodash-es/_stackSet.js","../node_modules/lodash-es/_Stack.js","../node_modules/lodash-es/_cloneBuffer.js","../node_modules/lodash-es/_arrayFilter.js","../node_modules/lodash-es/stubArray.js","../node_modules/lodash-es/_getSymbols.js","../node_modules/lodash-es/_baseGetAllKeys.js","../node_modules/lodash-es/_getAllKeys.js","../node_modules/lodash-es/_DataView.js","../node_modules/lodash-es/_Promise.js","../node_modules/lodash-es/_Set.js","../node_modules/lodash-es/_getTag.js","../node_modules/lodash-es/_initCloneArray.js","../node_modules/lodash-es/_Uint8Array.js","../node_modules/lodash-es/_cloneArrayBuffer.js","../node_modules/lodash-es/_cloneDataView.js","../node_modules/lodash-es/_cloneRegExp.js","../node_modules/lodash-es/_cloneSymbol.js","../node_modules/lodash-es/_cloneTypedArray.js","../node_modules/lodash-es/_initCloneByTag.js","../node_modules/lodash-es/_initCloneObject.js","../node_modules/lodash-es/_baseIsMap.js","../node_modules/lodash-es/isMap.js","../node_modules/lodash-es/_baseIsSet.js","../node_modules/lodash-es/isSet.js","../node_modules/lodash-es/_baseClone.js","../node_modules/lodash-es/cloneDeep.js","../node_modules/lodash-es/_setCacheAdd.js","../node_modules/lodash-es/_setCacheHas.js","../node_modules/lodash-es/_SetCache.js","../node_modules/lodash-es/_arraySome.js","../node_modules/lodash-es/_cacheHas.js","../node_modules/lodash-es/_equalArrays.js","../node_modules/lodash-es/_mapToArray.js","../node_modules/lodash-es/_setToArray.js","../node_modules/lodash-es/_equalByTag.js","../node_modules/lodash-es/_equalObjects.js","../node_modules/lodash-es/_baseIsEqualDeep.js","../node_modules/lodash-es/_baseIsEqual.js","../node_modules/lodash-es/_baseIsMatch.js","../node_modules/lodash-es/_isStrictComparable.js","../node_modules/lodash-es/_getMatchData.js","../node_modules/lodash-es/_matchesStrictComparable.js","../node_modules/lodash-es/_baseMatches.js","../node_modules/lodash-es/_baseHasIn.js","../node_modules/lodash-es/_hasPath.js","../node_modules/lodash-es/hasIn.js","../node_modules/lodash-es/_baseMatchesProperty.js","../node_modules/lodash-es/_baseProperty.js","../node_modules/lodash-es/_basePropertyDeep.js","../node_modules/lodash-es/property.js","../node_modules/lodash-es/_baseIteratee.js","../node_modules/lodash-es/_arrayAggregator.js","../node_modules/lodash-es/_createBaseFor.js","../node_modules/lodash-es/_baseFor.js","../node_modules/lodash-es/_baseForOwn.js","../node_modules/lodash-es/_createBaseEach.js","../node_modules/lodash-es/_baseEach.js","../node_modules/lodash-es/_baseAggregator.js","../node_modules/lodash-es/_createAggregator.js","../node_modules/lodash-es/now.js","../node_modules/lodash-es/debounce.js","../node_modules/lodash-es/_assignMergeValue.js","../node_modules/lodash-es/isArrayLikeObject.js","../node_modules/lodash-es/_safeGet.js","../node_modules/lodash-es/toPlainObject.js","../node_modules/lodash-es/_baseMergeDeep.js","../node_modules/lodash-es/_baseMerge.js","../node_modules/lodash-es/mergeWith.js","../node_modules/lodash-es/_arrayIncludesWith.js","../node_modules/lodash-es/_baseMap.js","../node_modules/lodash-es/_baseValues.js","../node_modules/lodash-es/values.js","../node_modules/lodash-es/_baseIntersection.js","../node_modules/lodash-es/_castArrayLikeObject.js","../node_modules/lodash-es/intersection.js","../node_modules/lodash-es/isEqual.js","../node_modules/lodash-es/keyBy.js","../node_modules/lodash-es/merge.js","../node_modules/lodash-es/_baseSortBy.js","../node_modules/lodash-es/_compareAscending.js","../node_modules/lodash-es/_compareMultiple.js","../node_modules/lodash-es/_baseOrderBy.js","../node_modules/lodash-es/sortBy.js","../node_modules/lodash-es/throttle.js","../node_modules/lodash-es/_createSet.js","../node_modules/lodash-es/_baseUniq.js","../node_modules/lodash-es/uniqWith.js","../src/utils/geojson.ts","../node_modules/@turf/centroid/dist/esm/index.js","../src/core/features/feature-data.ts","../src/utils/guards/events/features.ts","../src/types/events/control.ts","../src/utils/guards/events/control.ts","../src/utils/guards/events/index.ts","../src/core/events/listeners/base.ts","../src/core/map/base/source.ts","../src/types/events/helper.ts","../src/utils/guards/events/helper.ts","../src/modes/base-action.ts","../src/utils/guards/events/draw.ts","../src/modes/draw/base.ts","../node_modules/robust-predicates/esm/util.js","../node_modules/robust-predicates/esm/orient2d.js","../node_modules/point-in-polygon-hao/dist/esm/index.js","../node_modules/@turf/boolean-point-in-polygon/dist/esm/index.js","../node_modules/sweepline-intersections/dist/sweeplineIntersections.esm.js","../node_modules/@turf/line-intersect/dist/esm/index.js","../node_modules/@turf/clone/dist/esm/index.js","../node_modules/@turf/boolean-clockwise/dist/esm/index.js","../node_modules/@turf/rewind/dist/esm/index.js","../tests/types.ts","../node_modules/@turf/center/dist/esm/index.js","../node_modules/@turf/jsts/dist/jsts.min.js","../node_modules/d3-geo/src/adder.js","../node_modules/d3-geo/src/math.js","../node_modules/d3-geo/src/noop.js","../node_modules/d3-geo/src/stream.js","../node_modules/d3-geo/src/area.js","../node_modules/d3-geo/src/cartesian.js","../node_modules/d3-geo/src/bounds.js","../node_modules/d3-geo/src/compose.js","../node_modules/d3-geo/src/rotation.js","../node_modules/d3-geo/src/circle.js","../node_modules/d3-geo/src/clip/buffer.js","../node_modules/d3-geo/src/clip/line.js","../node_modules/d3-geo/src/pointEqual.js","../node_modules/d3-geo/src/clip/polygon.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/merge.js","../node_modules/d3-geo/src/clip/extent.js","../node_modules/d3-geo/src/polygonContains.js","../node_modules/d3-geo/src/length.js","../node_modules/d3-geo/src/identity.js","../node_modules/d3-geo/src/path/area.js","../node_modules/d3-geo/src/path/bounds.js","../node_modules/d3-geo/src/path/measure.js","../node_modules/d3-geo/src/clip/index.js","../node_modules/d3-geo/src/clip/antimeridian.js","../node_modules/d3-geo/src/clip/circle.js","../node_modules/d3-geo/src/transform.js","../node_modules/d3-geo/src/projection/fit.js","../node_modules/d3-geo/src/projection/resample.js","../node_modules/d3-geo/src/projection/index.js","../node_modules/d3-geo/src/projection/azimuthal.js","../node_modules/d3-geo/src/projection/azimuthalEqualArea.js","../node_modules/d3-geo/src/projection/azimuthalEquidistant.js","../node_modules/d3-geo/src/projection/equirectangular.js","../node_modules/@turf/buffer/dist/esm/index.js","../src/utils/features.ts","../src/types/map/index.ts","../src/utils/guards/map.ts","../src/core/features/index.ts","../src/core/options/layers/shapes/circle-marker.ts","../src/core/options/layers/shapes/control-marker.ts","../src/core/options/layers/shapes/line.ts","../src/core/options/layers/shapes/marker.ts","../src/core/options/layers/shapes/polygon.ts","../src/core/options/layers/shapes/secondary-marker.ts","../src/core/options/layers/shapes/snap-guides.ts","../src/core/options/layers/shapes/text-marker.ts","../src/core/options/layers/variables.ts","../src/core/options/layers/style.ts","../src/core/options/defaults/free.ts","../src/core/options/defaults/index.ts","../node_modules/esm-env/false.js","../node_modules/svelte/src/internal/shared/utils.js","../node_modules/svelte/src/internal/client/constants.js","../node_modules/svelte/src/internal/client/dom/task.js","../node_modules/svelte/src/internal/client/reactivity/equality.js","../node_modules/svelte/src/internal/client/errors.js","../node_modules/svelte/src/internal/flags/index.js","../node_modules/svelte/src/constants.js","../node_modules/svelte/src/internal/shared/errors.js","../node_modules/svelte/src/internal/client/context.js","../node_modules/svelte/src/internal/client/reactivity/sources.js","../node_modules/svelte/src/internal/client/reactivity/deriveds.js","../node_modules/svelte/src/internal/client/dom/hydration.js","../node_modules/svelte/src/internal/client/proxy.js","../node_modules/svelte/src/internal/client/dom/operations.js","../node_modules/svelte/src/internal/client/runtime.js","../node_modules/svelte/src/internal/client/reactivity/effects.js","../node_modules/svelte/src/utils.js","../node_modules/svelte/src/internal/client/dom/elements/misc.js","../node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js","../node_modules/svelte/src/internal/client/dom/elements/events.js","../node_modules/svelte/src/internal/client/dom/reconciler.js","../node_modules/svelte/src/internal/client/dom/template.js","../node_modules/svelte/src/internal/client/render.js","../node_modules/svelte/src/internal/client/dom/blocks/if.js","../node_modules/svelte/src/internal/client/dom/blocks/each.js","../node_modules/svelte/src/internal/client/dom/blocks/html.js","../node_modules/svelte/src/internal/shared/attributes.js","../node_modules/svelte/src/internal/client/dom/elements/class.js","../node_modules/svelte/src/internal/client/dom/elements/attributes.js","../node_modules/svelte/src/internal/client/dom/elements/bindings/input.js","../node_modules/svelte/src/internal/client/dom/elements/bindings/select.js","../node_modules/svelte/src/internal/client/dom/legacy/lifecycle.js","../node_modules/svelte/src/internal/client/reactivity/store.js","../node_modules/svelte/src/index-client.js","../node_modules/svelte/src/store/utils.js","../node_modules/svelte/src/store/shared/index.js","../src/core/controls/components/controls-store.ts","../node_modules/svelte/src/version.js","../node_modules/svelte/src/internal/disclose-version.js","../node_modules/svelte/src/internal/flags/legacy.js","../src/core/controls/components/action-option.svelte","../src/core/controls/components/sub-action.svelte","../src/core/controls/components/control-menu.svelte","../node_modules/dompurify/dist/purify.es.mjs","../src/core/controls/components/action-control.svelte","../src/core/controls/components/gm-controls.svelte","../src/core/map/base/control.ts","../src/core/controls/index.ts","../src/core/events/forwarder.ts","../src/core/events/bus.ts","../src/core/events/listeners/controls.ts","../src/modes/edit/base.ts","../src/modes/helpers/base.ts","../src/utils/guards/events/edit.ts","../src/utils/guards/modes.ts","../src/core/events/listeners/draw.ts","../src/core/events/listeners/edit.ts","../src/core/events/listeners/helper.ts","../src/core/events/index.ts","../src/core/map/base/index.ts","../src/core/map/base/layer.ts","../src/core/map/maplibre/layer.ts","../src/core/map/maplibre/marker.ts","../src/core/map/base/popup.ts","../src/core/map/maplibre/popup.ts","../src/core/map/maplibre/helper.ts","../src/core/map/maplibre/source.ts","../src/core/map/maplibre/types.ts","../src/core/map/maplibre/guards.ts","../src/core/map/maplibre/index.ts","../src/core/map/index.ts","../src/core/options/utils.ts","../src/core/options/index.ts","../src/modes/draw/base-circle.ts","../src/modes/draw/circle-marker.ts","../src/utils/behavior.ts","../src/modes/draw/circle.ts","../src/assets/images/markers/default-shape-marker.svg","../src/utils/dom.ts","../node_modules/@turf/line-to-polygon/dist/esm/index.js","../src/utils/guards/interfaces.ts","../src/utils/draw/line-drawer.ts","../src/modes/draw/line.ts","../src/modes/draw/marker.ts","../node_modules/@turf/combine/dist/esm/index.js","../node_modules/rbush/node_modules/quickselect/index.js","../node_modules/rbush/index.js","../node_modules/@turf/area/dist/esm/index.js","../node_modules/@turf/unkink-polygon/dist/esm/index.js","../src/modes/draw/polygon.ts","../src/modes/draw/rectangle.ts","../src/modes/draw/text-marker.ts","../src/modes/draw/index.ts","../src/modes/edit/base-drag.ts","../src/utils/number.ts","../src/modes/edit/change.ts","../src/utils/guards/index.ts","../node_modules/@turf/boolean-disjoint/dist/esm/index.js","../node_modules/@turf/boolean-intersects/dist/esm/index.js","../node_modules/bignumber.js/bignumber.mjs","../node_modules/splaytree-ts/dist/esm/index.js","../node_modules/polyclip-ts/dist/esm/index.js","../node_modules/@turf/difference/dist/esm/index.js","../node_modules/@turf/geojson-rbush/dist/esm/index.js","../node_modules/@turf/square/dist/esm/index.js","../node_modules/@turf/truncate/dist/esm/index.js","../node_modules/@turf/line-segment/dist/esm/index.js","../node_modules/@turf/nearest-point-on-line/dist/esm/index.js","../node_modules/@turf/line-split/dist/esm/index.js","../src/modes/edit/cut.ts","../src/modes/edit/delete.ts","../src/modes/edit/drag.ts","../node_modules/@turf/bearing/dist/esm/index.js","../node_modules/@turf/rhumb-bearing/dist/esm/index.js","../node_modules/@turf/rhumb-distance/dist/esm/index.js","../node_modules/@turf/rhumb-destination/dist/esm/index.js","../node_modules/@turf/transform-rotate/dist/esm/index.js","../src/modes/edit/rotate.ts","../src/modes/edit/index.ts","../src/utils/collections.ts","../src/modes/helpers/shape-markers.ts","../src/modes/helpers/snapping.ts","../src/modes/helpers/zoom-to-features.ts","../src/modes/helpers/index.ts","../src/utils/draw/marker-pointer.ts","../src/core/options/shapes.ts","../node_modules/@turf/union/dist/esm/index.js","../src/modes/edit/base-group.ts","../src/main.ts"],"sourcesContent":["export default \"data:image/png;base64,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\"","import type { SystemControls } from '@/main.ts';\n\n\nexport const systemControls: SystemControls = {\n  draw: {\n    marker: {\n      type: 'draw',\n      eventType: 'toggle',\n      targetMode: 'marker',\n      settings: {\n        exclusive: true,\n      },\n    },\n    circle_marker: {\n      type: 'draw',\n      eventType: 'toggle',\n      targetMode: 'circle_marker',\n      settings: {\n        exclusive: true,\n      },\n    },\n    text_marker: {\n      type: 'draw',\n      eventType: 'toggle',\n      targetMode: 'text_marker',\n      settings: {\n        exclusive: true,\n      },\n    },\n    circle: {\n      type: 'draw',\n      eventType: 'toggle',\n      targetMode: 'circle',\n      settings: {\n        exclusive: true,\n      },\n    },\n    line: {\n      type: 'draw',\n      eventType: 'toggle',\n      targetMode: 'line',\n      settings: {\n        exclusive: true,\n      },\n    },\n    rectangle: {\n      type: 'draw',\n      eventType: 'toggle',\n      targetMode: 'rectangle',\n      settings: {\n        exclusive: true,\n      },\n    },\n    polygon: {\n      type: 'draw',\n      eventType: 'toggle',\n      targetMode: 'polygon',\n      settings: {\n        exclusive: true,\n      },\n    },\n    freehand: {\n      type: 'draw',\n      eventType: 'toggle',\n      targetMode: 'freehand',\n      settings: {\n        exclusive: true,\n      },\n    },\n    custom_shape: {\n      type: 'draw',\n      eventType: 'toggle',\n      targetMode: 'custom_shape',\n      settings: {\n        exclusive: true,\n      },\n    },\n  },\n  edit: {\n    drag: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'drag',\n      settings: {\n        exclusive: true,\n      },\n    },\n    change: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'change',\n      settings: {\n        exclusive: true,\n      },\n    },\n    rotate: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'rotate',\n      settings: {\n        exclusive: true,\n      },\n    },\n    scale: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'scale',\n      settings: {\n        exclusive: true,\n      },\n    },\n    copy: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'copy',\n      settings: {\n        exclusive: true,\n      },\n    },\n    cut: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'cut',\n      settings: {\n        exclusive: true,\n      },\n    },\n    split: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'split',\n      settings: {\n        exclusive: true,\n      },\n    },\n    union: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'union',\n      settings: {\n        exclusive: true,\n      },\n    },\n    difference: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'difference',\n      settings: {\n        exclusive: true,\n      },\n    },\n    line_simplification: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'line_simplification',\n      settings: {\n        exclusive: true,\n      },\n    },\n    lasso: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'lasso',\n      settings: {\n        exclusive: true,\n      },\n    },\n    delete: {\n      type: 'edit',\n      eventType: 'toggle',\n      targetMode: 'delete',\n      settings: {\n        exclusive: true,\n      },\n    },\n  },\n  helper: {\n    shape_markers: {\n      type: 'helper',\n      eventType: 'toggle',\n      targetMode: 'shape_markers',\n      settings: {\n        exclusive: false,\n        enabledBy: [\n          'drag',\n          'change',\n          'rotate',\n          'scale',\n          'line_simplification',\n        ],\n      },\n    },\n    snapping: {\n      type: 'helper',\n      eventType: 'toggle',\n      targetMode: 'snapping',\n      settings: {\n        exclusive: false,\n      },\n    },\n    pin: {\n      type: 'helper',\n      eventType: 'toggle',\n      targetMode: 'pin',\n      settings: {\n        exclusive: false,\n      },\n    },\n    snap_guides: {\n      type: 'helper',\n      eventType: 'toggle',\n      targetMode: 'snap_guides',\n      settings: {\n        exclusive: false,\n      },\n    },\n    measurements: {\n      type: 'helper',\n      eventType: 'toggle',\n      targetMode: 'measurements',\n      settings: {\n        exclusive: false,\n      },\n    },\n    auto_trace: {\n      type: 'helper',\n      eventType: 'toggle',\n      targetMode: 'auto_trace',\n      settings: {\n        exclusive: false,\n      },\n    },\n    geofencing: {\n      type: 'helper',\n      eventType: 'toggle',\n      targetMode: 'geofencing',\n      settings: {\n        exclusive: false,\n      },\n    },\n    zoom_to_features: {\n      type: 'helper',\n      eventType: 'click',\n      targetMode: 'zoom_to_features',\n      settings: {\n        exclusive: false,\n      },\n    },\n    click_to_edit: {\n      type: 'helper',\n      eventType: 'toggle',\n      targetMode: 'click_to_edit',\n      settings: {\n        exclusive: false,\n      },\n    },\n  },\n};\n","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"m22.775 29.562 6.75-6.75-5.625-5.625-3.6 3.6-3.15-3.15 3.6-3.6-5.626-5.55-6.75 6.75zm25.95 26.101 6.75-6.825-5.624-5.625-3.6 3.6-3.15-3.15 3.6-3.6-5.55-5.55-6.75 6.75zm.6-46.126 5.25 5.25ZM16.7 59.039H5v-11.7l14.55-14.551L2 15.237l13.05-13.2 17.7 17.624L46.1 6.312q.676-.676 1.5-.976.826-.3 1.65-.3.826 0 1.65.3.826.3 1.5.976l5.326 5.325q.675.675.975 1.5.3.825.3 1.65t-.3 1.65q-.3.825-.975 1.5l-13.35 13.35L62 48.913l-13.125 13.05-17.551-17.55Zm-7.2-4.5h5.25l29.476-29.552-5.25-5.25L9.5 49.288Zm32.1-32.178-2.625-2.625 5.25 5.25Z\\\"/>\\n</svg>\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"none\\\" d=\\\"M0 0h24v24H0Z\\\"/>\\n    <circle cx=\\\"32\\\" cy=\\\"32\\\" r=\\\"26\\\" fill=\\\"currentColor\\\" fill-opacity=\\\".15\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"7\\\"/>\\n    <circle cx=\\\"32\\\" cy=\\\"32\\\" r=\\\"5\\\" fill=\\\"currentColor\\\"/>\\n</svg>\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"none\\\" d=\\\"M0 0h24v24H0Z\\\"/>\\n    <circle cx=\\\"32\\\" cy=\\\"32\\\" r=\\\"26\\\" fill=\\\"currentColor\\\" fill-opacity=\\\".15\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"7\\\"/>\\n    <path stroke=\\\"currentColor\\\" stroke-dasharray=\\\"3\\\" stroke-width=\\\"4\\\" d=\\\"M6 32h52M32 6v52\\\"/>\\n</svg>\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path\\n            fill=\\\"currentColor\\\"\\n            d=\\\"M32 61.4 19.85 49.42l3.28-3.235 6.634 6.542V34.205H10.98l6.26 6.174-3.279 3.234L2.185 32l11.852-11.686 3.28 3.234-6.336 6.247h18.783V11.273l-6.261 6.174-3.28-3.234L32 2.6l11.777 11.613-3.28 3.234-6.26-6.174v18.522h18.782l-6.26-6.174 3.279-3.234L61.815 32 50.038 43.613l-3.28-3.234 6.261-6.174H34.236v18.522l6.634-6.542 3.28 3.234z\\\"\\n    />\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <line x1=\\\"8\\\" y1=\\\"50\\\" x2=\\\"24\\\" y2=\\\"20\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"8\\\"/>\\n    <line x1=\\\"24\\\" y1=\\\"20\\\" x2=\\\"40\\\" y2=\\\"54\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"8\\\"/>\\n    <line x1=\\\"40\\\" y1=\\\"54\\\" x2=\\\"54\\\" y2=\\\"10\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"8\\\"/>\\n    <circle cx=\\\"8\\\" cy=\\\"50\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n    <circle cx=\\\"24\\\" cy=\\\"20\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n    <circle cx=\\\"40\\\" cy=\\\"54\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n    <circle cx=\\\"54\\\" cy=\\\"10\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"currentColor\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path d=\\\"M32 62.81s23.107-21.898 23.107-38.512a23.107 23.107 0 0 0-46.214 0C8.893 40.912 32 62.809 32 62.809m0-26.958a11.554 11.554 0 1 1 0-23.107 11.554 11.554 0 0 1 0 23.107\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <!-- Polygon -->\\n    <polygon points=\\\"8,28 40,6 55,35 51,55 18,54\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"8\\\"/>\\n\\n    <!-- Vertex Circles -->\\n    <circle cx=\\\"9\\\" cy=\\\"28\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n    <circle cx=\\\"40\\\" cy=\\\"8\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n    <circle cx=\\\"55\\\" cy=\\\"35\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n    <circle cx=\\\"50\\\" cy=\\\"55\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n    <circle cx=\\\"18\\\" cy=\\\"54\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <!-- Rectangle -->\\n    <polygon points=\\\"10,10 54,10 54,54 10,54\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"8\\\"/>\\n\\n    <!-- Vertex Circles -->\\n    <circle cx=\\\"10\\\" cy=\\\"10\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n    <circle cx=\\\"54\\\" cy=\\\"10\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n    <circle cx=\\\"54\\\" cy=\\\"54\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n    <circle cx=\\\"10\\\" cy=\\\"54\\\" r=\\\"6\\\" fill=\\\"white\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"4.5\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M39.063 42.14 22.288 28.12 7.96 44.603l11.338 9.854h9.059zm-3.498 12.317h25.941v5.465h-44.25L4.377 48.726a5.465 5.465 0 0 1-.542-7.711L34.311 5.958a5.465 5.465 0 0 1 7.712-.538l16.496 14.343a5.465 5.465 0 0 1 .541 7.709z\\\"/>\\n</svg>\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M58.709 17.724c-.3-.6-.601-.901-.902-1.502l-.3-.601c-.301-.601-.602-.902-.902-1.503l-.3-.601c-.301-.601-.602-.902-1.203-1.503l-.6-.901 8.414-9.317-13.825.3-13.824.301 1.502 13.524 1.503 13.524 9.617-10.819v.3l.3.602c.301.3.301.6.602.6l.3.602c0 .6 0 .901.3 1.202.903 2.104 1.804 4.208 2.105 6.311.6 4.208 0 8.716-1.804 12.623l-.6 1.202-.301.3-.902 1.503-.3.601c-.601.601-1.202 1.503-1.804 2.104-1.502 1.503-3.305 3.005-5.109 3.907-1.803 1.202-3.907 1.803-6.311 2.404-2.104.301-4.508.601-6.612.301-2.404-.3-4.508-.902-6.612-1.503-2.103-.901-3.907-2.104-5.71-3.606l-1.202-1.202-.601-.902-.601-.601c-.3-.3-.601-.601-.601-.902l-.902-1.202-.3-.3-.602-1.203c0-.3-.3-.3-.3-.6l-.902-1.503-.3-.601-.902-2.705q-.901-3.607-.901-7.213V27.04c0-.601 0-.901.3-1.202l.3-1.803.602-1.803c.901-2.405 2.103-4.509 3.606-6.612q2.254-3.156 5.41-5.41c.6-.3.901-1.202.3-1.803-.3-.3-.6-.601-.901-.601h-.601l-.3.3c-2.706 1.202-4.81 3.006-6.913 4.809-2.104 2.104-3.607 4.508-5.11 7.213-2.704 5.41-3.606 11.42-2.404 17.431.3 1.503.601 2.705.902 4.207l.902 2.405c.3.3.6.6.6 1.202l.602 1.202c0 .3.3.601.3.601l.902 1.503c.3.601.6.901.901 1.503l.301.6c.3.301.601.902.902 1.203l2.103 1.803c2.104 2.104 4.809 3.907 7.514 5.41q4.057 2.254 9.016 2.705c1.503.3 3.005.3 4.508.3 1.803 0 3.306 0 4.809-.3 3.005-.602 6.311-1.503 9.016-3.006l.6-.3c.602-.3.903-.601 1.504-.902l2.103-1.202c.601-.3.902-.601 1.203-.902l.6-.6a3.622 3.622 0 0 0 1.503-1.504l.3-.3c.902-.902 2.105-2.104 2.706-3.005l1.803-2.705 1.202-1.804c3.005-5.71 4.208-12.322 3.306-18.633-.601-3.306-1.503-6.612-3.005-9.317z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path stroke=\\\"currentColor\\\"\\n          stroke-width=\\\"3.8\\\"\\n          d=\\\"m2.155 32.345 42.35-29.82M18.963 60.919l42.35-29.82M31.443 2.332l29.82 42.35M2.207 19.515l29.82 42.35\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"none\\\" d=\\\"M0 0h24v24H0Z\\\"/>\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M6.962 3.385h50.076a3.577 3.577 0 0 1 3.577 3.577v50.076a3.577 3.577 0 0 1-3.577 3.577H6.962a3.577 3.577 0 0 1-3.577-3.577V6.962a3.577 3.577 0 0 1 3.577-3.577Zm3.577 7.154v42.922h42.922V10.539Zm7.154 7.154h28.614v7.153H17.693Zm0 14.307h28.614v7.154H17.693Z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M16.862 2.13 7.297 21.17a2.091 2.091 0 0 0-.193 1.288l4.107 24.166-7.618 13.15 3.619 2.096 7.997-13.804a2.091 2.091 0 0 0 .252-1.397l-4.119-24.235 9.256-18.428Zm40.876.255-1.25 2.49 2.668 1.341 1.25-2.49zm-2.593 5.16-2.68 5.337 2.668 1.341 2.682-5.338zm-4.022 8.007-2.682 5.338 2.67 1.34 2.681-5.337zm-18.67 5.83.055 6.984-11.118.087.056 7.242 11.12-.088.054 6.985 10.521-10.688zm18.927 2.817-2.945.5 1.001 5.89 2.945-.5zm1.502 8.835-2.945.5 1.001 5.89 2.945-.5zm1.502 8.834-2.945.5.74 4.355-.24.413 2.585 1.499.51-.881a1.494 1.494 0 0 0 .18-1zm-3.943 7.854-2.994 5.17 2.584 1.496 2.994-5.169zm-4.492 7.754-1.497 2.584 2.584 1.497 1.498-2.584z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M41.687.926a2.173 2.173 0 0 0-.433.045c-4.075.232-7.358 3.618-7.358 7.747 0 .084.01.164.012.246l-12.987 4.261a7.842 7.842 0 0 0-6.126-3.563 2.173 2.173 0 0 0-.424-.043 2.173 2.173 0 0 0-.435.044c-4.073.232-7.358 3.618-7.358 7.747 0 3.143 1.901 5.869 4.604 7.097L8.377 35.11a2.173 2.173 0 0 0-.028.007C4.274 35.35.99 38.736.99 42.865c0 4.277 3.514 7.791 7.791 7.791 2.497 0 4.727-1.201 6.157-3.048l12.887 6.235a7.67 7.67 0 0 0-.139 1.44c0 4.277 3.515 7.791 7.792 7.791 4.278 0 7.793-3.514 7.793-7.792a7.67 7.67 0 0 0-1.885-5.027l.508-1.05-3.263-1.579 4.505-29.969.888-.29-.368-1.122a7.78 7.78 0 0 0 2.28-1.018l.447 1.364 4.72-1.547-.774-2.359-2.522.826a7.73 7.73 0 0 0 1.672-4.793c0-4.132-3.288-7.52-7.368-7.748a2.173 2.173 0 0 0-.424-.044zm0 4.346a3.414 3.414 0 0 1 3.447 3.446 3.415 3.415 0 0 1-3.446 3.447 3.414 3.414 0 0 1-3.446-3.447 3.414 3.414 0 0 1 3.445-3.446zm20.076 3.725a1.242 1.242 0 0 0-.382.062l-1.612.528.578 1.76-.293 1.94 2.456.37.486-3.234a1.242 1.242 0 0 0-1.233-1.426Zm-4.354 1.364-4.72 1.548.775 2.36 4.719-1.548-.774-2.36zm-22.153 2.732a7.877 7.877 0 0 0 3.735 2.922l-.062.408-.397.13.26.793-4.255 28.298-3.818-1.847-1.082 2.235 3.718 1.798a7.841 7.841 0 0 0-3.543 2.147l-13.272-6.42c.02-.23.035-.458.035-.692 0-2.888-1.609-5.408-3.969-6.745l2.912-11.012c3.74-.562 6.645-3.81 6.645-7.698l-.001-.02 13.094-4.297zm-20.885.87a3.414 3.414 0 0 1 3.445 3.447 3.414 3.414 0 0 1-3.445 3.447 3.414 3.414 0 0 1-3.447-3.447 3.414 3.414 0 0 1 3.446-3.446zm45.314 1.78-.738 4.912 2.456.37.738-4.912zM36.172 17.33l-1.793.588a1.242 1.242 0 0 0-.813.862l-.788 2.978 2.401.634.615-2.325 1.15-.377-.773-2.36zm22.405 5.781-.737 4.913 2.455.368.739-4.91zm-26.432 1.048-1.27 4.802 2.401.634 1.27-4.802zm25.325 6.32-.739 4.913 2.457.368.738-4.911-2.456-.37zm-27.23.882-1.27 4.802 2.402.634 1.27-4.801zm26.124 6.486-.739 4.91 2.455.37.74-4.912-2.457-.368zm-28.027.717-1.27 4.803 2.4.634 1.27-4.802-2.401-.634zm-19.555.856a3.414 3.414 0 0 1 3.446 3.446 3.414 3.414 0 0 1-3.446 3.447 3.414 3.414 0 0 1-3.445-3.447 3.414 3.414 0 0 1 3.445-3.446zm46.473 5.795-.739 4.91 2.456.37.74-4.911zm-11.124 5.072-1.082 2.236 4.47 2.164 1.083-2.237zm-8.651 1.55a3.414 3.414 0 0 1 3.445 3.446 3.414 3.414 0 0 1-3.445 3.447 3.414 3.414 0 0 1-3.447-3.447 3.414 3.414 0 0 1 3.446-3.446zm18.669.745-.358 2.378-2.953-1.428-1.083 2.236 4.472 2.163.541-1.117 1.228.183.608-4.046-2.455-.37z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <circle cx=\\\"49.754\\\" cy=\\\"50.219\\\" r=\\\"10.098\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"5.1\\\"/>\\n    <path fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"4.491\\\"\\n          d=\\\"M44.516 26.657H17.842l6.669-11.55 6.668-11.55 6.669 11.55Z\\\"/>\\n    <path fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"6\\\"\\n          stroke-width=\\\"4.683\\\" d=\\\"M4.481 40.605h20.761v19.093H4.481z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path stroke=\\\"currentColor\\\" fill=\\\"currentColor\\\" stroke-width=\\\"2\\\"\\n          d=\\\"M44.095 2.247a2.285 2.285 0 0 0-.135.04L12.025 12.762a2.285 2.285 0 0 0-1.497 1.588l-7.772 29.4a2.285 2.285 0 0 0 1.213 2.641L35.397 61.6a2.285 2.285 0 0 0 2.873-.754l22.64-32.582a2.285 2.285 0 0 0 .05-2.534L46.6 3.23a2.285 2.285 0 0 0-2.504-.982ZM43.7 7.182l12.203 19.12-5.167 1.76 1.052 3.09 2.031-.693L38.07 53.122l.01-1.375-3.262-.023-.034 4.5-27.13-13.127 6.975-26.38Zm3.946 21.932-6.18 2.105 1.052 3.09 6.18-2.105zm-9.27 3.157-2.329.793a1.632 1.632 0 0 0-1.105 1.534l-.03 4.068 3.265.024.02-2.91 1.232-.419zm-3.488 9.66-.047 6.529 3.264.023.048-6.528z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"m41.478 7.967-.033 3.069c1.887.02 3.772.337 5.561.933l.97-2.913a21.337 21.337 0 0 0-6.498-1.09Zm-3.294.215a21.567 21.567 0 0 0-6.298 1.915l1.332 2.766a18.518 18.518 0 0 1 5.401-1.641zm12.836 2.155-1.402 2.73a18.497 18.497 0 0 1 4.572 3.312l2.16-2.179a21.548 21.548 0 0 0-5.331-3.863ZM22.783 13.06c-11.848 0-21.486 9.638-21.486 21.486 0 11.849 9.638 21.486 21.486 21.486a21.37 21.37 0 0 0 14.288-5.466c.003 0 .006 0 .009.002.04-.036.078-.075.117-.11l.077-.072a21.285 21.285 0 0 0 1.51-1.532 22.128 22.128 0 0 0 .867-1.025 19.557 19.557 0 0 1-.88-.095c-.196-.025-.389-.058-.582-.09-.097-.015-.194-.028-.29-.045a18.378 18.378 0 0 1-1.576-.359l-.118-.03c-7.753-2.172-13.422-9.271-13.422-17.728a18.34 18.34 0 0 1 5.867-13.478c.1-.093.199-.185.3-.276.153-.136.31-.268.467-.4.097-.08.193-.163.291-.242.255-.203.514-.402.78-.592a21.534 21.534 0 0 0-1.76-.592l-.018-.005c-.176-.05-.355-.095-.533-.141-.132-.035-.263-.073-.397-.105-.213-.051-.43-.095-.646-.14-.077-.016-.153-.035-.231-.05H26.9a21.37 21.37 0 0 0-4.118-.4Zm35.728 3.64-2.472 1.82a18.424 18.424 0 0 1 2.61 5.004l2.907-.986a21.474 21.474 0 0 0-3.045-5.839Zm3.864 9.034-3.022.534c.328 1.86.37 3.772.118 5.642l3.042.409a21.448 21.448 0 0 0-.138-6.585zm-3.496 8.943a18.539 18.539 0 0 1-2.416 5.104l2.543 1.72a21.586 21.586 0 0 0 2.815-5.952zM54.703 42a18.288 18.288 0 0 1-4.428 3.492l1.505 2.675a21.348 21.348 0 0 0 5.173-4.08zm-6.995 4.69a18.512 18.512 0 0 1-5.526 1.158l.163 3.065a21.56 21.56 0 0 0 6.444-1.35z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"currentColor\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path d=\\\"M44.698 2.661a1.644 1.644 0 0 1 2.328 0l9.866 9.866a1.644 1.644 0 0 1 0 2.329L24.004 47.744a1.644 1.644 0 0 1-.552.362L7.008 54.683a1.644 1.644 0 0 1-2.138-2.138l6.578-16.444a1.644 1.644 0 0 1 .362-.552zm-3.089 7.742 7.542 7.541 4.252-4.252-7.541-7.541zm5.216 9.866-7.54-7.54-21.378 21.376v.964h1.644a1.644 1.644 0 0 1 1.645 1.644v1.645h1.644a1.644 1.644 0 0 1 1.645 1.644v1.644h.963zM14.724 37.29l-.35.348L9.35 50.204l12.566-5.025.349-.35a1.644 1.644 0 0 1-1.07-1.538v-1.645h-1.644a1.644 1.644 0 0 1-1.644-1.644v-1.644h-1.644a1.644 1.644 0 0 1-1.54-1.07\\\"/>\\n    <path stroke=\\\"currentColor\\\" stroke-width=\\\"5.107\\\"\\n          d=\\\"M6.298 59.53c3.44-1.692 6.88-3.384 10.558-4.319s7.594-1.111 11.719-.298c4.125.814 8.459 2.617 13.483 2.655 5.023.038 10.737-1.689 16.45-3.415\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M31.226 17.87c-4.69 0-8.532 3.832-8.532 8.508 0 1.812.58 3.495 1.558 4.88l5.932 10.255c.831 1.085 1.383.879 2.074-.058l6.543-11.135c.132-.24.236-.493.327-.753a8.396 8.396 0 0 0 .628-3.19c0-4.675-3.841-8.506-8.53-8.506zm0 3.987a4.5 4.5 0 0 1 4.532 4.52 4.5 4.5 0 0 1-4.532 4.521 4.5 4.5 0 0 1-4.534-4.52 4.5 4.5 0 0 1 4.533-4.52z\\\"/>\\n    <path fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"6\\\"\\n          stroke-width=\\\"5\\\" d=\\\"M8.97 53.509 4.423 19.145 35.698 4.199l23.88 25.127L43.06 59.801Z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <ellipse cx=\\\"4.907\\\" cy=\\\"-32.051\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-dasharray=\\\"13.7543, 6.87718\\\"\\n             stroke-width=\\\"5.489\\\" rx=\\\"20.4\\\" ry=\\\"13.713\\\" transform=\\\"matrix(-.71127 .70292 -.86047 -.5095 0 0)\\\"/>\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M34.597 25.275a1.934 1.934 0 0 0-2.04 2.165l2.922 31.37c.188 1.523 1.989 2.235 3.165 1.249l6.169-5.004 2.765 4.79c1.59 2.756 4.115 3.431 6.87 1.841 2.756-1.59 3.433-4.114 1.841-6.87l-2.755-4.773 7.31-2.803c1.443-.525 1.728-2.44.503-3.365L35.64 25.66a1.93 1.93 0 0 0-1.042-.383z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M1.947 25.554c-2.176 3.77-.867 8.656 2.903 10.832 2.126 1.229 4.607 1.346 6.757.539l8.252 12.152a7.79 7.79 0 0 0-.701 1.005c-2.176 3.77-.867 8.656 2.903 10.833 3.77 2.177 8.655.867 10.832-2.903 2.1-3.64.93-8.294-2.543-10.572a2.211 2.211 0 0 0-.36-.26 2.211 2.211 0 0 0-.404-.181 7.955 7.955 0 0 0-6.086-.432l-8.348-12.292c.19-.252.369-.512.53-.79 1.457-2.526 1.339-5.537-.03-7.907l8.202-8.256c3.494 1.335 7.562.025 9.575-3.229l13.899 2.913c.266 2.435 1.634 4.721 3.899 6.03 3.77 2.176 8.655.866 10.832-2.904 2.101-3.64.93-8.294-2.543-10.572a2.211 2.211 0 0 0-.36-.26 2.211 2.211 0 0 0-.403-.181c-3.71-1.87-8.328-.556-10.429 3.083-.084.147-.155.297-.228.446l-13.5-2.83c-.053-2.55-1.329-5.023-3.58-6.499a2.211 2.211 0 0 0-.358-.259 2.211 2.211 0 0 0-.405-.181c-3.708-1.87-8.326-.556-10.428 3.083-1.61 2.79-1.307 6.19.486 8.652l-7.84 7.892a2.211 2.211 0 0 0-.094-.036c-3.71-1.87-8.328-.556-10.429 3.084zm3.83 2.211a3.473 3.473 0 0 1 4.79-1.282 3.472 3.472 0 0 1 1.284 4.789 3.473 3.473 0 0 1-4.79 1.284 3.475 3.475 0 0 1-1.283-4.79ZM23.656 8.173a3.474 3.474 0 0 1 4.79-1.283 3.472 3.472 0 0 1 1.283 4.79 3.473 3.473 0 0 1-4.789 1.284 3.475 3.475 0 0 1-1.284-4.791zm-.666 44.12a3.474 3.474 0 0 1 4.79-1.283 3.472 3.472 0 0 1 1.283 4.79 3.473 3.473 0 0 1-4.79 1.284 3.475 3.475 0 0 1-1.283-4.791zm29.166-37.88a3.474 3.474 0 0 1 4.79-1.283 3.472 3.472 0 0 1 1.283 4.79 3.473 3.473 0 0 1-4.79 1.284 3.475 3.475 0 0 1-1.283-4.791z\\\"/>\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M12.9 13.516c-.63.177-.685.37-.88.95l-1.069 3.18 2.995 1.006.844-2.506 2.074-.882-1.236-2.908zm19.209 5.25 4.378 4.554 2.277-2.19-4.379-4.554zm8.132 3.106 1.441 2.812 5.623-2.882-1.441-2.812zM5.448 46.082l3.144.304.608-6.29-3.145-.303zm4.623 3.728 5.762 2.592 1.297-2.88-5.762-2.593z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M1.717 38.645a2.675 2.668 79.7 0 0-.307 3.769L16.754 60.55a2.675 2.668 79.7 0 0 3.76.312l41.769-35.508a2.675 2.668 79.7 0 0 .307-3.769L47.246 3.45a2.675 2.668 79.7 0 0-3.76-.312zm5.486 2.352 37.702-32.05 11.892 14.056-2.717 2.31-4.458-5.269-2.033 1.729 4.457 5.269-3.11 2.643-4.457-5.268-2.034 1.728 4.458 5.27-3.106 2.64-4.458-5.27-2.033 1.73 4.457 5.268-3.11 2.644-6.194-7.32-2.033 1.728 6.193 7.32-3.11 2.645-4.457-5.269-2.034 1.729 4.458 5.268-3.106 2.64-4.458-5.268-2.033 1.73 4.457 5.268-3.11 2.643-4.457-5.268-2.034 1.729 4.458 5.268-2.098 1.783z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"currentColor\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path d=\\\"M7.839 34.833c-7.104-9.763-5.332-23.33 4.2-30.266C21.572-2.369 35.03.123 42.13 9.882L56.166 29.17c7.098 9.755 5.329 23.325-4.204 30.262-9.533 6.936-22.989 4.444-30.09-5.315L7.841 34.836Zm5.063-25.476c-6.079 5.766-7.006 15.598-1.634 22.98l.778 1.07 12.002-8.732zm3.43-2.495L27.476 22.18l12.002-8.733-.781-1.073c-5.37-7.38-15.01-9.522-22.367-5.512m25.643 10.014L14.54 36.836l10.762 14.79c5.818 7.997 16.653 9.842 24.163 4.378 7.51-5.465 9.088-16.342 3.267-24.342z\\\"/>\\n</svg>\\n\"","export default \"﻿<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M42.012 2.106a4.092 4.092 0 0 0-5.741.735 4.092 4.092 0 0 0 .572 5.607L23.964 23.45a8.185 8.185 0 0 0-10.458 2.142l5.18 4.005 5.454 4.218L7.87 59.22a1.124 7.304 37.712 0 0 1.54 1.19l20.494-22.138 5.454 4.217 5.18 4.005a8.185 8.185 0 0 0-.558-10.66l11.277-16.24a4.092 4.092 0 0 0 5.572-.858 4.092 4.092 0 0 0-.735-5.74z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <g fill=\\\"currentColor\\\" stroke=\\\"currentColor\\\">\\n        <path d=\\\"m37.62 5.028-.337.284-4.039 4.068 3.547 3.523L39.875 9.8l2.846.596 1.025-4.893-4.176-.877Zm9.995 6.393 9.787 2.053 1.026-4.895-9.787-2.05zm14.68 3.078 9.787 2.05 1.025-4.892-9.787-2.053zm-39.623 5.522 3.547 3.523 7.049-7.094-3.547-3.523zm-10.57 10.642 3.546 3.524 7.047-7.094-3.547-3.524zM1.529 41.306l3.55 3.523 7.046-7.096-3.547-3.523Zm70.977 4.027 3.91 3.115 3.44-4.387-1.118-6.55zM.947 48.319l5.617 8.274 4.137-2.809-5.617-8.273Zm62.211 8.744 3.91 3.116 6.233-7.82-3.91-3.116zM9.373 60.73l5.62 8.272 4.134-2.809-5.617-8.271zm44.438 8.067 3.91 3.115 6.232-7.82-3.91-3.117zM17.8 73.138l5.617 8.273 4.137-2.808-5.617-8.274zm26.662 7.388 3.91 3.116 6.232-7.82-3.91-3.116zm-18.236 5.022 5.617 8.273 4.136-2.81-5.617-8.272zm8.888 6.709 3.91 3.117 6.233-7.822-3.91-3.115z\\\"\\n              stroke-width=\\\"3\\\"\\n              transform=\\\"translate(2.517 1.586) scale(.60827)\\\"/>\\n        <path d=\\\"M22.672 20.02a3.5 3.5 0 0 0-2.506 1.034L-.514 41.872a3.5 3.5 0 0 0-.412 4.434L18 74.176a3.5 3.5 0 0 0 5.633.216l33.494-42.038a3.5 3.5 0 0 0-2.018-5.605l-31.742-6.654a3.5 3.5 0 0 0-.695-.074zm1.121 7.317 24.32 5.098-26.992 33.877L6.484 44.759Z\\\"\\n              stroke-width=\\\"3\\\"\\n              transform=\\\"translate(2.517 1.586) scale(.60827)\\\"/>\\n        <path d=\\\"m78.734 7.668 2.61 11.396-18.145 4.154 2.705 11.816L84.05 30.88l2.609 11.396L100 21.011Z\\\"\\n              stroke-width=\\\"3\\\"\\n              transform=\\\"translate(1.586 1.586) scale(.60827)\\\"/>\\n    </g>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\" fill-rule=\\\"evenodd\\\"\\n          d=\\\"M19.435 3.417c-4.478 0-8.96 1.693-12.343 5.076-6.766 6.766-6.766 17.913 0 24.679h.006c2.754 2.749 5.563 5.561 8.357 8.357 1.857 1.859 3.696 3.696 5.553 5.553l.949.949 1.892 1.898 9.496-9.49-1.898-1.898-6.502-6.502c-2.796-2.797-5.6-5.606-8.363-8.362-1.65-1.653-1.652-4.042 0-5.694 1.653-1.653 4.047-1.653 5.7 0l8.357 8.362 6.502 6.502 1.898 1.893 9.49-9.49-1.893-1.893-6.507-6.502-8.357-8.362c-3.384-3.383-7.86-5.076-12.337-5.076Zm0 2.68c3.789 0 7.577 1.432 10.439 4.294l8.357 8.362-5.694 5.694-8.357-8.362a6.7 6.7 0 0 0-9.496 0 6.697 6.697 0 0 0 0 9.49c2.76 2.755 5.566 5.564 8.363 8.362l-5.694 5.694c-2.795-2.796-5.601-5.607-8.357-8.357H8.99c-5.724-5.724-5.724-15.16 0-20.883 2.861-2.862 6.655-4.294 10.444-4.294ZM57.709 29.03a4.266 4.266 0 0 0-4.268 4.268c0 1.594.881 2.973 2.176 3.707-.714 4.997-1.424 10.107-2.176 15.037-.934 0-1.792.309-2.495.818l-7.115-5.07a4.25 4.25 0 0 0 .115-.965 4.27 4.27 0 1 0-4.268 4.268 4.23 4.23 0 0 0 2.732-1.012l6.973 4.965a4.22 4.22 0 0 0-.215 1.269 4.27 4.27 0 0 0 4.273 4.268 4.266 4.266 0 0 0 4.268-4.268 4.247 4.247 0 0 0-1.657-3.356l2.208-15.446c2.095-.273 3.722-2.045 3.722-4.215a4.27 4.27 0 0 0-4.273-4.268z\\\"\\n    />\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <g fill=\\\"currentColor\\\">\\n        <path d=\\\"m4.879 2.684-2.832 2.8L7.65 11.15l2.832-2.801Zm8.403 8.495-2.832 2.802 5.603 5.662 2.831-2.802zm8.404 8.494-2.832 2.8 5.602 5.664 2.832-2.802z\\\"\\n        />\\n        <path d=\\\"M27.814 7.408a3.576 3.576 0 0 0-1.161-.176 3.2 3.2 0 0 0-.878.138l7.963 26.068L7.18 27.3c-.543 2.352 1.67 6.055 4.962 6.816l23.054 5.297 2.326 6.42c-2.27-.175-4.279 1.912-4.908 3.805-.535 1.698-.512 3.656.085 5.61.597 1.954 1.671 3.59 3.064 4.7 1.393 1.11 3.238 1.71 5.023 1.164 8.064-3.039 2.135-15.793.467-20.58 5.917 1.023 18.77 5.88 20.578-1.979.42-1.819-.306-3.616-1.509-4.929-1.203-1.313-2.909-2.27-4.9-2.73-1.99-.46-3.866-.547-5.602.303-1.737.849-3.768 2.642-3.468 4.73a6.17 6.17 0 0 0 .012.43l-6.563-1.794-6.88-22.632c-.702-2.297-3.445-3.99-5.108-4.523Zm26.824 26.88c1.36.315 2.472.99 3.116 1.692.644.703.795 1.307.684 1.79-.112.482-.511.956-1.399 1.305-.887.348-2.182.467-3.542.152-1.361-.314-2.472-.99-3.116-1.693-.644-.703-.797-1.304-.686-1.787.112-.482.513-.956 1.4-1.305a5.198 5.198 0 0 1 1.594-.327 6.98 6.98 0 0 1 1.949.173zM37.846 49.174c.333.069.71.25 1.13.585.746.594 1.497 1.654 1.905 2.99.408 1.335.379 2.635.092 3.545-.287.91-.731 1.34-1.205 1.484-.473.145-1.085.036-1.831-.558-.746-.594-1.496-1.655-1.904-2.99-.407-1.336-.378-2.637-.092-3.546.287-.91.732-1.342 1.206-1.486.118-.036.245-.057.38-.058.102 0 .207.011.319.034z\\\"\\n        />\\n    </g>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M41.233 7.917c-5.5 0-10.519 2.077-14.328 5.482a21.443 21.443 0 0 0-4.138-.404c-11.88 0-21.544 9.664-21.544 21.544s9.664 21.544 21.544 21.544c5.5 0 10.519-2.077 14.328-5.482 1.34.263 2.722.404 4.138.404 11.88 0 21.544-9.664 21.544-21.544S53.113 7.917 41.233 7.917zm-9.969 6.791a21.61 21.61 0 0 1 5.598 3.499l-2.01 2.33a18.557 18.557 0 0 0-4.8-2.999Zm-7.927 2.765 2.557 1.714a18.558 18.558 0 0 0-2.396 5.128l-2.955-.86a21.614 21.614 0 0 1 2.794-5.982zm15.86 3.08a21.413 21.413 0 0 1 3.46 5.628l-2.839 1.188a18.357 18.357 0 0 0-2.963-4.817zm-19.334 6.142 3.053.399a18.348 18.348 0 0 0 .144 5.654l-3.027.552a21.407 21.407 0 0 1-.17-6.605Zm23.834 2.63a21.81 21.81 0 0 1 .548 3.263c.1 1.1.115 2.207.044 3.31l-3.07-.195c.12-1.888-.056-3.8-.511-5.64zm-19.918 6.172a18.37 18.37 0 0 0 2.64 5.003l-2.466 1.84a21.427 21.427 0 0 1-3.083-5.84Zm17.042 3.016 3.004.666a21.486 21.486 0 0 1-2.404 6.15l-2.66-1.547a18.434 18.434 0 0 0 2.06-5.27zm-12.535 4.124a18.554 18.554 0 0 0 4.6 3.302l-1.392 2.744a21.611 21.611 0 0 1-5.363-3.85Z\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <path fill=\\\"currentColor\\\"\\n          d=\\\"M1.585 1.585V13.75h5.17v1.52H8.58v-1.52h5.17V1.585Zm3.041 3.041h6.083v6.083H4.626Zm9.429 2.13V8.58h3.65V6.755Zm5.475 0V8.58h3.65V6.755Zm5.474 0V8.58h3.65V6.755Zm5.475 0V8.58h3.65V6.755Zm5.475 0V8.58h3.65V6.755Zm5.475 0v1.597a1.521 1.521 0 0 0-.325.152l-15.686 9.758a1.52 1.52 0 0 0-.199 2.437l23.512 20.553a1.52 1.52 0 0 0 2.477-.78l4.212-17.037v.352h1.825v-3.65H55.42v1.524a1.52 1.52 0 0 0-.222-.296L43.002 8.741a1.521 1.521 0 0 0-.182-.16h2.259V6.754Zm5.475 0V8.58h3.65V6.755Zm5.474 0V8.58h3.65V6.755Zm3.042 2.432v3.65h1.825v-3.65Zm-13.752 2.549 10.757 11.137-3.57 14.446-20.087-17.559Zm13.752 2.926v3.65h1.825v-3.65ZM6.755 17.096v3.65H8.58v-3.65zm0 5.475v3.65h1.628a1.52 1.52 0 0 0 1.02.909l12.683 3.406 7.905 12.694c.168.27.417.481.712.602l13.39 4.576a1.52 1.52 0 0 0 1.157-2.814l-12.936-4.389L24.35 28.42a1.52 1.52 0 0 0-.896-.664L10.19 24.193a1.52 1.52 0 0 0-1.61.557v-2.178zm48.665 3.042v3.65h1.825v-3.65ZM6.755 28.046v3.65H8.58v-3.65zm48.665 3.042v3.65h1.825v-3.65ZM6.755 33.52v3.65H8.58v-3.65zm48.665 3.041v3.65h1.825v-3.65ZM6.755 38.996v3.65H8.58v-3.65zm48.665 3.041v3.65h1.825v-3.65zm-35.382.913c-3.454 0-6.287 2.833-6.287 6.287 0 3.076 2.248 5.654 5.179 6.183h-1.225v1.825h3.65V55.42h-.206c2.712-.5 4.777-2.796 5.055-5.59l.002-.002a1.52 1.52 0 0 0 0-1.18c-.314-3.168-2.922-5.698-6.168-5.698zM6.755 44.47v3.65H8.58v-3.65zm13.283 1.521a3.223 3.223 0 0 1 3.246 3.246 3.223 3.223 0 0 1-3.246 3.246 3.223 3.223 0 0 1-3.246-3.246 3.223 3.223 0 0 1 3.246-3.246zm35.382 1.52v2.738h-5.17v12.166h12.165V50.25h-5.17v-2.737ZM6.755 49.946v3.65H8.58v-3.65zm46.536 3.346h6.083v6.083H53.29ZM6.755 55.42v1.825h3.65V55.42H7.668Zm5.475 0v1.825h3.65V55.42zm10.95 0v1.825h3.65V55.42zm5.474 0v1.825h3.65V55.42zm5.475 0v1.825h3.65V55.42zm5.475 0v1.825h3.65V55.42zm5.475 0v1.825h3.65V55.42z\\\"/>\\n</svg>\\n\"","import change from '@/assets/images/controls/change.svg';\nimport circleMarker from '@/assets/images/controls/circle-marker.svg';\nimport circle from '@/assets/images/controls/circle.svg';\nimport drag from '@/assets/images/controls/drag.svg';\nimport line from '@/assets/images/controls/line.svg';\n\nimport marker from '@/assets/images/controls/marker.svg';\nimport polygon from '@/assets/images/controls/polygon.svg';\nimport rectangle from '@/assets/images/controls/rectangle.svg';\nimport remove from '@/assets/images/controls/remove.svg';\nimport rotate from '@/assets/images/controls/rotate.svg';\nimport snapGuides from '@/assets/images/controls/snap-guides.svg';\nimport textMarker from '@/assets/images/controls/text_marker.svg';\nimport autoTrace from '@/assets/images/controls2/auto-trace.svg';\nimport copy from '@/assets/images/controls2/copy.svg';\nimport customShape from '@/assets/images/controls2/custom-shape.svg';\nimport cut from '@/assets/images/controls2/cut.svg';\nimport difference from '@/assets/images/controls2/difference.svg';\nimport freehand from '@/assets/images/controls2/freehand.svg';\nimport geoFencing from '@/assets/images/controls2/geofencing.svg';\nimport lasso from '@/assets/images/controls2/lasso.svg';\nimport lineSimplification from '@/assets/images/controls2/line-simplification.svg';\nimport measurements from '@/assets/images/controls2/measurements.svg';\nimport mouse from '@/assets/images/controls2/mouse.svg';\nimport pin from '@/assets/images/controls2/pin.svg';\nimport scale from '@/assets/images/controls2/scale.svg';\nimport snapping from '@/assets/images/controls2/snap.svg';\nimport split from '@/assets/images/controls2/split.svg';\nimport union from '@/assets/images/controls2/union.svg';\nimport zoomToFeatures from '@/assets/images/controls2/zoom-to-features.svg';\n\nimport type { DrawModeName, EditModeName, HelperModeName } from '@/main.ts';\n\ntype ModeOptionName = DrawModeName | EditModeName | HelperModeName;\ntype ControlIcons = Record<ModeOptionName, string | null>;\n\n// FontGis Icons\n// https://viglino.github.io/font-gis/?fg=earth\n\nexport const controlIcons: ControlIcons = {\n  marker,\n  circle,\n  circle_marker: circleMarker,\n  text_marker: textMarker,\n  line,\n  rectangle,\n  polygon,\n  freehand,\n  custom_shape: customShape,\n  drag,\n  change,\n  rotate,\n  scale,\n  copy,\n  cut,\n  split,\n  delete: remove,\n  union,\n  difference,\n  line_simplification: lineSimplification,\n  lasso,\n  shape_markers: null,\n  snapping,\n  pin,\n  snap_guides: snapGuides,\n  measurements,\n  auto_trace: autoTrace,\n  geofencing: geoFencing,\n  zoom_to_features: zoomToFeatures,\n  click_to_edit: mouse,\n};\n","import type { GMBaseEvent } from '@/types/events/index.ts';\n\nexport const modeActions = [\n  'mode_start',\n  'mode_started',\n  'mode_end',\n  'mode_ended',\n] as const;\n\nexport type ModeAction = typeof modeActions[number];\n\nexport interface GmBaseModeEvent extends GMBaseEvent {\n  action: ModeAction,\n}\n","export const typedKeys = (\n  <T extends object>(obj: T) => Object.keys(obj) as Array<keyof T>\n);\n\nexport const typedValues = <T extends object>(obj: T): Array<T[keyof T]> => {\n  return Object.values(obj) as Array<T[keyof T]>;\n};\n\nexport const includesWithType = <T extends readonly string[]>(\n  value: string,\n  validValues: T,\n): value is T[number] => validValues.includes(value as T[number]);\n\n","/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    var _loggersByName = {};\n    var defaultLogger = null;\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods() {\n        /*jshint validthis:true */\n        var level = this.getLevel();\n\n        // Replace the actual methods.\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, this.name);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n\n        // Return any important warnings.\n        if (typeof console === undefinedType && level < this.levels.SILENT) {\n            return \"No console available for logging\";\n        }\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, _level, _loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, factory) {\n      // Private instance variables.\n      var self = this;\n      /**\n       * The level inherited from a parent logger (or a global default). We\n       * cache this here rather than delegating to the parent so that it stays\n       * in sync with the actual logging methods that we have installed (the\n       * parent could change levels but we might not have rebuilt the loggers\n       * in this child yet).\n       * @type {number}\n       */\n      var inheritedLevel;\n      /**\n       * The default level for this logger, if any. If set, this overrides\n       * `inheritedLevel`.\n       * @type {number|null}\n       */\n      var defaultLevel;\n      /**\n       * A user-specific level for this logger. If set, this overrides\n       * `defaultLevel`.\n       * @type {number|null}\n       */\n      var userLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var cookieName = encodeURIComponent(storageKey);\n                  var location = cookie.indexOf(cookieName + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(\n                          cookie.slice(location + cookieName.length + 1)\n                      )[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      function clearPersistedLevel() {\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage.removeItem(storageKey);\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch (ignore) {}\n      }\n\n      function normalizeLevel(input) {\n          var level = input;\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              return level;\n          } else {\n              throw new TypeError(\"log.setLevel() called with invalid level: \" + input);\n          }\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          if (userLevel != null) {\n            return userLevel;\n          } else if (defaultLevel != null) {\n            return defaultLevel;\n          } else {\n            return inheritedLevel;\n          }\n      };\n\n      self.setLevel = function (level, persist) {\n          userLevel = normalizeLevel(level);\n          if (persist !== false) {  // defaults to true\n              persistLevelIfPossible(userLevel);\n          }\n\n          // NOTE: in v2, this should call rebuild(), which updates children.\n          return replaceLoggingMethods.call(self);\n      };\n\n      self.setDefaultLevel = function (level) {\n          defaultLevel = normalizeLevel(level);\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.resetLevel = function () {\n          userLevel = null;\n          clearPersistedLevel();\n          replaceLoggingMethods.call(self);\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      self.rebuild = function () {\n          if (defaultLogger !== self) {\n              inheritedLevel = normalizeLevel(defaultLogger.getLevel());\n          }\n          replaceLoggingMethods.call(self);\n\n          if (defaultLogger === self) {\n              for (var childName in _loggersByName) {\n                _loggersByName[childName].rebuild();\n              }\n          }\n      };\n\n      // Initialize all the internal levels.\n      inheritedLevel = normalizeLevel(\n          defaultLogger ? defaultLogger.getLevel() : \"WARN\"\n      );\n      var initialLevel = getPersistedLevel();\n      if (initialLevel != null) {\n          userLevel = normalizeLevel(initialLevel);\n      }\n      replaceLoggingMethods.call(self);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    defaultLogger = new Logger();\n\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n            throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n            logger = _loggersByName[name] = new Logger(\n                name,\n                defaultLogger.methodFactory\n            );\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n","import type { LngLat } from '@/main.ts';\nimport log from 'loglevel';\n\nexport abstract class BaseDomMarker<TMarkerInstance = unknown> {\n  abstract markerInstance: TMarkerInstance | null;\n\n  abstract getElement(): HTMLElement | null;\n\n  abstract setLngLat(lngLat: LngLat): void;\n\n  abstract getLngLat(): LngLat;\n\n  abstract remove(): void;\n\n  isMarkerInstanceAvailable(): this is { markerInstance: TMarkerInstance } {\n    if (this.markerInstance) {\n      return true;\n    }\n\n    log.error('Marker instance is not available');\n    return false;\n  }\n}\n","// index.ts\nvar earthRadius = 63710088e-1;\nvar factors = {\n  centimeters: earthRadius * 100,\n  centimetres: earthRadius * 100,\n  degrees: 360 / (2 * Math.PI),\n  feet: earthRadius * 3.28084,\n  inches: earthRadius * 39.37,\n  kilometers: earthRadius / 1e3,\n  kilometres: earthRadius / 1e3,\n  meters: earthRadius,\n  metres: earthRadius,\n  miles: earthRadius / 1609.344,\n  millimeters: earthRadius * 1e3,\n  millimetres: earthRadius * 1e3,\n  nauticalmiles: earthRadius / 1852,\n  radians: 1,\n  yards: earthRadius * 1.0936\n};\nvar areaFactors = {\n  acres: 247105e-9,\n  centimeters: 1e4,\n  centimetres: 1e4,\n  feet: 10.763910417,\n  hectares: 1e-4,\n  inches: 1550.003100006,\n  kilometers: 1e-6,\n  kilometres: 1e-6,\n  meters: 1,\n  metres: 1,\n  miles: 386e-9,\n  nauticalmiles: 29155334959812285e-23,\n  millimeters: 1e6,\n  millimetres: 1e6,\n  yards: 1.195990046\n};\nfunction feature(geom, properties, options = {}) {\n  const feat = { type: \"Feature\" };\n  if (options.id === 0 || options.id) {\n    feat.id = options.id;\n  }\n  if (options.bbox) {\n    feat.bbox = options.bbox;\n  }\n  feat.properties = properties || {};\n  feat.geometry = geom;\n  return feat;\n}\nfunction geometry(type, coordinates, _options = {}) {\n  switch (type) {\n    case \"Point\":\n      return point(coordinates).geometry;\n    case \"LineString\":\n      return lineString(coordinates).geometry;\n    case \"Polygon\":\n      return polygon(coordinates).geometry;\n    case \"MultiPoint\":\n      return multiPoint(coordinates).geometry;\n    case \"MultiLineString\":\n      return multiLineString(coordinates).geometry;\n    case \"MultiPolygon\":\n      return multiPolygon(coordinates).geometry;\n    default:\n      throw new Error(type + \" is invalid\");\n  }\n}\nfunction point(coordinates, properties, options = {}) {\n  if (!coordinates) {\n    throw new Error(\"coordinates is required\");\n  }\n  if (!Array.isArray(coordinates)) {\n    throw new Error(\"coordinates must be an Array\");\n  }\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be at least 2 numbers long\");\n  }\n  if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n    throw new Error(\"coordinates must contain numbers\");\n  }\n  const geom = {\n    type: \"Point\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction points(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return point(coords, properties);\n    }),\n    options\n  );\n}\nfunction polygon(coordinates, properties, options = {}) {\n  for (const ring of coordinates) {\n    if (ring.length < 4) {\n      throw new Error(\n        \"Each LinearRing of a Polygon must have 4 or more Positions.\"\n      );\n    }\n    if (ring[ring.length - 1].length !== ring[0].length) {\n      throw new Error(\"First and last Position are not equivalent.\");\n    }\n    for (let j = 0; j < ring[ring.length - 1].length; j++) {\n      if (ring[ring.length - 1][j] !== ring[0][j]) {\n        throw new Error(\"First and last Position are not equivalent.\");\n      }\n    }\n  }\n  const geom = {\n    type: \"Polygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction polygons(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return polygon(coords, properties);\n    }),\n    options\n  );\n}\nfunction lineString(coordinates, properties, options = {}) {\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be an array of two or more positions\");\n  }\n  const geom = {\n    type: \"LineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction lineStrings(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return lineString(coords, properties);\n    }),\n    options\n  );\n}\nfunction featureCollection(features, options = {}) {\n  const fc = { type: \"FeatureCollection\" };\n  if (options.id) {\n    fc.id = options.id;\n  }\n  if (options.bbox) {\n    fc.bbox = options.bbox;\n  }\n  fc.features = features;\n  return fc;\n}\nfunction multiLineString(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiLineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction multiPoint(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPoint\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction multiPolygon(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPolygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction geometryCollection(geometries, properties, options = {}) {\n  const geom = {\n    type: \"GeometryCollection\",\n    geometries\n  };\n  return feature(geom, properties, options);\n}\nfunction round(num, precision = 0) {\n  if (precision && !(precision >= 0)) {\n    throw new Error(\"precision must be a positive number\");\n  }\n  const multiplier = Math.pow(10, precision || 0);\n  return Math.round(num * multiplier) / multiplier;\n}\nfunction radiansToLength(radians, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return radians * factor;\n}\nfunction lengthToRadians(distance, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return distance / factor;\n}\nfunction lengthToDegrees(distance, units) {\n  return radiansToDegrees(lengthToRadians(distance, units));\n}\nfunction bearingToAzimuth(bearing) {\n  let angle = bearing % 360;\n  if (angle < 0) {\n    angle += 360;\n  }\n  return angle;\n}\nfunction azimuthToBearing(angle) {\n  angle = angle % 360;\n  if (angle > 180) {\n    return angle - 360;\n  } else if (angle < -180) {\n    return angle + 360;\n  }\n  return angle;\n}\nfunction radiansToDegrees(radians) {\n  const normalisedRadians = radians % (2 * Math.PI);\n  return normalisedRadians * 180 / Math.PI;\n}\nfunction degreesToRadians(degrees) {\n  const normalisedDegrees = degrees % 360;\n  return normalisedDegrees * Math.PI / 180;\n}\nfunction convertLength(length, originalUnit = \"kilometers\", finalUnit = \"kilometers\") {\n  if (!(length >= 0)) {\n    throw new Error(\"length must be a positive number\");\n  }\n  return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nfunction convertArea(area, originalUnit = \"meters\", finalUnit = \"kilometers\") {\n  if (!(area >= 0)) {\n    throw new Error(\"area must be a positive number\");\n  }\n  const startFactor = areaFactors[originalUnit];\n  if (!startFactor) {\n    throw new Error(\"invalid original units\");\n  }\n  const finalFactor = areaFactors[finalUnit];\n  if (!finalFactor) {\n    throw new Error(\"invalid final units\");\n  }\n  return area / startFactor * finalFactor;\n}\nfunction isNumber(num) {\n  return !isNaN(num) && num !== null && !Array.isArray(num);\n}\nfunction isObject(input) {\n  return input !== null && typeof input === \"object\" && !Array.isArray(input);\n}\nfunction validateBBox(bbox) {\n  if (!bbox) {\n    throw new Error(\"bbox is required\");\n  }\n  if (!Array.isArray(bbox)) {\n    throw new Error(\"bbox must be an Array\");\n  }\n  if (bbox.length !== 4 && bbox.length !== 6) {\n    throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n  }\n  bbox.forEach((num) => {\n    if (!isNumber(num)) {\n      throw new Error(\"bbox must only contain numbers\");\n    }\n  });\n}\nfunction validateId(id) {\n  if (!id) {\n    throw new Error(\"id is required\");\n  }\n  if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n    throw new Error(\"id must be a number or a string\");\n  }\n}\nexport {\n  areaFactors,\n  azimuthToBearing,\n  bearingToAzimuth,\n  convertArea,\n  convertLength,\n  degreesToRadians,\n  earthRadius,\n  factors,\n  feature,\n  featureCollection,\n  geometry,\n  geometryCollection,\n  isNumber,\n  isObject,\n  lengthToDegrees,\n  lengthToRadians,\n  lineString,\n  lineStrings,\n  multiLineString,\n  multiPoint,\n  multiPolygon,\n  point,\n  points,\n  polygon,\n  polygons,\n  radiansToDegrees,\n  radiansToLength,\n  round,\n  validateBBox,\n  validateId\n};\n//# sourceMappingURL=index.js.map","// index.js\nimport { feature, point, lineString, isObject } from \"@turf/helpers\";\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  if (geojson === null) return;\n  var j, k, l, geometry, stopG, coords, geometryMaybeCollection, wrapShrink = 0, coordIndex = 0, isGeometryCollection, type = geojson.type, isFeatureCollection = type === \"FeatureCollection\", isFeature = type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[featureIndex].geometry : isFeature ? geojson.geometry : geojson;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n      wrapShrink = excludeWrapCoord && (geomType === \"Polygon\" || geomType === \"MultiPolygon\") ? 1 : 0;\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (callback(\n            coords,\n            coordIndex,\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (callback(\n              coords[j],\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false)\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (callback(\n                coords[j][k],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false)\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (callback(\n                  coords[j][k][l],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false)\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (coordEach(geometry.geometries[j], callback, excludeWrapCoord) === false)\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function(currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (coordIndex === 0 && initialValue === void 0)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function(currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function(currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === void 0)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function(coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\nfunction geomEach(geojson, callback) {\n  var i, j, g, geometry, stopG, geometryMaybeCollection, isGeometryCollection, featureProperties, featureBBox, featureId, featureIndex = 0, isFeatureCollection = geojson.type === \"FeatureCollection\", isFeature = geojson.type === \"Feature\", stop = isFeatureCollection ? geojson.features.length : 1;\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection ? geojson.features[i].geometry : isFeature ? geojson.geometry : geojson;\n    featureProperties = isFeatureCollection ? geojson.features[i].properties : isFeature ? geojson.properties : {};\n    featureBBox = isFeatureCollection ? geojson.features[i].bbox : isFeature ? geojson.bbox : void 0;\n    featureId = isFeatureCollection ? geojson.features[i].id : isFeature ? geojson.id : void 0;\n    isGeometryCollection = geometryMaybeCollection ? geometryMaybeCollection.type === \"GeometryCollection\" : false;\n    stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection ? geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n      if (geometry === null) {\n        if (callback(\n          null,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        ) === false)\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (callback(\n            geometry,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false)\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (callback(\n              geometry.geometries[j],\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false)\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    featureIndex++;\n  }\n}\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function(currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function(geometry, featureIndex, properties, bbox, id) {\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (callback(\n          feature(geometry, properties, { bbox, id }),\n          featureIndex,\n          0\n        ) === false)\n          return false;\n        return;\n    }\n    var geomType;\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n    for (var multiFeatureIndex = 0; multiFeatureIndex < geometry.coordinates.length; multiFeatureIndex++) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate\n      };\n      if (callback(feature(geom, properties), featureIndex, multiFeatureIndex) === false)\n        return false;\n    }\n  });\n}\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function(currentFeature, featureIndex, multiFeatureIndex) {\n      if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === void 0)\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n    if (!feature2.geometry) return;\n    var type = feature2.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (coordEach(\n      feature2,\n      function(currentCoord, coordIndex, featureIndexCoord, multiPartIndexCoord, geometryIndex) {\n        if (previousCoords === void 0 || featureIndex > previousFeatureIndex || multiPartIndexCoord > previousMultiIndex || geometryIndex > prevGeomIndex) {\n          previousCoords = currentCoord;\n          previousFeatureIndex = featureIndex;\n          previousMultiIndex = multiPartIndexCoord;\n          prevGeomIndex = geometryIndex;\n          segmentIndex = 0;\n          return;\n        }\n        var currentSegment = lineString(\n          [previousCoords, currentCoord],\n          feature2.properties\n        );\n        if (callback(\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        ) === false)\n          return false;\n        segmentIndex++;\n        previousCoords = currentCoord;\n      }\n    ) === false)\n      return false;\n  });\n}\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n      if (started === false && initialValue === void 0)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\nfunction lineEach(geojson, callback) {\n  if (!geojson) throw new Error(\"geojson is required\");\n  flattenEach(geojson, function(feature2, featureIndex, multiFeatureIndex) {\n    if (feature2.geometry === null) return;\n    var type = feature2.geometry.type;\n    var coords = feature2.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature2, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\n          if (callback(\n            lineString(coords[geometryIndex], feature2.properties),\n            featureIndex,\n            multiFeatureIndex,\n            geometryIndex\n          ) === false)\n            return false;\n        }\n        break;\n    }\n  });\n}\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function(currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === void 0)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\nfunction findSegment(geojson, options) {\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1]\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\nfunction findPoint(geojson, options) {\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n  var properties = options.properties;\n  var geometry;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\nexport {\n  coordAll,\n  coordEach,\n  coordReduce,\n  featureEach,\n  featureReduce,\n  findPoint,\n  findSegment,\n  flattenEach,\n  flattenReduce,\n  geomEach,\n  geomReduce,\n  lineEach,\n  lineReduce,\n  propEach,\n  propReduce,\n  segmentEach,\n  segmentReduce\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { coordEach } from \"@turf/meta\";\nfunction bbox(geojson, options = {}) {\n  if (geojson.bbox != null && true !== options.recompute) {\n    return geojson.bbox;\n  }\n  const result = [Infinity, Infinity, -Infinity, -Infinity];\n  coordEach(geojson, (coord) => {\n    if (result[0] > coord[0]) {\n      result[0] = coord[0];\n    }\n    if (result[1] > coord[1]) {\n      result[1] = coord[1];\n    }\n    if (result[2] < coord[0]) {\n      result[2] = coord[0];\n    }\n    if (result[3] < coord[1]) {\n      result[3] = coord[1];\n    }\n  });\n  return result;\n}\nvar turf_bbox_default = bbox;\nexport {\n  bbox,\n  turf_bbox_default as default\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { isNumber } from \"@turf/helpers\";\nfunction getCoord(coord) {\n  if (!coord) {\n    throw new Error(\"coord is required\");\n  }\n  if (!Array.isArray(coord)) {\n    if (coord.type === \"Feature\" && coord.geometry !== null && coord.geometry.type === \"Point\") {\n      return [...coord.geometry.coordinates];\n    }\n    if (coord.type === \"Point\") {\n      return [...coord.coordinates];\n    }\n  }\n  if (Array.isArray(coord) && coord.length >= 2 && !Array.isArray(coord[0]) && !Array.isArray(coord[1])) {\n    return [...coord];\n  }\n  throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\nfunction getCoords(coords) {\n  if (Array.isArray(coords)) {\n    return coords;\n  }\n  if (coords.type === \"Feature\") {\n    if (coords.geometry !== null) {\n      return coords.geometry.coordinates;\n    }\n  } else {\n    if (coords.coordinates) {\n      return coords.coordinates;\n    }\n  }\n  throw new Error(\n    \"coords must be GeoJSON Feature, Geometry Object or an Array\"\n  );\n}\nfunction containsNumber(coordinates) {\n  if (coordinates.length > 1 && isNumber(coordinates[0]) && isNumber(coordinates[1])) {\n    return true;\n  }\n  if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n    return containsNumber(coordinates[0]);\n  }\n  throw new Error(\"coordinates must only contain numbers\");\n}\nfunction geojsonType(value, type, name) {\n  if (!type || !name) {\n    throw new Error(\"type and name required\");\n  }\n  if (!value || value.type !== type) {\n    throw new Error(\n      \"Invalid input to \" + name + \": must be a \" + type + \", given \" + value.type\n    );\n  }\n}\nfunction featureOf(feature, type, name) {\n  if (!feature) {\n    throw new Error(\"No feature passed\");\n  }\n  if (!name) {\n    throw new Error(\".featureOf() requires a name\");\n  }\n  if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n    throw new Error(\n      \"Invalid input to \" + name + \", Feature with geometry required\"\n    );\n  }\n  if (!feature.geometry || feature.geometry.type !== type) {\n    throw new Error(\n      \"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type\n    );\n  }\n}\nfunction collectionOf(featureCollection, type, name) {\n  if (!featureCollection) {\n    throw new Error(\"No featureCollection passed\");\n  }\n  if (!name) {\n    throw new Error(\".collectionOf() requires a name\");\n  }\n  if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n    throw new Error(\n      \"Invalid input to \" + name + \", FeatureCollection required\"\n    );\n  }\n  for (const feature of featureCollection.features) {\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n      throw new Error(\n        \"Invalid input to \" + name + \", Feature with geometry required\"\n      );\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n      throw new Error(\n        \"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type\n      );\n    }\n  }\n}\nfunction getGeom(geojson) {\n  if (geojson.type === \"Feature\") {\n    return geojson.geometry;\n  }\n  return geojson;\n}\nfunction getType(geojson, _name) {\n  if (geojson.type === \"FeatureCollection\") {\n    return \"FeatureCollection\";\n  }\n  if (geojson.type === \"GeometryCollection\") {\n    return \"GeometryCollection\";\n  }\n  if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n    return geojson.geometry.type;\n  }\n  return geojson.type;\n}\nexport {\n  collectionOf,\n  containsNumber,\n  featureOf,\n  geojsonType,\n  getCoord,\n  getCoords,\n  getGeom,\n  getType\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport {\n  degreesToRadians,\n  lengthToRadians,\n  point,\n  radiansToDegrees\n} from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\nfunction destination(origin, distance, bearing, options = {}) {\n  const coordinates1 = getCoord(origin);\n  const longitude1 = degreesToRadians(coordinates1[0]);\n  const latitude1 = degreesToRadians(coordinates1[1]);\n  const bearingRad = degreesToRadians(bearing);\n  const radians = lengthToRadians(distance, options.units);\n  const latitude2 = Math.asin(\n    Math.sin(latitude1) * Math.cos(radians) + Math.cos(latitude1) * Math.sin(radians) * Math.cos(bearingRad)\n  );\n  const longitude2 = longitude1 + Math.atan2(\n    Math.sin(bearingRad) * Math.sin(radians) * Math.cos(latitude1),\n    Math.cos(radians) - Math.sin(latitude1) * Math.sin(latitude2)\n  );\n  const lng = radiansToDegrees(longitude2);\n  const lat = radiansToDegrees(latitude2);\n  return point([lng, lat], options.properties);\n}\nvar turf_destination_default = destination;\nexport {\n  turf_destination_default as default,\n  destination\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { destination } from \"@turf/destination\";\nimport { polygon } from \"@turf/helpers\";\nfunction circle(center, radius, options = {}) {\n  const steps = options.steps || 64;\n  const properties = options.properties ? options.properties : !Array.isArray(center) && center.type === \"Feature\" && center.properties ? center.properties : {};\n  const coordinates = [];\n  for (let i = 0; i < steps; i++) {\n    coordinates.push(\n      destination(center, radius, i * -360 / steps, options).geometry.coordinates\n    );\n  }\n  coordinates.push(coordinates[0]);\n  return polygon([coordinates], properties);\n}\nvar turf_circle_default = circle;\nexport {\n  circle,\n  turf_circle_default as default\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { getCoord } from \"@turf/invariant\";\nimport { radiansToLength, degreesToRadians } from \"@turf/helpers\";\nfunction distance(from, to, options = {}) {\n  var coordinates1 = getCoord(from);\n  var coordinates2 = getCoord(to);\n  var dLat = degreesToRadians(coordinates2[1] - coordinates1[1]);\n  var dLon = degreesToRadians(coordinates2[0] - coordinates1[0]);\n  var lat1 = degreesToRadians(coordinates1[1]);\n  var lat2 = degreesToRadians(coordinates2[1]);\n  var a = Math.pow(Math.sin(dLat / 2), 2) + Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n  return radiansToLength(\n    2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)),\n    options.units\n  );\n}\nvar turf_distance_default = distance;\nexport {\n  turf_distance_default as default,\n  distance\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { featureCollection, lineString, multiLineString } from \"@turf/helpers\";\nimport { getGeom } from \"@turf/invariant\";\nfunction polygonToLine(poly, options = {}) {\n  const geom = getGeom(poly);\n  if (!options.properties && poly.type === \"Feature\") {\n    options.properties = poly.properties;\n  }\n  switch (geom.type) {\n    case \"Polygon\":\n      return singlePolygonToLine(geom, options);\n    case \"MultiPolygon\":\n      return multiPolygonToLine(geom, options);\n    default:\n      throw new Error(\"invalid poly\");\n  }\n}\nfunction singlePolygonToLine(poly, options = {}) {\n  const geom = getGeom(poly);\n  const coords = geom.coordinates;\n  const properties = options.properties ? options.properties : poly.type === \"Feature\" ? poly.properties : {};\n  return coordsToLine(coords, properties);\n}\nfunction multiPolygonToLine(multiPoly, options = {}) {\n  const geom = getGeom(multiPoly);\n  const coords = geom.coordinates;\n  const properties = options.properties ? options.properties : multiPoly.type === \"Feature\" ? multiPoly.properties : {};\n  const lines = [];\n  coords.forEach((coord) => {\n    lines.push(coordsToLine(coord, properties));\n  });\n  return featureCollection(lines);\n}\nfunction coordsToLine(coords, properties) {\n  if (coords.length > 1) {\n    return multiLineString(coords, properties);\n  }\n  return lineString(coords[0], properties);\n}\nvar turf_polygon_to_line_default = polygonToLine;\nexport {\n  coordsToLine,\n  turf_polygon_to_line_default as default,\n  multiPolygonToLine,\n  polygonToLine,\n  singlePolygonToLine\n};\n//# sourceMappingURL=index.js.map","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nexport default baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default strictIndexOf;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIsNaN from './_baseIsNaN.js';\nimport strictIndexOf from './_strictIndexOf.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nexport default baseIndexOf;\n","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nexport default arrayIncludes;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n","import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n","import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n","import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n","import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n","import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nexport default arrayAggregator;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n","import baseEach from './_baseEach.js';\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nexport default baseAggregator;\n","import arrayAggregator from './_arrayAggregator.js';\nimport baseAggregator from './_baseAggregator.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nexport default createAggregator;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nexport default mergeWith;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arrayIncludesWith;\n","import baseEach from './_baseEach.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nexport default baseMap;\n","import arrayMap from './_arrayMap.js';\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nexport default baseValues;\n","import baseValues from './_baseValues.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nexport default values;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport arrayMap from './_arrayMap.js';\nimport baseUnary from './_baseUnary.js';\nimport cacheHas from './_cacheHas.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseIntersection;\n","import isArrayLikeObject from './isArrayLikeObject.js';\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nexport default castArrayLikeObject;\n","import arrayMap from './_arrayMap.js';\nimport baseIntersection from './_baseIntersection.js';\nimport baseRest from './_baseRest.js';\nimport castArrayLikeObject from './_castArrayLikeObject.js';\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nexport default intersection;\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","import baseAssignValue from './_baseAssignValue.js';\nimport createAggregator from './_createAggregator.js';\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nexport default keyBy;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nexport default merge;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nexport default baseSortBy;\n","import isSymbol from './isSymbol.js';\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nexport default compareAscending;\n","import compareAscending from './_compareAscending.js';\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nexport default compareMultiple;\n","import arrayMap from './_arrayMap.js';\nimport baseGet from './_baseGet.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport baseSortBy from './_baseSortBy.js';\nimport baseUnary from './_baseUnary.js';\nimport compareMultiple from './_compareMultiple.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nexport default baseOrderBy;\n","import baseFlatten from './_baseFlatten.js';\nimport baseOrderBy from './_baseOrderBy.js';\nimport baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 30 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nexport default sortBy;\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","import Set from './_Set.js';\nimport noop from './noop.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nexport default createSet;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport cacheHas from './_cacheHas.js';\nimport createSet from './_createSet.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseUniq;\n","import baseUniq from './_baseUniq.js';\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n}\n\nexport default uniqWith;\n","import type {\n  CoordinateIndices,\n  GeoJsonShapeFeature,\n  GeoJsonShapeFeatureCollection,\n  LineBasedGeometry,\n  LngLat,\n  LngLatDiff,\n  PositionData,\n  ScreenPoint,\n  SegmentPosition,\n  ShapeName,\n} from '@/main.ts';\nimport { typedKeys } from '@/utils/typing.ts';\nimport bbox from '@turf/bbox';\nimport turfCircle from '@turf/circle';\nimport { distance as turfDistance } from '@turf/distance';\nimport { coordEach as turfCoordEach } from '@turf/meta';\nimport { multiPolygonToLine, singlePolygonToLine } from '@turf/polygon-to-line';\nimport type {\n  BBox,\n  Feature,\n  FeatureCollection,\n  GeoJSON,\n  GeoJsonProperties,\n  LineString,\n  MultiLineString,\n  MultiPolygon,\n  Point,\n  Polygon,\n} from 'geojson';\nimport { get, isEqual } from 'lodash-es';\nimport log from 'loglevel';\n\n\nexport const isEqualPosition = (\n  position1: LngLat,\n  position2: LngLat,\n): boolean => {\n  return position1[0] === position2[0] && position1[1] === position2[1];\n};\n\nexport const isLineStringFeature = (\n  geoJson: Feature | FeatureCollection,\n): geoJson is Feature<LineString> => {\n  return (\n    geoJson.type === 'Feature'\n    && geoJson.geometry.type === 'LineString'\n  );\n};\n\nexport const isMultiLineStringFeature = (\n  geoJson: Feature | FeatureCollection,\n): geoJson is Feature<MultiLineString> => {\n  return (\n    geoJson.type === 'Feature'\n    && geoJson.geometry.type === 'MultiLineString'\n  );\n};\n\nexport const isPolygonFeature = (\n  geoJson: Feature | FeatureCollection,\n): geoJson is Feature<Polygon> => {\n  return (\n    geoJson.type === 'Feature'\n    && geoJson.geometry.type === 'Polygon'\n  );\n};\n\nexport const isMultiPolygonFeature = (\n  geoJson: Feature | FeatureCollection,\n): geoJson is Feature<MultiPolygon> => {\n  return (\n    geoJson.type === 'Feature'\n    && geoJson.geometry.type === 'MultiPolygon'\n  );\n};\n\nexport const multiLineStringToFeatureCollection = (\n  geoJson: Feature<MultiLineString>,\n): FeatureCollection<LineString> => {\n  return {\n    type: 'FeatureCollection',\n    features: geoJson.geometry.coordinates.map((lineCoordinates) => ({\n      type: 'Feature',\n      properties: geoJson.properties,\n      geometry: {\n        type: 'LineString',\n        coordinates: lineCoordinates,\n      },\n    })),\n  };\n};\n\nexport const getLngLatDiff = (\n  startLngLat: LngLat,\n  endLngLat: LngLat,\n): LngLatDiff => ({\n  lng: endLngLat[0] - startLngLat[0],\n  lat: endLngLat[1] - startLngLat[1],\n});\n\nconst isPosition = (position: unknown): position is LngLat => (\n  Array.isArray(position)\n  && position.length >= 2\n  && position.length <= 3\n  && position.every((item) => typeof item === 'number')\n);\n\nexport const eachCoordinateWithPath = (\n  geoJson: GeoJSON,\n  callback: (position: PositionData, index: number) => void,\n  skipClosingCoordinate: boolean = false,\n) => {\n  let counter = 0;\n  const nestedKeys = ['features', 'geometries', 'geometry', 'coordinates'] as const;\n\n  const traverseGeoJson = (\n    geoJsonItem: unknown,\n    currentPath: Array<string | number>,\n    isPolygon: boolean = false,\n  ) => {\n    if (isPosition(geoJsonItem)) {\n      callback({ coordinate: geoJsonItem, path: currentPath }, counter);\n      counter += 1;\n    } else if (Array.isArray(geoJsonItem)) {\n      geoJsonItem.forEach((subItem, index) => {\n        if (isPolygon\n          && skipClosingCoordinate\n          && index === geoJsonItem.length - 1\n          && isPosition(subItem)) {\n          return;\n        }\n        traverseGeoJson(subItem, [...currentPath, index], isPolygon);\n      });\n    } else if (typeof geoJsonItem === 'object' && geoJsonItem !== null) {\n      typedKeys(geoJsonItem).forEach((key) => {\n        const subItem = geoJsonItem[key];\n        if (nestedKeys.includes(key) && subItem) {\n          const itemType = 'type' in geoJsonItem && geoJsonItem.type;\n          const nextIsPolygon = itemType === 'Polygon' || itemType === 'MultiPolygon';\n          traverseGeoJson(subItem, [...currentPath, key], nextIsPolygon);\n        }\n      });\n    }\n  };\n\n  traverseGeoJson(geoJson, []);\n};\n\nexport const findCoordinateWithPath = (geoJson: GeoJSON, coordinate: LngLat) => {\n  let targetPosition: PositionData = { coordinate: [0, 0], path: [] };\n  let targetIndex: number = -1;\n\n  try {\n    eachCoordinateWithPath(geoJson, (position, index) => {\n      if (coordinate[0] === position.coordinate[0] && coordinate[1] === position.coordinate[1]) {\n        targetIndex = index;\n        targetPosition = position;\n        throw new Error('stop');\n      }\n    });\n  } catch {\n    if (targetPosition) {\n      return {\n        index: targetIndex,\n        coordinate: targetPosition.coordinate,\n        path: targetPosition.path,\n      };\n    }\n  }\n\n  return null;\n};\n\nexport const eachSegmentWithPath = (\n  geoJson: GeoJSON,\n  callback: (\n    segment: SegmentPosition,\n    index: number,\n  ) => void,\n) => {\n  let counter = 0;\n  const nestedKeys = ['features', 'geometries', 'geometry', 'coordinates'] as const;\n\n  const traverseGeoJson = (\n    geoJsonItem: unknown,\n    nextGeoJsonItem: unknown | undefined,\n    currentPath: Array<string | number>,\n    nextPath: Array<string | number>,\n  ) => {\n    if (isPosition(geoJsonItem) && isPosition(nextGeoJsonItem)) {\n      callback(\n        {\n          start: { coordinate: [...geoJsonItem], path: currentPath },\n          end: { coordinate: [...nextGeoJsonItem], path: nextPath },\n        },\n        counter,\n      );\n      counter += 1;\n    } else if (Array.isArray(geoJsonItem)) {\n      geoJsonItem.forEach((subItem, index) => {\n        traverseGeoJson(\n          subItem,\n          geoJsonItem[index + 1],\n          [...currentPath, index],\n          [...currentPath, index + 1],\n        );\n      });\n    } else if (typeof geoJsonItem === 'object' && geoJsonItem !== null) {\n      typedKeys(geoJsonItem).forEach((key) => {\n        const subItem = geoJsonItem[key];\n        if (nestedKeys.includes(key) && subItem) {\n          traverseGeoJson(subItem, undefined, [...currentPath, key], []);\n        }\n      });\n    }\n  };\n\n  traverseGeoJson(geoJson, undefined, [], []);\n};\n\nexport const findCoordinateIndices = (\n  geoJson: GeoJSON,\n  lngLat: LngLat,\n): CoordinateIndices => {\n  let indices: CoordinateIndices = {\n    absCoordIndex: -1,\n    featureIndex: -1,\n    multiFeatureIndex: -1,\n    geometryIndex: -1,\n  };\n\n  try {\n    turfCoordEach(\n      geoJson,\n      (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) => {\n        if (currentCoord[0] === lngLat[0] && currentCoord[1] === lngLat[1]) {\n          indices = { absCoordIndex: coordIndex, featureIndex, multiFeatureIndex, geometryIndex };\n          throw new Error('found');\n        }\n      },\n    );\n  } catch {\n    // ...\n  }\n  return indices;\n};\n\nexport const twoCoordsToLineString = (\n  position1: LngLat,\n  position2: LngLat,\n  properties: GeoJsonProperties = {},\n): Feature<LineString> => {\n  return {\n    type: 'Feature',\n    properties,\n    geometry: {\n      type: 'LineString',\n      coordinates: [position1, position2],\n    },\n  };\n};\n\nexport const getBboxFromTwoCoords = (\n  lngLat1: LngLat,\n  lngLat2: LngLat,\n): BBox => {\n  const [lng1, lat1] = lngLat1;\n  const [lng2, lat2] = lngLat2;\n\n  const minX = Math.min(lng1, lng2);\n  const minY = Math.min(lat1, lat2);\n  const maxX = Math.max(lng1, lng2);\n  const maxY = Math.max(lat1, lat2);\n\n  return [minX, minY, maxX, maxY];\n};\n\nexport const twoCoordsToGeoJsonRectangle = (\n  lngLat1: LngLat,\n  lngLat2: LngLat,\n): GeoJsonShapeFeature => {\n  const bBox = getBboxFromTwoCoords(lngLat1, lngLat2);\n  const southWest = [bBox[0], bBox[1]];\n  const northEast = [bBox[2], bBox[3]];\n\n  const minX = southWest[0];\n  const minY = southWest[1];\n  const maxX = northEast[0];\n  const maxY = northEast[1];\n\n  return {\n    type: 'Feature',\n    properties: {\n      shape: 'rectangle',\n    },\n    geometry: {\n      type: 'Polygon',\n      coordinates: [[\n        [minX, minY],\n        [maxX, minY],\n        [maxX, maxY],\n        [minX, maxY],\n        [minX, minY],\n      ]],\n    },\n  };\n};\n\nexport const geoJsonPointToLngLat = (geoJson: Feature<Point>): LngLat => {\n  return [\n    geoJson.geometry.coordinates[0],\n    geoJson.geometry.coordinates[1],\n  ];\n};\n\nexport const getGeoJsonBounds = (\n  geoJson: GeoJSON,\n): [LngLat, LngLat] => {\n  const bounds = bbox(geoJson);\n\n  return [\n    [bounds[0], bounds[1]], // South-West (min-x, min-y)\n    [bounds[2], bounds[3]], // North-East (max-x, max-y)\n  ];\n};\n\nexport const boundsToBBox = (bounds: [LngLat, LngLat]): BBox => {\n  return [\n    bounds[0][0],\n    bounds[0][1],\n    bounds[1][0],\n    bounds[1][1],\n  ];\n};\n\nexport const bBoxContains = (bBoxBounds: BBox, lngLat: LngLat): boolean => {\n  const [minX, minY, maxX, maxY] = bBoxBounds;\n  const [lng, lat] = lngLat;\n\n  return lng >= minX && lng <= maxX && lat >= minY && lat <= maxY;\n};\n\nexport const boundsContains = (\n  bounds: [LngLat, LngLat],\n  lngLat: LngLat,\n): boolean => {\n  const bBoxBounds = boundsToBBox(bounds);\n  return bBoxContains(bBoxBounds, lngLat);\n};\n\nexport const getGeoJsonCoordinatesCount = (geoJson: GeoJSON): number => {\n  let count: number = 0;\n  turfCoordEach(geoJson, () => {\n    count += 1;\n  }, true);\n  return count;\n};\n\nexport const getAllGeoJsonCoordinates = (geoJson: GeoJSON): Array<LngLat> => {\n  const coordinates: Array<LngLat> = [];\n  turfCoordEach(geoJson, (coord) => {\n    coordinates.push([coord[0], coord[1]]);\n  }, true);\n  return coordinates;\n};\n\nexport const allCoordinatesEqual = (geoJson: GeoJSON): boolean => {\n  const featureLngLats: Array<LngLat> = getAllGeoJsonCoordinates(geoJson);\n\n  // for now only checks if all points aren't the same\n  return featureLngLats.some((lngLat) => !isEqual(featureLngLats[0], lngLat));\n};\n\nexport const getGeoJsonFirstPoint = (shapeGeoJson: GeoJSON): LngLat | null => {\n  let firstPoint: LngLat | null = null;\n\n  try {\n    eachCoordinateWithPath(shapeGeoJson, (position) => {\n      firstPoint = position.coordinate;\n      throw new Error('found');\n    });\n  } catch {\n    return firstPoint;\n  }\n\n  return null;\n};\n\nexport const getEuclideanDistance = (point1: ScreenPoint, point2: ScreenPoint): number => {\n  return Math.sqrt(\n    (point1[0] - point2[0]) ** 2 + (point1[1] - point2[1]) ** 2,\n  );\n};\n\nexport const getEuclideanSegmentNearestPoint = (\n  linePoint1: ScreenPoint,\n  linePoint2: ScreenPoint,\n  targetPoint: ScreenPoint,\n): ScreenPoint => {\n  const [x1, y1] = [linePoint1[0], linePoint1[1]];\n  const [x2, y2] = [linePoint2[0], linePoint2[1]];\n  const [px, py] = [targetPoint[0], targetPoint[1]];\n\n  // Calculate vector components\n  const vx = x2 - x1;\n  const vy = y2 - y1;\n  const wx = px - x1;\n  const wy = py - y1;\n\n  // Calculate dot product and projection scalar\n  const c1 = wx * vx + wy * vy;\n  const c2 = vx * vx + vy * vy;\n  let b = c1 / c2;\n\n  // Clamp b between 0 and 1 to ensure the nearest point lies on the segment\n  b = Math.max(0, Math.min(1, b));\n\n  // Calculate nearest point\n  return [\n    x1 + b * vx,\n    y1 + b * vy,\n  ];\n};\n\nexport const removeVertexFromLine = (\n  lineGeoJson: Feature<LineString>,\n  vertexLngLat: LngLat,\n): boolean => {\n  const { absCoordIndex } = findCoordinateIndices(lineGeoJson, vertexLngLat);\n\n  if (absCoordIndex !== -1) {\n    lineGeoJson.geometry.coordinates.splice(absCoordIndex, 1);\n    return true;\n  }\n  return false;\n};\n\nexport const removeVertexFromPolygon = (\n  shapeGeoJson: Feature<Polygon>,\n  vertexLngLat: LngLat,\n): boolean => {\n  const coordIndices = findCoordinateIndices(shapeGeoJson, vertexLngLat);\n\n  if (coordIndices.absCoordIndex !== -1) {\n    const coordinatesPath: [number] = [coordIndices.geometryIndex];\n    const coordinates = get(shapeGeoJson.geometry.coordinates, coordinatesPath) as Array<LngLat>;\n    const targetCoordIndex = coordinates.findIndex((coord) => isEqual(coord, vertexLngLat));\n\n    if (coordinates.length <= 4) {\n      shapeGeoJson.geometry.coordinates.splice(coordIndices.geometryIndex, 1);\n      return true;\n    }\n\n    coordinates.splice(targetCoordIndex, 1);\n    if (targetCoordIndex === 0) {\n      coordinates[coordinates.length - 1] = [...coordinates[0]];\n    }\n    return true;\n  }\n  return false;\n};\n\nexport const removeVertexFromMultiPolygon = (\n  shapeGeoJson: Feature<MultiPolygon>,\n  vertexLngLat: LngLat,\n): boolean => {\n  const coordIndices = findCoordinateIndices(shapeGeoJson, vertexLngLat);\n\n  if (coordIndices.absCoordIndex !== -1) {\n    const coordinatesPath: LngLat = [\n      coordIndices.multiFeatureIndex,\n      coordIndices.geometryIndex,\n    ];\n    const coordinates = get(shapeGeoJson.geometry.coordinates, coordinatesPath) as Array<LngLat>;\n    const targetCoordIndex = coordinates.findIndex((coord) => isEqual(coord, vertexLngLat));\n\n    if (coordinates.length <= 4) {\n      coordinatesPath.pop();\n      const coordinatesContainer = get(\n        shapeGeoJson.geometry.coordinates,\n        coordIndices.multiFeatureIndex,\n      ) as Array<Array<LngLat>>;\n      coordinatesContainer.splice(coordIndices.geometryIndex, 1);\n\n      if (coordinatesContainer.length === 0) {\n        shapeGeoJson.geometry.coordinates.splice(coordIndices.multiFeatureIndex, 1);\n      }\n      return true;\n    }\n\n    coordinates.splice(targetCoordIndex, 1);\n    if (targetCoordIndex === 0) {\n      coordinates[coordinates.length - 1] = [...coordinates[0]];\n    }\n    return true;\n  }\n  return false;\n};\n\nexport const removeVertexFromGeoJsonFeature = (\n  shapeGeoJson: Feature<LineString | Polygon | MultiPolygon>,\n  vertexLngLat: LngLat,\n): boolean => {\n  if (isLineStringFeature(shapeGeoJson)) {\n    return removeVertexFromLine(shapeGeoJson, vertexLngLat);\n  }\n\n  if (isPolygonFeature(shapeGeoJson)) {\n    return removeVertexFromPolygon(shapeGeoJson, vertexLngLat);\n  }\n\n  if (isMultiPolygonFeature(shapeGeoJson)) {\n    return removeVertexFromMultiPolygon(shapeGeoJson, vertexLngLat);\n  }\n\n  return false;\n};\n\nexport const calculatePerimeter = (geoJson: Feature<LineBasedGeometry>) => {\n  let perimeter = 0;\n\n  eachSegmentWithPath(geoJson, (segment) => {\n    perimeter += turfDistance(\n      segment.start.coordinate,\n      segment.end.coordinate,\n      { units: 'meters' },\n    );\n  });\n\n  return perimeter;\n};\n\nexport const convertToLineStringFeatureCollection = (\n  sourceFeatureCollection: GeoJsonShapeFeatureCollection,\n): FeatureCollection<LineString> => {\n  const targetFeatureCollection: FeatureCollection<LineString> = {\n    type: 'FeatureCollection',\n    features: [],\n  };\n\n  // convert lines/polygons/multipolygons to a FutureCollection of LineStrings\n  sourceFeatureCollection.features.forEach((feature) => {\n    if (isLineStringFeature(feature)) {\n      targetFeatureCollection.features.push(feature);\n    } else if (isPolygonFeature(feature)) {\n      const lineFeature = singlePolygonToLine(feature);\n      if (isLineStringFeature(lineFeature)) {\n        targetFeatureCollection.features.push(lineFeature);\n      } else if (isMultiLineStringFeature(lineFeature)) {\n        const line = multiLineStringToFeatureCollection(lineFeature);\n        line.features.forEach((item) => {\n          targetFeatureCollection.features.push(item);\n        });\n      }\n    } else if (isMultiPolygonFeature(feature)) {\n      const featureCollection = multiPolygonToLine(feature);\n      featureCollection.features.forEach((lineFeature) => {\n        if (isLineStringFeature(lineFeature)) {\n          targetFeatureCollection.features.push(lineFeature);\n        } else if (isMultiLineStringFeature(lineFeature)) {\n          const line = multiLineStringToFeatureCollection(lineFeature);\n          line.features.forEach((item) => {\n            targetFeatureCollection.features.push(item);\n          });\n        }\n      });\n    } else {\n      log.warn(\n        'AutoTraceHelper.getFeaturesGeoJsonAsLines: Feature is not supported',\n        feature,\n      );\n    }\n  });\n\n  return targetFeatureCollection;\n};\n\nexport const lngLatToGeoJsonPoint = (\n  position: LngLat,\n  shape: Extract<ShapeName, 'marker' | 'text_marker' | 'circle_marker'> = 'marker',\n): GeoJsonShapeFeature => {\n  return {\n    type: 'Feature',\n    properties: {\n      shape,\n    },\n    geometry: {\n      type: 'Point',\n      coordinates: position,\n    },\n  };\n};\n\nexport const getGeoJsonCircle = ({ center, radius, steps = 80 }: {\n  center: LngLat,\n  radius: number,\n  steps?: number,\n}) => {\n  const circleGeoJson = turfCircle(\n    center,\n    radius,\n    {\n      steps,\n      units: 'meters',\n    },\n  );\n\n  // remove link between first and last coordinates\n  circleGeoJson.geometry.coordinates[0][0] = [\n    ...circleGeoJson.geometry.coordinates[0][0],\n  ];\n\n  return circleGeoJson;\n};\n\nexport const getCoordinateByPath = (\n  geoJson: GeoJSON,\n  path: Array<string | number>,\n): LngLat | null => {\n  const coordinate = get(geoJson, path) as unknown;\n  if (isPosition(coordinate)) {\n    return coordinate;\n  }\n  log.warn('getCoordinateByPath: Invalid path or coordinate not found at path', path, geoJson);\n  return null;\n};\n","// index.ts\nimport { point } from \"@turf/helpers\";\nimport { coordEach } from \"@turf/meta\";\nfunction centroid(geojson, options = {}) {\n  let xSum = 0;\n  let ySum = 0;\n  let len = 0;\n  coordEach(\n    geojson,\n    function(coord) {\n      xSum += coord[0];\n      ySum += coord[1];\n      len++;\n    },\n    true\n  );\n  return point([xSum / len, ySum / len], options.properties);\n}\nvar turf_centroid_default = centroid;\nexport {\n  centroid,\n  turf_centroid_default as default\n};\n//# sourceMappingURL=index.js.map","import { FEATURE_ID_PROPERTY, SOURCES } from '@/core/features/index.ts';\nimport { BaseDomMarker } from '@/core/map/base/marker.ts';\nimport type { BaseSource } from '@/core/map/base/source.ts';\nimport type {\n  BasicGeometry,\n  FeatureDataParameters,\n  FeatureId,\n  FeatureOrder,\n  FeatureOrders,\n  FeatureShape,\n  FeatureShapeProperties,\n  FeatureSourceName,\n  GeoJsonShapeFeature,\n  GeoJsonShapeFeatureWithGmProperties,\n  Geoman,\n  MarkerData,\n  MarkerId,\n  ShapeGeoJsonProperties,\n} from '@/main.ts';\nimport { geoJsonPointToLngLat } from '@/utils/geojson.ts';\nimport { typedValues } from '@/utils/typing.ts';\nimport centroid from '@turf/centroid';\nimport log from 'loglevel';\n\n\nexport const conversionAllowedShapes: Array<FeatureData['shape']> = ['circle', 'rectangle'];\n\nexport class FeatureData {\n  gm: Geoman;\n  id: FeatureId = 'no-id';\n  parent: FeatureData | null = null;\n  shape: FeatureShape;\n  markers: Map<MarkerId, MarkerData>;\n  shapeProperties: FeatureShapeProperties = { center: null };\n  source: BaseSource;\n  orders: FeatureOrders = this.getEmptyOrders();\n\n  constructor(parameters: FeatureDataParameters) {\n    this.gm = parameters.gm;\n    this.id = parameters.id;\n    this.source = parameters.source;\n    this.parent = parameters.parent;\n    this.markers = new Map();\n    this.shape = parameters.geoJsonShapeFeature.properties.shape;\n    this.order = this.getFreeOrder();\n    this.addGeoJson(parameters.geoJsonShapeFeature);\n  }\n\n  get order(): FeatureOrder {\n    const sourceName = this.source.id as FeatureSourceName;\n\n    if (this.orders[sourceName] !== null) {\n      return this.orders[sourceName];\n    }\n    throw new Error(`Null order for feature id: ${this.id}`);\n  }\n\n  set order(order: FeatureOrder) {\n    // Note: be careful, set source before working with order\n    const sourceName = this.source.id as FeatureSourceName;\n    this.orders[sourceName] = order;\n  }\n\n  getEmptyOrders(): FeatureOrders {\n    return Object.fromEntries(\n      typedValues(SOURCES).map((name) => [name, null]),\n    ) as FeatureOrders;\n  }\n\n  get temporary(): boolean {\n    return (this.source.id as FeatureSourceName) === SOURCES.temporary;\n  }\n\n  get sourceName(): FeatureSourceName {\n    return this.source.id as FeatureSourceName;\n  }\n\n  getFreeOrder() {\n    // Note: order could be from regular or tmp source\n    // be careful, set temporary and source before working with order\n    return this.getSourceGeoJson().features.length;\n  }\n\n  getGeoJson() {\n    if (!this.isFeatureAvailable()) {\n      throw new Error(`Feature not found: \"${this.id}\"`);\n    }\n\n    this.fixOrder();\n\n    const geoJsonFeature = this.getSourceGeoJson().features[this.order] || null;\n    if (this.id !== geoJsonFeature?.id) {\n      log.error(`Feature not found: ${this.id} !== ${geoJsonFeature?.id}`, geoJsonFeature, this.getSourceGeoJson());\n      throw new Error('Feature not found');\n    }\n    return geoJsonFeature as GeoJsonShapeFeatureWithGmProperties;\n  }\n\n  getShapeProperty(name: keyof FeatureShapeProperties) {\n    return this.shapeProperties[name];\n  }\n\n  setShapeProperty<T extends keyof FeatureShapeProperties>(\n    name: T,\n    value: FeatureShapeProperties[T],\n  ) {\n    this.shapeProperties[name] = value;\n  }\n\n  getSourceGeoJson() {\n    return this.source.getGeoJson();\n  }\n\n  addGeoJson(geoJson: GeoJsonShapeFeature) {\n    if (!this.isFeatureAvailable()) {\n      throw new Error(`Feature not found: \"${this.id}\"`);\n    }\n\n    const featureCollection = this.getSourceGeoJson();\n    if (featureCollection.features[this.order]) {\n      log.error('FeatureData.addGeoJson, not an empty feature', this.id, featureCollection);\n    }\n\n    const shapeGeoJson = {\n      ...geoJson,\n      id: this.id,\n      properties: {\n        ...geoJson.properties,\n        [FEATURE_ID_PROPERTY]: this.id,\n      },\n    };\n    featureCollection.features[this.order] = shapeGeoJson;\n\n    this.updateGeoJsonCenter(shapeGeoJson);\n    this.gm.features.updateSourceData({\n      diff: { add: [shapeGeoJson] },\n      sourceName: this.sourceName,\n    });\n  }\n\n  removeGeoJson() {\n    if (!this.isFeatureAvailable()) {\n      throw new Error(`Feature not found: \"${this.id}\"`);\n    }\n    this.fixOrder();\n\n    const featureCollection = this.getSourceGeoJson();\n    delete featureCollection.features[this.order];\n    this.gm.features.updateSourceData({\n      diff: { remove: [this.id] },\n      sourceName: this.sourceName,\n    });\n\n    (this as { order: FeatureOrder }).order = null;\n  }\n\n  removeMarkers() {\n    this.markers.forEach((markerData) => {\n      if (markerData.instance instanceof BaseDomMarker) {\n        markerData.instance.remove();\n      } else {\n        this.gm.features.delete(markerData.instance);\n      }\n    });\n    this.markers = new Map();\n  }\n\n  updateGeoJsonGeometry(geometry: BasicGeometry) {\n    if (!this.isFeatureAvailable()) {\n      throw new Error(`Feature not found: \"${this.id}\"`);\n    }\n    this.fixOrder();\n\n    const fcGeoJson = this.getSourceGeoJson();\n    fcGeoJson.features[this.order].geometry = geometry;\n\n    const diff = {\n      update: [\n        fcGeoJson.features[this.order],\n      ],\n    };\n    this.gm.features.updateSourceData({\n      diff,\n      sourceName: this.sourceName,\n    });\n  }\n\n  updateGeoJsonProperties(properties: Partial<ShapeGeoJsonProperties>) {\n    if (!this.isFeatureAvailable()) {\n      throw new Error(`Feature not found: \"${this.id}\"`);\n    }\n    this.fixOrder();\n\n    const fcGeoJson = this.getSourceGeoJson();\n    fcGeoJson.features[this.order].properties = {\n      ...fcGeoJson.features[this.order].properties,\n      ...properties,\n    };\n\n    const diff = {\n      update: [\n        fcGeoJson.features[this.order],\n      ],\n    };\n    this.gm.features.updateSourceData({\n      diff,\n      sourceName: this.sourceName,\n    });\n  }\n\n  updateGeoJsonCenter(geoJson: GeoJsonShapeFeature) {\n    if (this.shape === 'circle') {\n      const shapeCentroid = geoJsonPointToLngLat(centroid(geoJson));\n      this.setShapeProperty('center', shapeCentroid);\n    }\n  }\n\n  convertToPolygon(): boolean {\n    if (this.isConvertableToPolygon()) {\n      this.shape = 'polygon';\n      this.shapeProperties.center = null;\n      return true;\n    }\n\n    return false;\n  }\n\n  isConvertableToPolygon(): boolean {\n    return conversionAllowedShapes.includes(this.shape);\n  }\n\n  fixOrder() {\n    if (!this.isFeatureAvailable()) {\n      throw new Error(`Feature not found: \"${this.id}\"`);\n    }\n  }\n\n  isFeatureAvailable(): this is { order: number } {\n    return this.order !== null;\n  }\n\n  changeSource({ sourceName, atomic }: {\n    sourceName: FeatureSourceName,\n    atomic: boolean,\n  }) {\n    if (atomic) {\n      this.gm.features.withAtomicSourcesUpdate(\n        () => this.actualChangeSource({ sourceName, atomic }),\n      );\n    } else {\n      this.actualChangeSource({ sourceName, atomic });\n    }\n  }\n\n  actualChangeSource({ sourceName, atomic }: {\n    sourceName: FeatureSourceName,\n    atomic: boolean,\n  }) {\n    if (this.source.id === sourceName) {\n      log.error(`FeatureData.changeSource: feature \"${this.id}\" already has the source \"${sourceName}\"`);\n      return;\n    }\n\n    const source = this.gm.features.sources[sourceName];\n    if (!source) {\n      log.error(`FeatureData.changeSource: missing source \"${sourceName}\"`);\n      return;\n    }\n\n    const shapeGeoJson = this.getGeoJson();\n    this.removeGeoJson();\n    this.source = source;\n    this.order = this.getFreeOrder();\n    this.addGeoJson(shapeGeoJson);\n\n    this.markers.forEach((markerData) => {\n      if (markerData.instance instanceof FeatureData) {\n        markerData.instance.changeSource({ sourceName, atomic });\n      }\n    });\n  }\n\n  delete() {\n    this.removeGeoJson();\n    this.removeMarkers();\n\n    this.id = 'no-id';\n    this.orders = this.getEmptyOrders();\n  }\n}\n","import type { GMBeforeFeatureCreateEvent, GMBeforeFeatureUpdateEvent } from '@/main.ts';\nimport { isGmEvent } from '@/utils/guards/events/index.ts';\n\n\nexport const isGmFeatureBeforeCreateEvent = (\n  payload: unknown,\n): payload is GMBeforeFeatureCreateEvent => {\n  return (\n    isGmEvent(payload)\n    && payload.action === 'before_create'\n  );\n};\n\nexport const isGmFeatureBeforeUpdateEvent = (\n  payload: unknown,\n): payload is GMBeforeFeatureUpdateEvent => {\n  return (\n    isGmEvent(payload)\n    && payload.action === 'before_update'\n  );\n};\n","import type { ModeName } from '@/types/controls.ts';\nimport { type GMBaseEvent } from '@/types/events/index.ts';\nimport type { ActionType } from '@/types/options.ts';\n\n\nexport const controlActions = ['on', 'off'] as const;\n\nexport interface GMControlSwitchEvent extends GMBaseEvent {\n  type: 'control',\n  action: typeof controlActions[number];\n  section: ActionType,\n  target: ModeName,\n}\n\nexport interface GMControlLoadEvent extends GMBaseEvent {\n  type: 'control',\n  action: 'loaded' | 'unloaded';\n}\n\nexport type GMControlEvent = GMControlSwitchEvent | GMControlLoadEvent;\n","import { controlActions } from '@/types/events/control.ts';\nimport type { GMControlSwitchEvent } from '@/types/index.ts';\nimport { isGmEvent } from '@/utils/guards/events/index.ts';\n\n\nexport const isGmControlEvent = (\n  payload: unknown,\n): payload is GMControlSwitchEvent => {\n  return (\n    isGmEvent(payload)\n    && payload.type === 'control'\n    && controlActions.includes(payload.action as GMControlSwitchEvent['action'])\n  );\n};\n","import type { GmBaseModeEvent, GMEvent } from '@/main.ts';\nimport { modeActions } from '@/types/events/mode.ts';\nimport { includesWithType } from '@/utils/typing.ts';\n\n\nexport const isGmEvent = (payload: unknown): payload is GMEvent => {\n  return !!(\n    payload\n    && typeof payload === 'object'\n    && 'level' in payload\n    && 'type' in payload\n    && 'action' in payload\n  );\n};\n\nexport const isGmModeEvent = (payload: unknown): payload is GmBaseModeEvent => {\n  return (\n    isGmEvent(payload)\n    && includesWithType(payload.action, modeActions)\n  );\n};\nexport { isGmControlEvent } from '@/utils/guards/events/control.ts';\n","import type {\n  ActionType,\n  ControlOptions,\n  GenericSystemControl,\n  Geoman,\n  GMControlSwitchEvent,\n  GMDrawModeEvent,\n  GMEditModeEvent,\n  GMEvent,\n  GMHelperModeEvent,\n  ModeName,\n} from '@/main.ts';\nimport { isGmControlEvent, isGmModeEvent } from '@/utils/guards/events/index.ts';\nimport log from 'loglevel';\n\n\nexport const gmPrefix = 'gm';\n\nexport abstract class BaseEventListener {\n  gm: Geoman;\n\n  protected constructor(gm: Geoman) {\n    this.gm = gm;\n  }\n\n  trackExclusiveModes(payload: GMEvent) {\n    // if an exclusive mode is started, turn off all other exclusive modes\n    if (payload.action !== 'mode_start') {\n      return;\n    }\n\n    const {\n      sectionName: currentSectionName,\n      modeName: currentModeName,\n    } = this.getControlIds(payload) || {};\n\n    const control = this.getControl(payload);\n    if (!control?.settings.exclusive) {\n      return;\n    }\n\n    this.gm.control.eachControlWithOptions((item) => {\n      const actionType = item.control.type;\n      const targetMode = item.control.targetMode;\n\n      if (actionType === currentSectionName && targetMode === currentModeName) {\n        return;\n      }\n\n      if (item.controlOptions.active && item.control.settings.exclusive) {\n        this.gm.options.disableMode(actionType, targetMode);\n      }\n    });\n  }\n\n  trackRelatedModes(payload: GMEvent) {\n    if (!isGmModeEvent(payload)) {\n      return;\n    }\n\n    this.gm.control.eachControlWithOptions((item) => {\n      const control = item.control;\n\n      if (control.settings.enabledBy?.includes(payload.mode)) {\n        if (payload.action === 'mode_start') {\n          this.gm.options.enableMode(control.type, control.targetMode);\n        } else if (payload.action === 'mode_end') {\n          this.gm.options.disableMode(control.type, control.targetMode);\n        } else {\n          log.error('Unknown mode action', payload.action);\n        }\n      }\n    });\n  }\n\n  getControl(\n    payload: GMDrawModeEvent | GMEditModeEvent | GMHelperModeEvent | GMControlSwitchEvent,\n  ): GenericSystemControl | null {\n    const { modeName, sectionName } = this.getControlIds(payload) || {};\n\n    if (modeName && sectionName) {\n      return this.gm.control.getControl({ actionType: sectionName, modeName });\n    }\n\n    return null;\n  }\n\n  getControlOptions(\n    payload: GMDrawModeEvent | GMEditModeEvent | GMHelperModeEvent | GMControlSwitchEvent,\n  ): ControlOptions | null {\n    const { modeName, sectionName } = this.getControlIds(payload) || {};\n\n    if (modeName && sectionName) {\n      return this.gm.options.getControlOptions({ actionType: sectionName, modeName });\n    }\n\n    return null;\n  }\n\n  getControlIds(\n    payload: GMDrawModeEvent | GMEditModeEvent | GMHelperModeEvent | GMControlSwitchEvent,\n  ) {\n    let sectionName: ActionType | null = null;\n    let modeName: ModeName | null = null;\n\n    if (payload.action === 'mode_start') {\n      sectionName = payload.type;\n      modeName = payload.mode;\n    } else if (isGmControlEvent(payload)) {\n      sectionName = payload.section;\n      modeName = payload.target;\n    }\n\n    return sectionName && modeName ? { sectionName, modeName } : null;\n  }\n}\n","import type { GeoJsonDiffStorage, GeoJsonShapeFeatureCollection } from '@/main.ts';\nimport type { GeoJSON } from 'geojson';\nimport log from 'loglevel';\n\n\nexport abstract class BaseSource<TSourceInstance = unknown> {\n  abstract sourceInstance: TSourceInstance | null;\n\n  abstract createSource(\n    { geoJson, sourceId }: { sourceId: string, geoJson: GeoJSON },\n  ): TSourceInstance;\n\n  abstract get id(): string;\n\n  abstract getGeoJson(): GeoJsonShapeFeatureCollection;\n\n  abstract setGeoJson(geoJson: GeoJSON): void;\n\n  abstract updateData(updateStorage: GeoJsonDiffStorage): void;\n\n  abstract remove({ removeLayers }: { removeLayers: boolean }): void;\n\n  isInstanceAvailable(): this is { sourceInstance: TSourceInstance } {\n    if (this.sourceInstance) {\n      return true;\n    }\n\n    log.error('Source instance is not available');\n    return false;\n  }\n}\n","import { type GMBaseEvent } from '@/types/events/index.ts';\nimport type { GmBaseModeEvent } from '@/types/events/mode.ts';\n\nimport type { HelperModeName } from '@/types/modes/index.ts';\nimport type { ActionType } from '@/types/options.ts';\n\n\nexport interface GMHelperModeEvent extends GmBaseModeEvent {\n  type: 'helper',\n  mode: HelperModeName,\n}\n\nexport const geofencingViolationActions = [\n  'intersection_violation',\n  'containment_violation',\n] as const;\n\nexport interface GMGeofencingViolationEvent extends GMBaseEvent {\n  mode: 'geofencing',\n  actionType: ActionType,\n  action: typeof geofencingViolationActions[number],\n}\n\nexport type GMHelperEvent = GMHelperModeEvent | GMGeofencingViolationEvent;\n","import type { GMGeofencingViolationEvent, GMHelperModeEvent } from '@/main.ts';\nimport { geofencingViolationActions } from '@/types/events/helper.ts';\nimport { isGmEvent } from '@/utils/guards/events/index.ts';\nimport { includesWithType } from '@/utils/typing.ts';\n\n\nexport const isGmHelperEvent = (payload: unknown): payload is GMHelperModeEvent => {\n  return (\n    isGmEvent(payload)\n    && payload.type === 'helper'\n  );\n};\n\nexport const isGmGeofencingViolationEvent = (\n  payload: unknown,\n): payload is GMGeofencingViolationEvent => {\n  return (\n    isGmHelperEvent(payload)\n    && payload.mode === 'geofencing'\n    && includesWithType(payload.action, geofencingViolationActions)\n  );\n};\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport type { FeatureData } from '@/core/features/feature-data.ts';\nimport type {\n  ActionOptions,\n  ActionType,\n  AnyEvent,\n  EditModeName,\n  GeoJsonShapeFeature,\n  Geoman,\n  GMBeforeFeatureCreateEvent,\n  GMBeforeFeatureUpdateEvent,\n  GMGeofencingViolationEvent,\n  MapEventHandlers,\n  ModeName,\n  NonEmptyArray,\n  SubActions,\n} from '@/main.ts';\nimport type { SnappingHelper } from '@/modes/helpers/snapping.ts';\nimport { isGmGeofencingViolationEvent } from '@/utils/guards/events/helper.ts';\nimport log from 'loglevel';\n\n\nexport const actionTypes = ['draw', 'edit', 'helper'] as const;\n\nexport abstract class BaseAction {\n  gm: Geoman;\n  abstract actionType: ActionType;\n  abstract mode: ModeName;\n  options: ActionOptions = [];\n  actions: SubActions = [];\n  flags = {\n    featureCreateAllowed: true,\n    featureUpdateAllowed: true,\n  };\n\n  abstract mapEventHandlers: MapEventHandlers;\n\n  internalMapEventHandlers: MapEventHandlers = {\n    [`${gmPrefix}:helper`]: this.handleHelperEvent.bind(this),\n  };\n\n  constructor(gm: Geoman) {\n    this.gm = gm;\n  }\n\n  abstract onStartAction(): void;\n\n  abstract onEndAction(): void;\n\n  startAction() {\n    this.gm.events.bus.attachEvents(this.internalMapEventHandlers);\n    this.gm.events.bus.attachEvents(this.mapEventHandlers);\n    this.onStartAction();\n  }\n\n  endAction() {\n    this.onEndAction();\n    this.gm.events.bus.detachEvents(this.mapEventHandlers);\n    this.gm.events.bus.detachEvents(this.internalMapEventHandlers);\n  }\n\n  get snappingHelper(): SnappingHelper | null {\n    return (\n      this.gm.actionInstances.helper__snapping || null\n    ) as SnappingHelper | null;\n  }\n\n  getOptionValue(name: string) {\n    const option = this.options.find((item) => item.name === name);\n    if (!option) {\n      throw new Error(`Option ${name} not found`);\n    }\n\n    if (option.type === 'toggle') {\n      return option.value;\n    } else if (option.type === 'select') {\n      return option.value.value;\n    } else {\n      throw new Error(`Unknown option type: ${JSON.stringify(option)}`);\n    }\n  }\n\n  applyOptionValue(name: string, value: boolean | string | number) {\n    const option = this.options.find((item) => item.name === name);\n    if (!option) {\n      log.error('Option not found', name, value);\n      return;\n    }\n\n    if (option.type === 'toggle' && typeof value === 'boolean') {\n      option.value = value;\n    } else if (option.type === 'select') {\n      const choiceItemValue = option.choices.find((item) => item.value === value);\n      if (choiceItemValue) {\n        option.value = choiceItemValue;\n      }\n    } else {\n      log.error('Can\\'t apply option value', name, value, option);\n    }\n  }\n\n  handleHelperEvent(event: AnyEvent) {\n    if (isGmGeofencingViolationEvent(event)) {\n      return this.handleGeofencingViolationEvent(event);\n    }\n\n    return { next: true };\n  }\n\n  handleGeofencingViolationEvent(event: GMGeofencingViolationEvent) {\n    if (event.actionType === 'draw') {\n      this.flags.featureCreateAllowed = false;\n    } else if (event.actionType === 'edit') {\n      this.flags.featureUpdateAllowed = false;\n    }\n    return { next: true };\n  }\n\n  fireBeforeFeatureCreate(\n    { geoJsonFeatures, forceMode = undefined }: {\n      geoJsonFeatures: NonEmptyArray<GeoJsonShapeFeature>,\n      forceMode?: EditModeName\n    },\n  ) {\n    this.flags.featureCreateAllowed = true;\n\n    const payload: GMBeforeFeatureCreateEvent = {\n      level: 'system',\n      type: this.actionType,\n      mode: forceMode || this.mode,\n      action: 'before_create',\n      geoJsonFeatures,\n    };\n    this.gm.events.fire(`${gmPrefix}:${this.actionType}`, payload);\n  }\n\n  fireBeforeFeatureUpdate(\n    { features, geoJsonFeatures, forceMode = undefined }: {\n      features: NonEmptyArray<FeatureData>,\n      geoJsonFeatures: NonEmptyArray<GeoJsonShapeFeature>,\n      forceMode?: EditModeName\n    },\n  ) {\n    this.flags.featureUpdateAllowed = true;\n\n    const payload: GMBeforeFeatureUpdateEvent = {\n      level: 'system',\n      type: this.actionType,\n      mode: forceMode || this.mode,\n      action: 'before_update',\n      features,\n      geoJsonFeatures,\n    };\n    this.gm.events.fire(`${gmPrefix}:${this.actionType}`, payload);\n  }\n}\n","import type {\n  GMDrawLineDrawerEvent,\n  GMDrawEvent,\n  GMDrawFreehandDrawerEvent,\n  GMDrawFreehandDrawerEventWithData,\n  GMDrawLineDrawerEventWithData,\n  GMDrawShapeEvent,\n  GMDrawShapeEventWithData,\n} from '@/types/index.ts';\nimport { isGmEvent } from '@/utils/guards/events/index.ts';\n\n\nexport const isGmDrawEvent = (payload: unknown): payload is GMDrawEvent => {\n  return (\n    isGmEvent(payload)\n    && payload.type === 'draw'\n  );\n};\n\nexport const isGmDrawShapeEvent = (\n  payload: unknown,\n): payload is GMDrawShapeEvent | GMDrawShapeEventWithData => {\n  return (\n    isGmEvent(payload)\n    && payload.type === 'draw'\n    && 'variant' in payload\n    && payload.variant === null\n  );\n};\n\nexport const isGmDrawLineDrawerEvent = (\n  payload: unknown,\n): payload is GMDrawLineDrawerEvent | GMDrawLineDrawerEventWithData => {\n  return (\n    isGmEvent(payload)\n    && payload.type === 'draw'\n    && 'variant' in payload\n    && payload.variant === 'line_drawer'\n  );\n};\n\nexport const isGmDrawFreehandDrawerEvent = (\n  payload: unknown,\n): payload is GMDrawFreehandDrawerEvent | GMDrawFreehandDrawerEventWithData => {\n  return (\n    isGmEvent(payload)\n    && payload.type === 'draw'\n    && 'variant' in payload\n    && payload.variant === 'freehand_drawer'\n  );\n};\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type {\n  ActionType,\n  DrawModeName,\n  GMDrawShapeEvent,\n  GMDrawShapeEventWithData,\n  GMEvent,\n  ShapeName,\n} from '@/main.ts';\nimport { BaseAction } from '@/modes/base-action.ts';\nimport { isGmDrawLineDrawerEvent } from '@/utils/guards/events/draw.ts';\nimport log from 'loglevel';\n\n\nexport const shapeNames = [\n  // shapes\n  'marker',\n  'circle',\n  'circle_marker',\n  'text_marker',\n  'line',\n  'rectangle',\n  'polygon',\n] as const;\n\nexport const extraDrawModes = [\n  'freehand',\n  'custom_shape',\n] as const;\n\nexport const drawModes = [\n  ...shapeNames,\n  ...extraDrawModes,\n] as const;\n\n\nexport abstract class BaseDraw extends BaseAction {\n  actionType: ActionType = 'draw';\n  abstract mode: DrawModeName;\n  shape: ShapeName | null = null;\n  featureData: FeatureData | null = null;\n\n  saveFeature() {\n    if (this.featureData) {\n      const featureGeoJson = this.featureData.getGeoJson();\n      this.removeTmpFeature();\n      this.gm.features.createFeature({\n        sourceName: SOURCES.main,\n        shapeGeoJson: featureGeoJson,\n      });\n    } else {\n      log.error('BaseDraw.saveFeature: no featureData to save');\n    }\n  }\n\n  removeTmpFeature() {\n    if (this.featureData) {\n      if (!this.featureData.temporary) {\n        log.error('Not a temporary feature to remove', this.featureData);\n      }\n      this.gm.features.delete(this.featureData);\n      this.featureData = null;\n    }\n  }\n\n  fireMarkerPointerStartEvent() {\n    if (!this.gm.markerPointer.marker || !this.shape) {\n      return;\n    }\n\n    const marker = this.gm.markerPointer.marker;\n    const payload: GMDrawShapeEventWithData = {\n      level: 'system',\n      variant: null,\n      type: 'draw',\n      mode: this.shape,\n      action: 'start',\n      markerData: {\n        type: 'dom',\n        instance: marker,\n        position: {\n          coordinate: marker.getLngLat(),\n          path: [-1],\n        },\n      },\n      featureData: this.featureData,\n    };\n    this.gm.events.fire(`${gmPrefix}:draw`, payload);\n  }\n\n  fireMarkerPointerUpdateEvent() {\n    if (!this.gm.markerPointer.marker || !this.shape) {\n      return;\n    }\n\n    const marker = this.gm.markerPointer.marker;\n    const payload: GMDrawShapeEventWithData = {\n      level: 'system',\n      variant: null,\n      type: 'draw',\n      mode: this.shape,\n      action: 'update',\n      markerData: {\n        type: 'dom',\n        instance: marker,\n        position: {\n          coordinate: marker.getLngLat(),\n          path: [-1],\n        },\n      },\n      featureData: this.featureData,\n    };\n    this.gm.events.fire(`${gmPrefix}:draw`, payload);\n  }\n\n  fireMarkerPointerFinishEvent() {\n    if (!this.shape) {\n      return;\n    }\n\n    const payload: GMDrawShapeEvent = {\n      level: 'system',\n      variant: null,\n      type: 'draw',\n      mode: this.shape,\n      action: 'finish',\n    };\n    this.gm.events.fire(`${gmPrefix}:draw`, payload);\n  }\n\n  forwardLineDrawerEvent(payload: GMEvent) {\n    if (!isGmDrawLineDrawerEvent(payload) || !this.shape) {\n      return { next: true };\n    }\n\n    if (payload.action === 'start' || payload.action === 'update') {\n      const eventData: GMDrawShapeEventWithData = {\n        level: 'system',\n        type: 'draw',\n        mode: this.shape,\n        variant: null,\n        action: payload.action,\n        featureData: payload.featureData,\n        markerData: payload.markerData,\n      };\n      this.gm.events.fire(`${gmPrefix}:draw`, eventData);\n    } else if (payload.action === 'finish' || payload.action === 'cancel') {\n      const eventData: GMDrawShapeEvent = {\n        level: 'system',\n        type: 'draw',\n        mode: this.shape,\n        variant: null,\n        action: payload.action,\n      };\n      this.gm.events.fire(`${gmPrefix}:draw`, eventData);\n    }\n\n    return { next: true };\n  }\n}\n","export const epsilon = 1.1102230246251565e-16;\nexport const splitter = 134217729;\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n// fast_expansion_sum_zeroelim routine from oritinal code\nexport function sum(elen, e, flen, f, h) {\n    let Q, Qnew, hh, bvirt;\n    let enow = e[0];\n    let fnow = f[0];\n    let eindex = 0;\n    let findex = 0;\n    if ((fnow > enow) === (fnow > -enow)) {\n        Q = enow;\n        enow = e[++eindex];\n    } else {\n        Q = fnow;\n        fnow = f[++findex];\n    }\n    let hindex = 0;\n    if (eindex < elen && findex < flen) {\n        if ((fnow > enow) === (fnow > -enow)) {\n            Qnew = enow + Q;\n            hh = Q - (Qnew - enow);\n            enow = e[++eindex];\n        } else {\n            Qnew = fnow + Q;\n            hh = Q - (Qnew - fnow);\n            fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n            if ((fnow > enow) === (fnow > -enow)) {\n                Qnew = Q + enow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\n                enow = e[++eindex];\n            } else {\n                Qnew = Q + fnow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n                fnow = f[++findex];\n            }\n            Q = Qnew;\n            if (hh !== 0) {\n                h[hindex++] = hh;\n            }\n        }\n    }\n    while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n}\n\n// scale_expansion_zeroelim routine from oritinal code\nexport function scale(elen, e, b, h) {\n    let Q, sum, hh, product1, product0;\n    let bvirt, c, ahi, alo, bhi, blo;\n\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    let enow = e[0];\n    Q = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n    let hindex = 0;\n    if (hh !== 0) {\n        h[hindex++] = hh;\n    }\n    for (let i = 1; i < elen; i++) {\n        enow = e[i];\n        product1 = enow * b;\n        c = splitter * enow;\n        ahi = c - (c - enow);\n        alo = enow - ahi;\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n        sum = Q + product0;\n        bvirt = sum - Q;\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        Q = product1 + sum;\n        hh = sum - (Q - product1);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function negate(elen, e) {\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\n    return elen;\n}\n\nexport function estimate(elen, e) {\n    let Q = e[0];\n    for (let i = 1; i < elen; i++) Q += e[i];\n    return Q;\n}\n\nexport function vec(n) {\n    return new Float64Array(n);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\n\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n\nconst B = vec(4);\nconst C1 = vec(8);\nconst C2 = vec(12);\nconst D = vec(16);\nconst u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n    let acxtail, acytail, bcxtail, bcytail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const acx = ax - cx;\n    const bcx = bx - cx;\n    const acy = ay - cy;\n    const bcy = by - cy;\n\n    s1 = acx * bcy;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcx;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    B[3] = u3;\n\n    let det = estimate(4, B);\n    let errbound = ccwerrboundB * detsum;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - acx;\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\n    bvirt = bx - bcx;\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n    bvirt = ay - acy;\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\n    bvirt = by - bcy;\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n    }\n\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\n    if (det >= errbound || -det >= errbound) return det;\n\n    s1 = acxtail * bcy;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcx;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C1len = sum(4, B, 4, u, C1);\n\n    s1 = acx * bcytail;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcxtail;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C2len = sum(C1len, C1, 4, u, C2);\n\n    s1 = acxtail * bcytail;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcxtail;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const Dlen = sum(C2len, C2, 4, u, D);\n\n    return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n    const detleft = (ay - cy) * (bx - cx);\n    const detright = (ax - cx) * (by - cy);\n    const det = detleft - detright;\n\n    const detsum = Math.abs(detleft + detright);\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\n\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}\n","import { orient2d } from 'robust-predicates';\n\nfunction pointInPolygon(p, polygon) {\n    var i;\n    var ii;\n    var k = 0;\n    var f;\n    var u1;\n    var v1;\n    var u2;\n    var v2;\n    var currentP;\n    var nextP;\n\n    var x = p[0];\n    var y = p[1];\n\n    var numContours = polygon.length;\n    for (i = 0; i < numContours; i++) {\n        ii = 0;\n        var contour = polygon[i];\n        var contourLen = contour.length - 1;\n\n        currentP = contour[0];\n        if (currentP[0] !== contour[contourLen][0] &&\n            currentP[1] !== contour[contourLen][1]) {\n            throw new Error('First and last coordinates in a ring must be the same')\n        }\n\n        u1 = currentP[0] - x;\n        v1 = currentP[1] - y;\n\n        for (ii; ii < contourLen; ii++) {\n            nextP = contour[ii + 1];\n\n            u2 = nextP[0] - x;\n            v2 = nextP[1] - y;\n\n            if (v1 === 0 && v2 === 0) {\n                if ((u2 <= 0 && u1 >= 0) || (u1 <= 0 && u2 >= 0)) { return 0 }\n            } else if ((v2 >= 0 && v1 <= 0) || (v2 <= 0 && v1 >= 0)) {\n                f = orient2d(u1, u2, v1, v2, 0, 0);\n                if (f === 0) { return 0 }\n                if ((f > 0 && v2 > 0 && v1 <= 0) || (f < 0 && v2 <= 0 && v1 > 0)) { k++; }\n            }\n            currentP = nextP;\n            v1 = v2;\n            u1 = u2;\n        }\n    }\n\n    if (k % 2 === 0) { return false }\n    return true\n}\n\nexport { pointInPolygon as default };\n","// index.ts\nimport pip from \"point-in-polygon-hao\";\nimport { getCoord, getGeom } from \"@turf/invariant\";\nfunction booleanPointInPolygon(point, polygon, options = {}) {\n  if (!point) {\n    throw new Error(\"point is required\");\n  }\n  if (!polygon) {\n    throw new Error(\"polygon is required\");\n  }\n  const pt = getCoord(point);\n  const geom = getGeom(polygon);\n  const type = geom.type;\n  const bbox = polygon.bbox;\n  let polys = geom.coordinates;\n  if (bbox && inBBox(pt, bbox) === false) {\n    return false;\n  }\n  if (type === \"Polygon\") {\n    polys = [polys];\n  }\n  let result = false;\n  for (var i = 0; i < polys.length; ++i) {\n    const polyResult = pip(pt, polys[i]);\n    if (polyResult === 0) return options.ignoreBoundary ? false : true;\n    else if (polyResult) result = true;\n  }\n  return result;\n}\nfunction inBBox(pt, bbox) {\n  return bbox[0] <= pt[0] && bbox[1] <= pt[1] && bbox[2] >= pt[0] && bbox[3] >= pt[1];\n}\nvar turf_boolean_point_in_polygon_default = booleanPointInPolygon;\nexport {\n  booleanPointInPolygon,\n  turf_boolean_point_in_polygon_default as default\n};\n//# sourceMappingURL=index.js.map","class TinyQueue {\n    constructor(data = [], compare = defaultCompare) {\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare;\n\n        if (this.length > 0) {\n            for (let i = (this.length >> 1) - 1; i >= 0; i--) this._down(i);\n        }\n    }\n\n    push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n    }\n\n    pop() {\n        if (this.length === 0) return undefined;\n\n        const top = this.data[0];\n        const bottom = this.data.pop();\n        this.length--;\n\n        if (this.length > 0) {\n            this.data[0] = bottom;\n            this._down(0);\n        }\n\n        return top;\n    }\n\n    peek() {\n        return this.data[0];\n    }\n\n    _up(pos) {\n        const {data, compare} = this;\n        const item = data[pos];\n\n        while (pos > 0) {\n            const parent = (pos - 1) >> 1;\n            const current = data[parent];\n            if (compare(item, current) >= 0) break;\n            data[pos] = current;\n            pos = parent;\n        }\n\n        data[pos] = item;\n    }\n\n    _down(pos) {\n        const {data, compare} = this;\n        const halfLength = this.length >> 1;\n        const item = data[pos];\n\n        while (pos < halfLength) {\n            let left = (pos << 1) + 1;\n            let best = data[left];\n            const right = left + 1;\n\n            if (right < this.length && compare(data[right], best) < 0) {\n                left = right;\n                best = data[right];\n            }\n            if (compare(best, item) >= 0) break;\n\n            data[pos] = best;\n            pos = left;\n        }\n\n        data[pos] = item;\n    }\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nfunction checkWhichEventIsLeft (e1, e2) {\n    if (e1.p.x > e2.p.x) return 1\n    if (e1.p.x < e2.p.x) return -1\n\n    if (e1.p.y !== e2.p.y) return e1.p.y > e2.p.y ? 1 : -1\n    return 1\n}\n\nfunction checkWhichSegmentHasRightEndpointFirst (seg1, seg2) {\n    if (seg1.rightSweepEvent.p.x > seg2.rightSweepEvent.p.x) return 1\n    if (seg1.rightSweepEvent.p.x < seg2.rightSweepEvent.p.x) return -1\n\n    if (seg1.rightSweepEvent.p.y !== seg2.rightSweepEvent.p.y) return seg1.rightSweepEvent.p.y < seg2.rightSweepEvent.p.y ? 1 : -1\n    return 1\n}\n\nclass Event {\n\n    constructor (p, featureId, ringId, eventId) {\n        this.p = {\n            x: p[0],\n            y: p[1]\n        };\n        this.featureId = featureId;\n        this.ringId = ringId;\n        this.eventId = eventId;\n\n        this.otherEvent = null;\n        this.isLeftEndpoint = null;\n    }\n\n    isSamePoint (eventToCheck) {\n        return this.p.x === eventToCheck.p.x && this.p.y === eventToCheck.p.y\n    }\n}\n\nfunction fillEventQueue (geojson, eventQueue) {\n    if (geojson.type === 'FeatureCollection') {\n        const features = geojson.features;\n        for (let i = 0; i < features.length; i++) {\n            processFeature(features[i], eventQueue);\n        }\n    } else {\n        processFeature(geojson, eventQueue);\n    }\n}\n\nlet featureId = 0;\nlet ringId = 0;\nlet eventId = 0;\nfunction processFeature (featureOrGeometry, eventQueue) {\n    const geom = featureOrGeometry.type === 'Feature' ? featureOrGeometry.geometry : featureOrGeometry;\n    let coords = geom.coordinates;\n    // standardise the input\n    if (geom.type === 'Polygon' || geom.type === 'MultiLineString') coords = [coords];\n    if (geom.type === 'LineString') coords = [[coords]];\n\n    for (let i = 0; i < coords.length; i++) {\n        for (let ii = 0; ii < coords[i].length; ii++) {\n            let currentP = coords[i][ii][0];\n            let nextP = null;\n            ringId = ringId + 1;\n            for (let iii = 0; iii < coords[i][ii].length - 1; iii++) {\n                nextP = coords[i][ii][iii + 1];\n\n                const e1 = new Event(currentP, featureId, ringId, eventId);\n                const e2 = new Event(nextP, featureId, ringId, eventId + 1);\n\n                e1.otherEvent = e2;\n                e2.otherEvent = e1;\n\n                if (checkWhichEventIsLeft(e1, e2) > 0) {\n                    e2.isLeftEndpoint = true;\n                    e1.isLeftEndpoint = false;\n                } else {\n                    e1.isLeftEndpoint = true;\n                    e2.isLeftEndpoint = false;\n                }\n                eventQueue.push(e1);\n                eventQueue.push(e2);\n\n                currentP = nextP;\n                eventId = eventId + 1;\n            }\n        }\n    }\n    featureId = featureId + 1;\n}\n\nclass Segment {\n\n    constructor (event) {\n        this.leftSweepEvent = event;\n        this.rightSweepEvent = event.otherEvent;\n    }\n}\n\nfunction testSegmentIntersect (seg1, seg2) {\n    if (seg1 === null || seg2 === null) return false\n\n    if (seg1.leftSweepEvent.ringId === seg2.leftSweepEvent.ringId &&\n        (seg1.rightSweepEvent.isSamePoint(seg2.leftSweepEvent) ||\n        seg1.rightSweepEvent.isSamePoint(seg2.leftSweepEvent) ||\n        seg1.rightSweepEvent.isSamePoint(seg2.rightSweepEvent) ||\n        seg1.leftSweepEvent.isSamePoint(seg2.leftSweepEvent) ||\n        seg1.leftSweepEvent.isSamePoint(seg2.rightSweepEvent))) return false\n\n    const x1 = seg1.leftSweepEvent.p.x;\n    const y1 = seg1.leftSweepEvent.p.y;\n    const x2 = seg1.rightSweepEvent.p.x;\n    const y2 = seg1.rightSweepEvent.p.y;\n    const x3 = seg2.leftSweepEvent.p.x;\n    const y3 = seg2.leftSweepEvent.p.y;\n    const x4 = seg2.rightSweepEvent.p.x;\n    const y4 = seg2.rightSweepEvent.p.y;\n\n    const denom = ((y4 - y3) * (x2 - x1)) - ((x4 - x3) * (y2 - y1));\n    const numeA = ((x4 - x3) * (y1 - y3)) - ((y4 - y3) * (x1 - x3));\n    const numeB = ((x2 - x1) * (y1 - y3)) - ((y2 - y1) * (x1 - x3));\n\n    if (denom === 0) {\n        if (numeA === 0 && numeB === 0) return false\n        return false\n    }\n\n    const uA = numeA / denom;\n    const uB = numeB / denom;\n\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n        const x = x1 + (uA * (x2 - x1));\n        const y = y1 + (uA * (y2 - y1));\n        return [x, y]\n    }\n    return false\n}\n\n// import {debugEventAndSegments, debugRemovingSegment} from './debug'\n\nfunction runCheck (eventQueue, ignoreSelfIntersections) {\n    ignoreSelfIntersections = ignoreSelfIntersections ? ignoreSelfIntersections : false;\n\n    const intersectionPoints = [];\n    const outQueue = new TinyQueue([], checkWhichSegmentHasRightEndpointFirst);\n\n    while (eventQueue.length) {\n        const event = eventQueue.pop();\n        if (event.isLeftEndpoint) {\n            // debugEventAndSegments(event.p, outQueue.data)\n            const segment = new Segment(event);\n            for (let i = 0; i < outQueue.data.length; i++) {\n                const otherSeg = outQueue.data[i];\n                if (ignoreSelfIntersections) {\n                    if (otherSeg.leftSweepEvent.featureId === event.featureId) continue\n                }\n                const intersection = testSegmentIntersect(segment, otherSeg);\n                if (intersection !== false) intersectionPoints.push(intersection);\n            }\n            outQueue.push(segment);\n        } else if (event.isLeftEndpoint === false) {\n            outQueue.pop();\n            // const seg = outQueue.pop()\n            // debugRemovingSegment(event.p, seg)\n        }\n    }\n    return intersectionPoints\n}\n\nfunction sweeplineIntersections (geojson, ignoreSelfIntersections) {\n    const eventQueue = new TinyQueue([], checkWhichEventIsLeft);\n    fillEventQueue(geojson, eventQueue);\n    return runCheck(eventQueue, ignoreSelfIntersections)\n}\n\nexport default sweeplineIntersections;\n","// index.ts\nimport { feature, featureCollection, point } from \"@turf/helpers\";\n\n// lib/sweepline-intersections-export.ts\nimport lib from \"sweepline-intersections\";\nvar sweeplineIntersections = lib;\n\n// index.ts\nfunction lineIntersect(line1, line2, options = {}) {\n  const { removeDuplicates = true, ignoreSelfIntersections = true } = options;\n  let features = [];\n  if (line1.type === \"FeatureCollection\")\n    features = features.concat(line1.features);\n  else if (line1.type === \"Feature\") features.push(line1);\n  else if (line1.type === \"LineString\" || line1.type === \"Polygon\" || line1.type === \"MultiLineString\" || line1.type === \"MultiPolygon\") {\n    features.push(feature(line1));\n  }\n  if (line2.type === \"FeatureCollection\")\n    features = features.concat(line2.features);\n  else if (line2.type === \"Feature\") features.push(line2);\n  else if (line2.type === \"LineString\" || line2.type === \"Polygon\" || line2.type === \"MultiLineString\" || line2.type === \"MultiPolygon\") {\n    features.push(feature(line2));\n  }\n  const intersections = sweeplineIntersections(\n    featureCollection(features),\n    ignoreSelfIntersections\n  );\n  let results = [];\n  if (removeDuplicates) {\n    const unique = {};\n    intersections.forEach((intersection) => {\n      const key = intersection.join(\",\");\n      if (!unique[key]) {\n        unique[key] = true;\n        results.push(intersection);\n      }\n    });\n  } else {\n    results = intersections;\n  }\n  return featureCollection(results.map((r) => point(r)));\n}\nvar turf_line_intersect_default = lineIntersect;\nexport {\n  turf_line_intersect_default as default,\n  lineIntersect\n};\n//# sourceMappingURL=index.js.map","// index.ts\nfunction clone(geojson) {\n  if (!geojson) {\n    throw new Error(\"geojson is required\");\n  }\n  switch (geojson.type) {\n    case \"Feature\":\n      return cloneFeature(geojson);\n    case \"FeatureCollection\":\n      return cloneFeatureCollection(geojson);\n    case \"Point\":\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiPoint\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n    case \"GeometryCollection\":\n      return cloneGeometry(geojson);\n    default:\n      throw new Error(\"unknown GeoJSON type\");\n  }\n}\nfunction cloneFeature(geojson) {\n  const cloned = { type: \"Feature\" };\n  Object.keys(geojson).forEach((key) => {\n    switch (key) {\n      case \"type\":\n      case \"properties\":\n      case \"geometry\":\n        return;\n      default:\n        cloned[key] = geojson[key];\n    }\n  });\n  cloned.properties = cloneProperties(geojson.properties);\n  if (geojson.geometry == null) {\n    cloned.geometry = null;\n  } else {\n    cloned.geometry = cloneGeometry(geojson.geometry);\n  }\n  return cloned;\n}\nfunction cloneProperties(properties) {\n  const cloned = {};\n  if (!properties) {\n    return cloned;\n  }\n  Object.keys(properties).forEach((key) => {\n    const value = properties[key];\n    if (typeof value === \"object\") {\n      if (value === null) {\n        cloned[key] = null;\n      } else if (Array.isArray(value)) {\n        cloned[key] = value.map((item) => {\n          return item;\n        });\n      } else {\n        cloned[key] = cloneProperties(value);\n      }\n    } else {\n      cloned[key] = value;\n    }\n  });\n  return cloned;\n}\nfunction cloneFeatureCollection(geojson) {\n  const cloned = { type: \"FeatureCollection\" };\n  Object.keys(geojson).forEach((key) => {\n    switch (key) {\n      case \"type\":\n      case \"features\":\n        return;\n      default:\n        cloned[key] = geojson[key];\n    }\n  });\n  cloned.features = geojson.features.map((feature) => {\n    return cloneFeature(feature);\n  });\n  return cloned;\n}\nfunction cloneGeometry(geometry) {\n  const geom = { type: geometry.type };\n  if (geometry.bbox) {\n    geom.bbox = geometry.bbox;\n  }\n  if (geometry.type === \"GeometryCollection\") {\n    geom.geometries = geometry.geometries.map((g) => {\n      return cloneGeometry(g);\n    });\n    return geom;\n  }\n  geom.coordinates = deepSlice(geometry.coordinates);\n  return geom;\n}\nfunction deepSlice(coords) {\n  const cloned = coords;\n  if (typeof cloned[0] !== \"object\") {\n    return cloned.slice();\n  }\n  return cloned.map((coord) => {\n    return deepSlice(coord);\n  });\n}\nvar turf_clone_default = clone;\nexport {\n  clone,\n  cloneProperties,\n  turf_clone_default as default\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { getCoords } from \"@turf/invariant\";\nfunction booleanClockwise(line) {\n  const ring = getCoords(line);\n  let sum = 0;\n  let i = 1;\n  let prev;\n  let cur;\n  while (i < ring.length) {\n    prev = cur || ring[0];\n    cur = ring[i];\n    sum += (cur[0] - prev[0]) * (cur[1] + prev[1]);\n    i++;\n  }\n  return sum > 0;\n}\nvar turf_boolean_clockwise_default = booleanClockwise;\nexport {\n  booleanClockwise,\n  turf_boolean_clockwise_default as default\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { clone } from \"@turf/clone\";\nimport { booleanClockwise } from \"@turf/boolean-clockwise\";\nimport { geomEach, featureEach } from \"@turf/meta\";\nimport { getCoords } from \"@turf/invariant\";\nimport { featureCollection, isObject } from \"@turf/helpers\";\nfunction rewind(geojson, options = {}) {\n  var _a, _b;\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  const mutate = (_a = options.mutate) != null ? _a : false;\n  const reverse = (_b = options.reverse) != null ? _b : false;\n  if (!geojson) throw new Error(\"<geojson> is required\");\n  if (typeof reverse !== \"boolean\")\n    throw new Error(\"<reverse> must be a boolean\");\n  if (typeof mutate !== \"boolean\")\n    throw new Error(\"<mutate> must be a boolean\");\n  if (!mutate && geojson.type !== \"Point\" && geojson.type !== \"MultiPoint\") {\n    geojson = clone(geojson);\n  }\n  const results = [];\n  switch (geojson.type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function(geometry) {\n        rewindFeature(geometry, reverse);\n      });\n      return geojson;\n    case \"FeatureCollection\":\n      featureEach(geojson, function(feature) {\n        const rewoundFeature = rewindFeature(feature, reverse);\n        featureEach(rewoundFeature, function(result) {\n          results.push(result);\n        });\n      });\n      return featureCollection(results);\n  }\n  return rewindFeature(geojson, reverse);\n}\nfunction rewindFeature(geojson, reverse) {\n  const type = geojson.type === \"Feature\" ? geojson.geometry.type : geojson.type;\n  switch (type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function(geometry) {\n        rewindFeature(geometry, reverse);\n      });\n      return geojson;\n    case \"LineString\":\n      rewindLineString(getCoords(geojson), reverse);\n      return geojson;\n    case \"Polygon\":\n      rewindPolygon(getCoords(geojson), reverse);\n      return geojson;\n    case \"MultiLineString\":\n      getCoords(geojson).forEach(function(lineCoords) {\n        rewindLineString(lineCoords, reverse);\n      });\n      return geojson;\n    case \"MultiPolygon\":\n      getCoords(geojson).forEach(function(lineCoords) {\n        rewindPolygon(lineCoords, reverse);\n      });\n      return geojson;\n    case \"Point\":\n    case \"MultiPoint\":\n      return geojson;\n  }\n}\nfunction rewindLineString(coords, reverse) {\n  if (booleanClockwise(coords) === reverse) coords.reverse();\n}\nfunction rewindPolygon(coords, reverse) {\n  if (booleanClockwise(coords[0]) !== reverse) {\n    coords[0].reverse();\n  }\n  for (let i = 1; i < coords.length; i++) {\n    if (booleanClockwise(coords[i]) === reverse) {\n      coords[i].reverse();\n    }\n  }\n}\nvar turf_rewind_default = rewind;\nexport {\n  turf_rewind_default as default,\n  rewind\n};\n//# sourceMappingURL=index.js.map","import { Geoman, type MapInstanceWithGeoman } from '@/main.ts';\nimport type {\n  Feature,\n  Geometry,\n  LineString,\n  MultiLineString,\n  MultiPoint,\n  MultiPolygon,\n  Point,\n  Polygon,\n} from 'geojson';\n\n// Base interface for all event results\nexport interface BaseEventResult {\n  listenerIsAttached: boolean;\n  shape?: string | null;\n  feature?: boolean;\n  features?: boolean;\n  originalFeature?: boolean;\n  originalFeatures?: boolean;\n  featureId?: number | string | undefined;\n}\n\n// Define a type for window.customData that allows for any property\n// but still provides type checking for known properties\nexport interface CustomData {\n  eventResults: { [key: string]: BaseEventResult },\n  map?: MapInstanceWithGeoman,\n}\n\ndeclare global {\n  interface Window {\n    geoman: Geoman;\n    customData: CustomData;\n  }\n}\n\nexport const pointBasedGeometryType: Array<Geometry['type']> = ['Point', 'MultiPoint'];\nexport type PointBasedGeometryType = typeof pointBasedGeometryType[number];\n\nexport const lineBasedGeometryType: Array<Geometry['type']> = [\n  'LineString',\n  'MultiLineString',\n  'Polygon',\n  'MultiPolygon',\n];\nexport type LineBasedGeometryType = typeof lineBasedGeometryType[number];\n\nexport const pointBasedFeatures = ['marker', 'circle_marker', 'text_marker'];\nexport type PointBasedFeature = typeof pointBasedFeatures[number];\n\nexport const lineBasedFeatures = ['circle', 'line', 'rectangle', 'polygon'];\nexport type LineBasedFeature = typeof lineBasedFeatures[number];\n\n\nexport const isPointBasedGeoJsonFeature = (\n  feature: Feature,\n): feature is Feature<Point | MultiPoint> => {\n  return pointBasedGeometryType.includes(feature.geometry.type);\n};\n\nexport const isLineBasedGeoJsonFeature = (\n  feature: Feature,\n): feature is Feature<LineString | MultiLineString | Polygon | MultiPolygon> => {\n  return lineBasedGeometryType.includes(feature.geometry.type);\n};\n","// index.ts\nimport { bbox } from \"@turf/bbox\";\nimport { point } from \"@turf/helpers\";\nfunction center(geojson, options = {}) {\n  const ext = bbox(geojson);\n  const x = (ext[0] + ext[2]) / 2;\n  const y = (ext[1] + ext[3]) / 2;\n  return point([x, y], options.properties, options);\n}\nvar turf_center_default = center;\nexport {\n  center,\n  turf_center_default as default\n};\n//# sourceMappingURL=index.js.map","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).jsts=e()}(this,(function(){\"use strict\";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function e(t,e,n){return e=u(e),function(t,e){if(e&&(\"object\"==typeof e||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,h()?Reflect.construct(e,n||[],u(t).constructor):e.apply(t,n))}function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function i(t,e,n){if(h())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(t.bind.apply(t,i));return n&&c(r,n.prototype),r}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,v(i.key),i)}}function s(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function a(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=y(t))||e){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var s,a=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function o(){return o=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},o.apply(null,arguments)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&c(t,e)}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function f(t,e,n,i){var r=o(u(1&i?t.prototype:t),e,n);return 2&i&&\"function\"==typeof r?function(t){return r.apply(n,t)}:r}function g(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(e)||y(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function v(t){var e=function(t,e){if(\"object\"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e);if(\"object\"!=typeof i)return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t,\"string\");return\"symbol\"==typeof e?e:e+\"\"}function y(e,n){if(e){if(\"string\"==typeof e)return t(e,n);var i={}.toString.call(e).slice(8,-1);return\"Object\"===i&&e.constructor&&(i=e.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(e):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}function d(t){var e=\"function\"==typeof Map?new Map:void 0;return d=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf(\"[native code]\")}catch(e){return\"function\"==typeof t}}(t))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return i(t,arguments,u(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)},d(t)}var _=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getEndCapStyle\",value:function(){return this._endCapStyle}},{key:\"isSingleSided\",value:function(){return this._isSingleSided}},{key:\"setQuadrantSegments\",value:function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=t.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=t.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==t.JOIN_ROUND&&(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS)}},{key:\"getJoinStyle\",value:function(){return this._joinStyle}},{key:\"setJoinStyle\",value:function(t){this._joinStyle=t}},{key:\"setSimplifyFactor\",value:function(t){this._simplifyFactor=t<0?0:t}},{key:\"getSimplifyFactor\",value:function(){return this._simplifyFactor}},{key:\"getQuadrantSegments\",value:function(){return this._quadrantSegments}},{key:\"setEndCapStyle\",value:function(t){this._endCapStyle=t}},{key:\"getMitreLimit\",value:function(){return this._mitreLimit}},{key:\"setMitreLimit\",value:function(t){this._mitreLimit=t}},{key:\"setSingleSided\",value:function(t){this._isSingleSided=t}}],[{key:\"constructor_\",value:function(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2],o=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(s),this.setJoinStyle(a),this.setMitreLimit(o)}}},{key:\"bufferDistanceError\",value:function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)}}])}();_.CAP_ROUND=1,_.CAP_FLAT=2,_.CAP_SQUARE=3,_.JOIN_ROUND=1,_.JOIN_MITRE=2,_.JOIN_BEVEL=3,_.DEFAULT_QUADRANT_SEGMENTS=8,_.DEFAULT_MITRE_LIMIT=5,_.DEFAULT_SIMPLIFY_FACTOR=.01;var p=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({Exception:i})[0],r}return l(i,t),s(i,[{key:\"toString\",value:function(){return this.message}}])}(d(Error)),m=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({IllegalArgumentException:i})[0],r}return l(i,t),s(i)}(p),k=function(){return s((function t(){n(this,t)}),[{key:\"filter\",value:function(t){}}])}();function x(){}function I(){}function E(){}var N,T,S,L,C,R,w,O,b=function(){return s((function t(){n(this,t)}),null,[{key:\"equalsWithTolerance\",value:function(t,e,n){return Math.abs(t-e)<=n}}])}(),M=function(){return s((function t(e,i){n(this,t),this.low=i||0,this.high=e||0}),null,[{key:\"toBinaryString\",value:function(t){var e,n=\"\";for(e=2147483648;e>0;e>>>=1)n+=(t.high&e)===e?\"1\":\"0\";for(e=2147483648;e>0;e>>>=1)n+=(t.low&e)===e?\"1\":\"0\";return n}}])}();function A(){}function P(){}A.NaN=NaN,A.isNaN=function(t){return Number.isNaN(t)},A.isInfinite=function(t){return!Number.isFinite(t)},A.MAX_VALUE=Number.MAX_VALUE,A.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,A.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,\"function\"==typeof Float64Array&&\"function\"==typeof Int32Array?(R=2146435072,w=new Float64Array(1),O=new Int32Array(w.buffer),A.doubleToLongBits=function(t){w[0]=t;var e=0|O[0],n=0|O[1];return(n&R)===R&&1048575&n&&0!==e&&(e=0,n=2146959360),new M(n,e)},A.longBitsToDouble=function(t){return O[0]=t.low,O[1]=t.high,w[0]}):(N=1023,T=Math.log2,S=Math.floor,L=Math.pow,C=function(){for(var t=53;t>0;t--){var e=L(2,t)-1;if(S(T(e))+1===t)return e}return 0}(),A.doubleToLongBits=function(t){var e,n,i,r,s,a,o,u,l;if(t<0||1/t===Number.NEGATIVE_INFINITY?(a=1<<31,t=-t):a=0,0===t)return new M(u=a,l=0);if(t===1/0)return new M(u=2146435072|a,l=0);if(t!=t)return new M(u=2146959360,l=0);if(r=0,l=0,(e=S(t))>1)if(e<=C)(r=S(T(e)))<=20?(l=0,u=e<<20-r&1048575):(l=e%(n=L(2,i=r-20))<<32-i,u=e/n&1048575);else for(i=e,l=0;0!==(i=S(n=i/2));)r++,l>>>=1,l|=(1&u)<<31,u>>>=1,n!==i&&(u|=524288);if(o=r+N,s=0===e,e=t-e,r<52&&0!==e)for(i=0;;){if((n=2*e)>=1?(e=n-1,s?(o--,s=!1):(i<<=1,i|=1,r++)):(e=n,s?0==--o&&(r++,s=!1):(i<<=1,r++)),20===r)u|=i,i=0;else if(52===r){l|=i;break}if(1===n){r<20?u|=i<<20-r:r<52&&(l|=i<<52-r);break}}return u|=o<<20,new M(u|=a,l)},A.longBitsToDouble=function(t){var e,n,i,r,s=t.high,a=t.low,o=s&1<<31?-1:1;for(i=((2146435072&s)>>20)-N,r=0,n=1<<19,e=1;e<=20;e++)s&n&&(r+=L(2,-e)),n>>>=1;for(n=1<<31,e=21;e<=52;e++)a&n&&(r+=L(2,-e)),n>>>=1;if(-1023===i){if(0===r)return 0*o;i=-1022}else{if(1024===i)return 0===r?o/0:NaN;r+=1}return o*r*L(2,i)});var D=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({RuntimeException:i})[0],r}return l(i,t),s(i)}(p),F=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,null,[{key:\"constructor_\",value:function(){if(0===arguments.length)D.constructor_.call(this);else if(1===arguments.length){var t=arguments[0];D.constructor_.call(this,t)}}}])}(D),G=function(){function t(){n(this,t)}return s(t,null,[{key:\"shouldNeverReachHere\",value:function(){if(0===arguments.length)t.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new F(\"Should never reach here\"+(null!==e?\": \"+e:\"\"))}}},{key:\"isTrue\",value:function(){if(1===arguments.length){var e=arguments[0];t.isTrue(e,null)}else if(2===arguments.length){var n=arguments[1];if(!arguments[0])throw null===n?new F:new F(n)}}},{key:\"equals\",value:function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];t.equals(e,n,null)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];if(!r.equals(i))throw new F(\"Expected \"+i+\" but encountered \"+r+(null!==s?\": \"+s:\"\"))}}}])}(),q=new ArrayBuffer(8),Y=new Float64Array(q),z=new Int32Array(q),X=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getM\",value:function(){return A.NaN}},{key:\"setOrdinate\",value:function(e,n){switch(e){case t.X:this.x=n;break;case t.Y:this.y=n;break;case t.Z:this.setZ(n);break;default:throw new m(\"Invalid ordinate index: \"+e)}}},{key:\"equals2D\",value:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!b.equalsWithTolerance(this.x,e.x,n)&&!!b.equalsWithTolerance(this.y,e.y,n)}}},{key:\"setM\",value:function(e){throw new m(\"Invalid ordinate index: \"+t.M)}},{key:\"getZ\",value:function(){return this.z}},{key:\"getOrdinate\",value:function(e){switch(e){case t.X:return this.x;case t.Y:return this.y;case t.Z:return this.getZ()}throw new m(\"Invalid ordinate index: \"+e)}},{key:\"equals3D\",value:function(t){return this.x===t.x&&this.y===t.y&&(this.getZ()===t.getZ()||A.isNaN(this.getZ())&&A.isNaN(t.getZ()))}},{key:\"equals\",value:function(e){return e instanceof t&&this.equals2D(e)}},{key:\"equalInZ\",value:function(t,e){return b.equalsWithTolerance(this.getZ(),t.getZ(),e)}},{key:\"setX\",value:function(t){this.x=t}},{key:\"compareTo\",value:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0}},{key:\"getX\",value:function(){return this.x}},{key:\"setZ\",value:function(t){this.z=t}},{key:\"clone\",value:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return G.shouldNeverReachHere(\"this shouldn't happen because this class is Cloneable\"),null;throw t}}},{key:\"copy\",value:function(){return new t(this)}},{key:\"toString\",value:function(){return\"(\"+this.x+\", \"+this.y+\", \"+this.getZ()+\")\"}},{key:\"distance3D\",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.getZ()-t.getZ();return Math.sqrt(e*e+n*n+i*i)}},{key:\"getY\",value:function(){return this.y}},{key:\"setY\",value:function(t){this.y=t}},{key:\"distance\",value:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}},{key:\"hashCode\",value:function(){var e=17;return e=37*(e=37*e+t.hashCode(this.x))+t.hashCode(this.y)}},{key:\"setCoordinate\",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}},{key:\"interfaces_\",get:function(){return[x,I,E]}}],[{key:\"constructor_\",value:function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)t.constructor_.call(this,0,0);else if(1===arguments.length){var e=arguments[0];t.constructor_.call(this,e.x,e.y,e.getZ())}else if(2===arguments.length){var n=arguments[0],i=arguments[1];t.constructor_.call(this,n,i,t.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2];this.x=r,this.y=s,this.z=a}}},{key:\"hashCode\",value:function(t){return Y[0]=t,z[0]^z[1]}}])}(),B=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"compare\",value:function(e,n){var i=t.compare(e.x,n.x);if(0!==i)return i;var r=t.compare(e.y,n.y);return 0!==r?r:this._dimensionsToTest<=2?0:t.compare(e.getZ(),n.getZ())}},{key:\"interfaces_\",get:function(){return[P]}}],[{key:\"constructor_\",value:function(){if(this._dimensionsToTest=2,0===arguments.length)t.constructor_.call(this,2);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new m(\"only 2 or 3 dimensions may be specified\");this._dimensionsToTest=e}}},{key:\"compare\",value:function(t,e){return t<e?-1:t>e?1:A.isNaN(t)?A.isNaN(e)?0:-1:A.isNaN(e)?1:0}}])}();X.DimensionalComparator=B,X.NULL_ORDINATE=A.NaN,X.X=0,X.Y=1,X.Z=2,X.M=3;var U=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getArea\",value:function(){return this.getWidth()*this.getHeight()}},{key:\"equals\",value:function(e){if(!(e instanceof t))return!1;var n=e;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()}},{key:\"intersection\",value:function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new t;var n=this._minx>e._minx?this._minx:e._minx,i=this._miny>e._miny?this._miny:e._miny;return new t(n,this._maxx<e._maxx?this._maxx:e._maxx,i,this._maxy<e._maxy?this._maxy:e._maxy)}},{key:\"isNull\",value:function(){return this._maxx<this._minx}},{key:\"getMaxX\",value:function(){return this._maxx}},{key:\"covers\",value:function(){if(1===arguments.length){if(arguments[0]instanceof X){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof t){var n=arguments[0];return!this.isNull()&&!n.isNull()&&(n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return!this.isNull()&&(i>=this._minx&&i<=this._maxx&&r>=this._miny&&r<=this._maxy)}}},{key:\"intersects\",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof X){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(2===arguments.length){if(arguments[0]instanceof X&&arguments[1]instanceof X){var i=arguments[0],r=arguments[1];return!this.isNull()&&(!((i.x<r.x?i.x:r.x)>this._maxx)&&(!((i.x>r.x?i.x:r.x)<this._minx)&&(!((i.y<r.y?i.y:r.y)>this._maxy)&&!((i.y>r.y?i.y:r.y)<this._miny))))}if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var s=arguments[0],a=arguments[1];return!this.isNull()&&!(s>this._maxx||s<this._minx||a>this._maxy||a<this._miny)}}}},{key:\"getMinY\",value:function(){return this._miny}},{key:\"getDiameter\",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return Math.sqrt(t*t+e*e)}},{key:\"getMinX\",value:function(){return this._minx}},{key:\"expandToInclude\",value:function(){if(1===arguments.length){if(arguments[0]instanceof X){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=r,this._maxy=r):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}}},{key:\"minExtent\",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e}},{key:\"getWidth\",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:\"compareTo\",value:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0}},{key:\"translate\",value:function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)}},{key:\"copy\",value:function(){return new t(this)}},{key:\"toString\",value:function(){return\"Env[\"+this._minx+\" : \"+this._maxx+\", \"+this._miny+\" : \"+this._maxy+\"]\"}},{key:\"setToNull\",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:\"disjoint\",value:function(t){return!(!this.isNull()&&!t.isNull())||(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}},{key:\"getHeight\",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:\"maxExtent\",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e}},{key:\"expandBy\",value:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:\"contains\",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof X){var n=arguments[0];return this.covers(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return this.covers(i,r)}}},{key:\"centre\",value:function(){return this.isNull()?null:new X((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:\"init\",value:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof X){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var s=arguments[0],a=arguments[1],o=arguments[2],u=arguments[3];s<a?(this._minx=s,this._maxx=a):(this._minx=a,this._maxx=s),o<u?(this._miny=o,this._maxy=u):(this._miny=u,this._maxy=o)}}},{key:\"getMaxY\",value:function(){return this._maxy}},{key:\"distance\",value:function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)}},{key:\"hashCode\",value:function(){var t=17;return t=37*(t=37*(t=37*(t=37*t+X.hashCode(this._minx))+X.hashCode(this._maxx))+X.hashCode(this._miny))+X.hashCode(this._maxy)}},{key:\"interfaces_\",get:function(){return[x,E]}}],[{key:\"constructor_\",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof X){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var s=arguments[0],a=arguments[1],o=arguments[2],u=arguments[3];this.init(s,a,o,u)}}},{key:\"intersects\",value:function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3],o=Math.min(s.x,a.x),u=Math.max(s.x,a.x),l=Math.min(i.x,r.x),h=Math.max(i.x,r.x);return!(l>u)&&(!(h<o)&&(o=Math.min(s.y,a.y),u=Math.max(s.y,a.y),l=Math.min(i.y,r.y),h=Math.max(i.y,r.y),!(l>u)&&!(h<o)))}}}])}(),V=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"isGeometryCollection\",value:function(){return this.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION}},{key:\"getFactory\",value:function(){return this._factory}},{key:\"getGeometryN\",value:function(t){return this}},{key:\"getArea\",value:function(){return 0}},{key:\"isRectangle\",value:function(){return!1}},{key:\"equalsExact\",value:function(t){return this===t||this.equalsExact(t,0)}},{key:\"geometryChanged\",value:function(){this.apply(t.geometryChangedFilter)}},{key:\"geometryChangedAction\",value:function(){this._envelope=null}},{key:\"equalsNorm\",value:function(t){return null!==t&&this.norm().equalsExact(t.norm())}},{key:\"getLength\",value:function(){return 0}},{key:\"getNumGeometries\",value:function(){return 1}},{key:\"compareTo\",value:function(){var t;if(1===arguments.length){var e=arguments[0];return t=e,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return t=n,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(n,i)}}},{key:\"getUserData\",value:function(){return this._userData}},{key:\"getSRID\",value:function(){return this._SRID}},{key:\"getEnvelope\",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:\"checkNotGeometryCollection\",value:function(e){if(e.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION)throw new m(\"This method does not support GeometryCollection arguments\")}},{key:\"equal\",value:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n}},{key:\"norm\",value:function(){var t=this.copy();return t.normalize(),t}},{key:\"reverse\",value:function(){var t=this.reverseInternal();return null!=this.envelope&&(t.envelope=this.envelope.copy()),t.setSRID(this.getSRID()),t}},{key:\"copy\",value:function(){var t=this.copyInternal();return t.envelope=null==this._envelope?null:this._envelope.copy(),t._SRID=this._SRID,t._userData=this._userData,t}},{key:\"getPrecisionModel\",value:function(){return this._factory.getPrecisionModel()}},{key:\"getEnvelopeInternal\",value:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new U(this._envelope)}},{key:\"setSRID\",value:function(t){this._SRID=t}},{key:\"setUserData\",value:function(t){this._userData=t}},{key:\"compare\",value:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),s=i.next(),a=r.compareTo(s);if(0!==a)return a}return n.hasNext()?1:i.hasNext()?-1:0}},{key:\"hashCode\",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:\"isEquivalentClass\",value:function(t){return this.getClass()===t.getClass()}},{key:\"isGeometryCollectionOrDerived\",value:function(){return this.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===t.TYPECODE_MULTIPOINT||this.getTypeCode()===t.TYPECODE_MULTILINESTRING||this.getTypeCode()===t.TYPECODE_MULTIPOLYGON}},{key:\"interfaces_\",get:function(){return[I,x,E]}},{key:\"getClass\",value:function(){return t}}],[{key:\"hasNonEmptyElements\",value:function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1}},{key:\"hasNullElements\",value:function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1}}])}();V.constructor_=function(t){t&&(this._envelope=null,this._userData=null,this._factory=t,this._SRID=t.getSRID())},V.TYPECODE_POINT=0,V.TYPECODE_MULTIPOINT=1,V.TYPECODE_LINESTRING=2,V.TYPECODE_LINEARRING=3,V.TYPECODE_MULTILINESTRING=4,V.TYPECODE_POLYGON=5,V.TYPECODE_MULTIPOLYGON=6,V.TYPECODE_GEOMETRYCOLLECTION=7,V.TYPENAME_POINT=\"Point\",V.TYPENAME_MULTIPOINT=\"MultiPoint\",V.TYPENAME_LINESTRING=\"LineString\",V.TYPENAME_LINEARRING=\"LinearRing\",V.TYPENAME_MULTILINESTRING=\"MultiLineString\",V.TYPENAME_POLYGON=\"Polygon\",V.TYPENAME_MULTIPOLYGON=\"MultiPolygon\",V.TYPENAME_GEOMETRYCOLLECTION=\"GeometryCollection\",V.geometryChangedFilter={get interfaces_(){return[k]},filter:function(t){t.geometryChangedAction()}};var H=function(){function t(){n(this,t)}return s(t,null,[{key:\"toLocationSymbol\",value:function(e){switch(e){case t.EXTERIOR:return\"e\";case t.BOUNDARY:return\"b\";case t.INTERIOR:return\"i\";case t.NONE:return\"-\"}throw new m(\"Unknown location value: \"+e)}}])}();H.INTERIOR=0,H.BOUNDARY=1,H.EXTERIOR=2,H.NONE=-1;var Z=function(){return s((function t(){n(this,t)}),[{key:\"add\",value:function(){}},{key:\"addAll\",value:function(){}},{key:\"isEmpty\",value:function(){}},{key:\"iterator\",value:function(){}},{key:\"size\",value:function(){}},{key:\"toArray\",value:function(){}},{key:\"remove\",value:function(){}}])}(),j=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({NoSuchElementException:i})[0],r}return l(i,t),s(i)}(p),W=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({UnsupportedOperationException:i})[0],r}return l(i,t),s(i)}(p),K=function(t){function i(){return n(this,i),e(this,i,arguments)}return l(i,t),s(i,[{key:\"contains\",value:function(){}}])}(Z),J=function(t){function i(t){var r;return n(this,i),(r=e(this,i)).map=new Map,t instanceof Z&&r.addAll(t),r}return l(i,t),s(i,[{key:\"contains\",value:function(t){var e=t.hashCode?t.hashCode():t;return!!this.map.has(e)}},{key:\"add\",value:function(t){var e=t.hashCode?t.hashCode():t;return!this.map.has(e)&&!!this.map.set(e,t)}},{key:\"addAll\",value:function(t){var e,n=a(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.add(i)}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:\"remove\",value:function(){throw new W}},{key:\"size\",value:function(){return this.map.size}},{key:\"isEmpty\",value:function(){return 0===this.map.size}},{key:\"toArray\",value:function(){return Array.from(this.map.values())}},{key:\"iterator\",value:function(){return new Q(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(K),Q=function(){return s((function t(e){n(this,t),this.iterator=e.values();var i=this.iterator.next(),r=i.done,s=i.value;this.done=r,this.value=s}),[{key:\"next\",value:function(){if(this.done)throw new j;var t=this.value,e=this.iterator.next(),n=e.done,i=e.value;return this.done=n,this.value=i,t}},{key:\"hasNext\",value:function(){return!this.done}},{key:\"remove\",value:function(){throw new W}}])}(),$=function(){function t(){n(this,t)}return s(t,null,[{key:\"opposite\",value:function(e){return e===t.LEFT?t.RIGHT:e===t.RIGHT?t.LEFT:e}}])}();$.ON=0,$.LEFT=1,$.RIGHT=2;var tt=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({EmptyStackException:i})[0],r}return l(i,t),s(i)}(p),et=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({IndexOutOfBoundsException:i})[0],r}return l(i,t),s(i)}(p),nt=function(t){function i(){return n(this,i),e(this,i,arguments)}return l(i,t),s(i,[{key:\"get\",value:function(){}},{key:\"set\",value:function(){}},{key:\"isEmpty\",value:function(){}}])}(Z),it=function(t){function i(){var t;return n(this,i),(t=e(this,i)).array=[],t}return l(i,t),s(i,[{key:\"add\",value:function(t){return this.array.push(t),!0}},{key:\"get\",value:function(t){if(t<0||t>=this.size())throw new et;return this.array[t]}},{key:\"push\",value:function(t){return this.array.push(t),t}},{key:\"pop\",value:function(){if(0===this.array.length)throw new tt;return this.array.pop()}},{key:\"peek\",value:function(){if(0===this.array.length)throw new tt;return this.array[this.array.length-1]}},{key:\"empty\",value:function(){return 0===this.array.length}},{key:\"isEmpty\",value:function(){return this.empty()}},{key:\"search\",value:function(t){return this.array.indexOf(t)}},{key:\"size\",value:function(){return this.array.length}},{key:\"toArray\",value:function(){return this.array.slice()}}])}(nt);function rt(t,e){return t.interfaces_&&t.interfaces_.indexOf(e)>-1}var st=function(){return s((function t(e){n(this,t),this.str=e}),[{key:\"append\",value:function(t){this.str+=t}},{key:\"setCharAt\",value:function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)}},{key:\"toString\",value:function(){return this.str}}])}(),at=function(){function t(e){n(this,t),this.value=e}return s(t,[{key:\"intValue\",value:function(){return this.value}},{key:\"compareTo\",value:function(t){return this.value<t?-1:this.value>t?1:0}}],[{key:\"compare\",value:function(t,e){return t<e?-1:t>e?1:0}},{key:\"isNan\",value:function(t){return Number.isNaN(t)}},{key:\"valueOf\",value:function(e){return new t(e)}}])}(),ot=function(){return s((function t(){n(this,t)}),null,[{key:\"isWhitespace\",value:function(t){return t<=32&&t>=0||127===t}},{key:\"toUpperCase\",value:function(t){return t.toUpperCase()}}])}(),ut=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"le\",value:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo}},{key:\"extractSignificantDigits\",value:function(e,n){var i=this.abs(),r=t.magnitude(i._hi),s=t.TEN.pow(r);(i=i.divide(s)).gt(t.TEN)?(i=i.divide(t.TEN),r+=1):i.lt(t.ONE)&&(i=i.multiply(t.TEN),r-=1);for(var a=r+1,o=new st,u=t.MAX_PRINT_DIGITS-1,l=0;l<=u;l++){e&&l===a&&o.append(\".\");var h=Math.trunc(i._hi);if(h<0)break;var c=!1,f=0;h>9?(c=!0,f=\"9\"):f=\"0\"+h,o.append(f),i=i.subtract(t.valueOf(h)).multiply(t.TEN),c&&i.selfAdd(t.TEN);var g=!0,v=t.magnitude(i._hi);if(v<0&&Math.abs(v)>=u-l&&(g=!1),!g)break}return n[0]=r,o.toString()}},{key:\"sqr\",value:function(){return this.multiply(this)}},{key:\"doubleValue\",value:function(){return this._hi+this._lo}},{key:\"subtract\",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.add(e.negate())}if(\"number\"==typeof arguments[0]){var n=arguments[0];return this.add(-n)}}},{key:\"equals\",value:function(){if(1===arguments.length&&arguments[0]instanceof t){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}}},{key:\"isZero\",value:function(){return 0===this._hi&&0===this._lo}},{key:\"selfSubtract\",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if(\"number\"==typeof arguments[0]){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}}},{key:\"getSpecialNumberString\",value:function(){return this.isZero()?\"0.0\":this.isNaN()?\"NaN \":null}},{key:\"min\",value:function(t){return this.le(t)?this:t}},{key:\"selfDivide\",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if(\"number\"==typeof arguments[0]){var n=arguments[0];return this.selfDivide(n,0)}}else if(2===arguments.length){var i,r,s,a,o=arguments[0],u=arguments[1],l=null,h=null,c=null,f=null;return s=this._hi/o,f=(l=(c=t.SPLIT*s)-(l=c-s))*(h=(f=t.SPLIT*o)-(h=f-o))-(a=s*o)+l*(r=o-h)+(i=s-l)*h+i*r,f=s+(c=(this._hi-a-f+this._lo-s*u)/o),this._hi=f,this._lo=s-f+c,this}}},{key:\"dump\",value:function(){return\"DD<\"+this._hi+\", \"+this._lo+\">\"}},{key:\"divide\",value:function(){if(arguments[0]instanceof t){var e,n,i,r,s=arguments[0],a=null,o=null,u=null,l=null;return e=(i=this._hi/s._hi)-(a=(u=t.SPLIT*i)-(a=u-i)),l=a*(o=(l=t.SPLIT*s._hi)-(o=l-s._hi))-(r=i*s._hi)+a*(n=s._hi-o)+e*o+e*n,new t(l=i+(u=(this._hi-r-l+this._lo-i*s._lo)/s._hi),i-l+u)}if(\"number\"==typeof arguments[0]){var h=arguments[0];return A.isNaN(h)?t.createNaN():t.copy(this).selfDivide(h,0)}}},{key:\"ge\",value:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo}},{key:\"pow\",value:function(e){if(0===e)return t.valueOf(1);var n=new t(this),i=t.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2==1&&i.selfMultiply(n),(r/=2)>0&&(n=n.sqr());else i=n;return e<0?i.reciprocal():i}},{key:\"ceil\",value:function(){if(this.isNaN())return t.NaN;var e=Math.ceil(this._hi),n=0;return e===this._hi&&(n=Math.ceil(this._lo)),new t(e,n)}},{key:\"compareTo\",value:function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0}},{key:\"rint\",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:\"setValue\",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.init(e),this}if(\"number\"==typeof arguments[0]){var n=arguments[0];return this.init(n),this}}},{key:\"max\",value:function(t){return this.ge(t)?this:t}},{key:\"sqrt\",value:function(){if(this.isZero())return t.valueOf(0);if(this.isNegative())return t.NaN;var e=1/Math.sqrt(this._hi),n=this._hi*e,i=t.valueOf(n),r=this.subtract(i.sqr())._hi*(.5*e);return i.add(r)}},{key:\"selfAdd\",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if(\"number\"==typeof arguments[0]){var n,i,r,s,a,o=arguments[0],u=null;return u=(r=this._hi+o)-(s=r-this._hi),i=(a=(u=o-s+(this._hi-u))+this._lo)+(r-(n=r+a)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var l,h,c,f,g=arguments[0],v=arguments[1],y=null,d=null,_=null;c=this._hi+g,h=this._lo+v,d=c-(_=c-this._hi),y=h-(f=h-this._lo);var p=(l=c+(_=(d=g-_+(this._hi-d))+h))+(_=(y=v-f+(this._lo-y))+(_+(c-l))),m=_+(l-p);return this._hi=p,this._lo=m,this}}},{key:\"selfMultiply\",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if(\"number\"==typeof arguments[0]){var n=arguments[0];return this.selfMultiply(n,0)}}else if(2===arguments.length){var i,r,s=arguments[0],a=arguments[1],o=null,u=null,l=null,h=null;o=(l=t.SPLIT*this._hi)-this._hi,h=t.SPLIT*s,o=l-o,i=this._hi-o,u=h-s;var c=(l=this._hi*s)+(h=o*(u=h-u)-l+o*(r=s-u)+i*u+i*r+(this._hi*a+this._lo*s)),f=h+(o=l-c);return this._hi=c,this._lo=f,this}}},{key:\"selfSqr\",value:function(){return this.selfMultiply(this)}},{key:\"floor\",value:function(){if(this.isNaN())return t.NaN;var e=Math.floor(this._hi),n=0;return e===this._hi&&(n=Math.floor(this._lo)),new t(e,n)}},{key:\"negate\",value:function(){return this.isNaN()?this:new t(-this._hi,-this._lo)}},{key:\"clone\",value:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}}},{key:\"multiply\",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return e.isNaN()?t.createNaN():t.copy(this).selfMultiply(e)}if(\"number\"==typeof arguments[0]){var n=arguments[0];return A.isNaN(n)?t.createNaN():t.copy(this).selfMultiply(n,0)}}},{key:\"isNaN\",value:function(){return A.isNaN(this._hi)}},{key:\"intValue\",value:function(){return Math.trunc(this._hi)}},{key:\"toString\",value:function(){var e=t.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()}},{key:\"toStandardNotation\",value:function(){var e=this.getSpecialNumberString();if(null!==e)return e;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!0,n),r=n[0]+1,s=i;if(\".\"===i.charAt(0))s=\"0\"+i;else if(r<0)s=\"0.\"+t.stringOfChar(\"0\",-r)+i;else if(-1===i.indexOf(\".\")){var a=r-i.length;s=i+t.stringOfChar(\"0\",a)+\".0\"}return this.isNegative()?\"-\"+s:s}},{key:\"reciprocal\",value:function(){var e,n,i,r,s=null,a=null,o=null,u=null;e=(i=1/this._hi)-(s=(o=t.SPLIT*i)-(s=o-i)),a=(u=t.SPLIT*this._hi)-this._hi;var l=i+(o=(1-(r=i*this._hi)-(u=s*(a=u-a)-r+s*(n=this._hi-a)+e*a+e*n)-i*this._lo)/this._hi);return new t(l,i-l+o)}},{key:\"toSciNotation\",value:function(){if(this.isZero())return t.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!1,n),r=t.SCI_NOT_EXPONENT_CHAR+n[0];if(\"0\"===i.charAt(0))throw new IllegalStateException(\"Found leading zero: \"+i);var s=\"\";i.length>1&&(s=i.substring(1));var a=i.charAt(0)+\".\"+s;return this.isNegative()?\"-\"+a+r:a+r}},{key:\"abs\",value:function(){return this.isNaN()?t.NaN:this.isNegative()?this.negate():new t(this)}},{key:\"isPositive\",value:function(){return this._hi>0||0===this._hi&&this._lo>0}},{key:\"lt\",value:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo}},{key:\"add\",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return t.copy(this).selfAdd(e)}if(\"number\"==typeof arguments[0]){var n=arguments[0];return t.copy(this).selfAdd(n)}}},{key:\"init\",value:function(){if(1===arguments.length){if(\"number\"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof t){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this._hi=i,this._lo=r}}},{key:\"gt\",value:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo}},{key:\"isNegative\",value:function(){return this._hi<0||0===this._hi&&this._lo<0}},{key:\"trunc\",value:function(){return this.isNaN()?t.NaN:this.isPositive()?this.floor():this.ceil()}},{key:\"signum\",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:\"interfaces_\",get:function(){return[E,x,I]}}],[{key:\"constructor_\",value:function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if(\"number\"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if(\"string\"==typeof arguments[0]){var i=arguments[0];t.constructor_.call(this,t.parse(i))}}else if(2===arguments.length){var r=arguments[0],s=arguments[1];this.init(r,s)}}},{key:\"determinant\",value:function(){if(\"number\"==typeof arguments[3]&&\"number\"==typeof arguments[2]&&\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];return t.determinant(t.valueOf(e),t.valueOf(n),t.valueOf(i),t.valueOf(r))}if(arguments[3]instanceof t&&arguments[2]instanceof t&&arguments[0]instanceof t&&arguments[1]instanceof t){var s=arguments[1],a=arguments[2],o=arguments[3];return arguments[0].multiply(o).selfSubtract(s.multiply(a))}}},{key:\"sqr\",value:function(e){return t.valueOf(e).selfMultiply(e)}},{key:\"valueOf\",value:function(){if(\"string\"==typeof arguments[0]){var e=arguments[0];return t.parse(e)}if(\"number\"==typeof arguments[0])return new t(arguments[0])}},{key:\"sqrt\",value:function(e){return t.valueOf(e).sqrt()}},{key:\"parse\",value:function(e){for(var n=0,i=e.length;ot.isWhitespace(e.charAt(n));)n++;var r=!1;if(n<i){var s=e.charAt(n);\"-\"!==s&&\"+\"!==s||(n++,\"-\"===s&&(r=!0))}for(var a=new t,o=0,u=0,l=0,h=!1;!(n>=i);){var c=e.charAt(n);if(n++,ot.isDigit(c)){var f=c-\"0\";a.selfMultiply(t.TEN),a.selfAdd(f),o++}else{if(\".\"!==c){if(\"e\"===c||\"E\"===c){var g=e.substring(n);try{l=at.parseInt(g)}catch(t){throw t instanceof NumberFormatException?new NumberFormatException(\"Invalid exponent \"+g+\" in string \"+e):t}break}throw new NumberFormatException(\"Unexpected character '\"+c+\"' at position \"+n+\" in string \"+e)}u=o,h=!0}}var v=a;h||(u=o);var y=o-u-l;if(0===y)v=a;else if(y>0){var d=t.TEN.pow(y);v=a.divide(d)}else if(y<0){var _=t.TEN.pow(-y);v=a.multiply(_)}return r?v.negate():v}},{key:\"createNaN\",value:function(){return new t(A.NaN,A.NaN)}},{key:\"copy\",value:function(e){return new t(e)}},{key:\"magnitude\",value:function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i}},{key:\"stringOfChar\",value:function(t,e){for(var n=new st,i=0;i<e;i++)n.append(t);return n.toString()}}])}();ut.PI=new ut(3.141592653589793,12246467991473532e-32),ut.TWO_PI=new ut(6.283185307179586,24492935982947064e-32),ut.PI_2=new ut(1.5707963267948966,6123233995736766e-32),ut.E=new ut(2.718281828459045,14456468917292502e-32),ut.NaN=new ut(A.NaN,A.NaN),ut.EPS=123259516440783e-46,ut.SPLIT=134217729,ut.MAX_PRINT_DIGITS=32,ut.TEN=ut.valueOf(10),ut.ONE=ut.valueOf(1),ut.SCI_NOT_EXPONENT_CHAR=\"E\",ut.SCI_NOT_ZERO=\"0.0E0\";var lt=function(){function t(){n(this,t)}return s(t,null,[{key:\"orientationIndex\",value:function(e,n,i){var r=t.orientationIndexFilter(e,n,i);if(r<=1)return r;var s=ut.valueOf(n.x).selfAdd(-e.x),a=ut.valueOf(n.y).selfAdd(-e.y),o=ut.valueOf(i.x).selfAdd(-n.x),u=ut.valueOf(i.y).selfAdd(-n.y);return s.selfMultiply(u).selfSubtract(a.selfMultiply(o)).signum()}},{key:\"signOfDet2x2\",value:function(){if(arguments[3]instanceof ut&&arguments[2]instanceof ut&&arguments[0]instanceof ut&&arguments[1]instanceof ut){var t=arguments[1],e=arguments[2],n=arguments[3];return arguments[0].multiply(n).selfSubtract(t.multiply(e)).signum()}if(\"number\"==typeof arguments[3]&&\"number\"==typeof arguments[2]&&\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var i=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3],o=ut.valueOf(i),u=ut.valueOf(r),l=ut.valueOf(s),h=ut.valueOf(a);return o.multiply(h).selfSubtract(u.multiply(l)).signum()}}},{key:\"intersection\",value:function(t,e,n,i){var r=new ut(t.y).selfSubtract(e.y),s=new ut(e.x).selfSubtract(t.x),a=new ut(t.x).selfMultiply(e.y).selfSubtract(new ut(e.x).selfMultiply(t.y)),o=new ut(n.y).selfSubtract(i.y),u=new ut(i.x).selfSubtract(n.x),l=new ut(n.x).selfMultiply(i.y).selfSubtract(new ut(i.x).selfMultiply(n.y)),h=s.multiply(l).selfSubtract(u.multiply(a)),c=o.multiply(a).selfSubtract(r.multiply(l)),f=r.multiply(u).selfSubtract(o.multiply(s)),g=h.selfDivide(f).doubleValue(),v=c.selfDivide(f).doubleValue();return A.isNaN(g)||A.isInfinite(g)||A.isNaN(v)||A.isInfinite(v)?null:new X(g,v)}},{key:\"orientationIndexFilter\",value:function(e,n,i){var r=null,s=(e.x-i.x)*(n.y-i.y),a=(e.y-i.y)*(n.x-i.x),o=s-a;if(s>0){if(a<=0)return t.signum(o);r=s+a}else{if(!(s<0))return t.signum(o);if(a>=0)return t.signum(o);r=-s-a}var u=t.DP_SAFE_EPSILON*r;return o>=u||-o>=u?t.signum(o):2}},{key:\"signum\",value:function(t){return t>0?1:t<0?-1:0}}])}();lt.DP_SAFE_EPSILON=1e-15;var ht=function(){return s((function t(){n(this,t)}),[{key:\"getM\",value:function(t){if(this.hasM()){var e=this.getDimension()-this.getMeasures();return this.getOrdinate(t,e)}return A.NaN}},{key:\"setOrdinate\",value:function(t,e,n){}},{key:\"getZ\",value:function(t){return this.hasZ()?this.getOrdinate(t,2):A.NaN}},{key:\"size\",value:function(){}},{key:\"getOrdinate\",value:function(t,e){}},{key:\"getCoordinate\",value:function(){}},{key:\"getCoordinateCopy\",value:function(t){}},{key:\"createCoordinate\",value:function(){}},{key:\"getDimension\",value:function(){}},{key:\"hasM\",value:function(){return this.getMeasures()>0}},{key:\"getX\",value:function(t){}},{key:\"hasZ\",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:\"getMeasures\",value:function(){return 0}},{key:\"expandEnvelope\",value:function(t){}},{key:\"copy\",value:function(){}},{key:\"getY\",value:function(t){}},{key:\"toCoordinateArray\",value:function(){}},{key:\"interfaces_\",get:function(){return[I]}}])}();ht.X=0,ht.Y=1,ht.Z=2,ht.M=3;var ct=function(){function t(){n(this,t)}return s(t,null,[{key:\"index\",value:function(t,e,n){return lt.orientationIndex(t,e,n)}},{key:\"isCCW\",value:function(){if(arguments[0]instanceof Array){var e=arguments[0],n=e.length-1;if(n<3)throw new m(\"Ring has fewer than 4 points, so orientation cannot be determined\");for(var i=e[0],r=0,s=1;s<=n;s++){var a=e[s];a.y>i.y&&(i=a,r=s)}var o=r;do{(o-=1)<0&&(o=n)}while(e[o].equals2D(i)&&o!==r);var u=r;do{u=(u+1)%n}while(e[u].equals2D(i)&&u!==r);var l=e[o],h=e[u];if(l.equals2D(i)||h.equals2D(i)||l.equals2D(h))return!1;var c=t.index(l,i,h);return 0===c?l.x>h.x:c>0}if(rt(arguments[0],ht)){var f=arguments[0],g=f.size()-1;if(g<3)throw new m(\"Ring has fewer than 4 points, so orientation cannot be determined\");for(var v=f.getCoordinate(0),y=0,d=1;d<=g;d++){var _=f.getCoordinate(d);_.y>v.y&&(v=_,y=d)}var p=null,k=y;do{(k-=1)<0&&(k=g),p=f.getCoordinate(k)}while(p.equals2D(v)&&k!==y);var x=null,I=y;do{I=(I+1)%g,x=f.getCoordinate(I)}while(x.equals2D(v)&&I!==y);if(p.equals2D(v)||x.equals2D(v)||p.equals2D(x))return!1;var E=t.index(p,v,x);return 0===E?p.x>x.x:E>0}}}])}();ct.CLOCKWISE=-1,ct.RIGHT=ct.CLOCKWISE,ct.COUNTERCLOCKWISE=1,ct.LEFT=ct.COUNTERCLOCKWISE,ct.COLLINEAR=0,ct.STRAIGHT=ct.COLLINEAR;var ft=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"getCoordinate\",value:function(){return this._minCoord}},{key:\"getRightmostSide\",value:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n}},{key:\"findRightmostEdgeAtVertex\",value:function(){var t=this._minDe.getEdge().getCoordinates();G.isTrue(this._minIndex>0&&this._minIndex<t.length,\"rightmost point expected to be interior vertex of edge\");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=ct.index(this._minCoord,n,e),r=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===ct.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===ct.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)}},{key:\"getRightmostSideOfSegment\",value:function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=$.LEFT;return n[e].y<n[e+1].y&&(i=$.RIGHT),i}},{key:\"getEdge\",value:function(){return this._orientedDe}},{key:\"checkForRightmostCoordinate\",value:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])}},{key:\"findRightmostEdgeAtNode\",value:function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:\"findEdge\",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}G.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),\"inconsistency in rightmost processing\"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===$.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:\"constructor_\",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),gt=function(t){function i(t,r){var s;return n(this,i),(s=e(this,i,[r?t+\" [ \"+r+\" ]\":t])).pt=r?new X(r):void 0,s.name=Object.keys({TopologyException:i})[0],s}return l(i,t),s(i,[{key:\"getCoordinate\",value:function(){return this.pt}}])}(D),vt=function(){return s((function t(){n(this,t),this.array=[]}),[{key:\"addLast\",value:function(t){this.array.push(t)}},{key:\"removeFirst\",value:function(){return this.array.shift()}},{key:\"isEmpty\",value:function(){return 0===this.array.length}}])}(),yt=function(t){function i(t){var r;return n(this,i),(r=e(this,i)).array=[],t instanceof Z&&r.addAll(t),r}return l(i,t),s(i,[{key:\"interfaces_\",get:function(){return[nt,Z]}},{key:\"ensureCapacity\",value:function(){}},{key:\"add\",value:function(t){return 1===arguments.length?this.array.push(t):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:\"clear\",value:function(){this.array=[]}},{key:\"addAll\",value:function(t){var e,n=a(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.array.push(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:\"set\",value:function(t,e){var n=this.array[t];return this.array[t]=e,n}},{key:\"iterator\",value:function(){return new dt(this)}},{key:\"get\",value:function(t){if(t<0||t>=this.size())throw new et;return this.array[t]}},{key:\"isEmpty\",value:function(){return 0===this.array.length}},{key:\"sort\",value:function(t){t?this.array.sort((function(e,n){return t.compare(e,n)})):this.array.sort()}},{key:\"size\",value:function(){return this.array.length}},{key:\"toArray\",value:function(){return this.array.slice()}},{key:\"remove\",value:function(t){for(var e=0,n=this.array.length;e<n;e++)if(this.array[e]===t)return!!this.array.splice(e,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(nt),dt=function(){return s((function t(e){n(this,t),this.arrayList=e,this.position=0}),[{key:\"next\",value:function(){if(this.position===this.arrayList.size())throw new j;return this.arrayList.get(this.position++)}},{key:\"hasNext\",value:function(){return this.position<this.arrayList.size()}},{key:\"set\",value:function(t){return this.arrayList.set(this.position-1,t)}},{key:\"remove\",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),_t=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"clearVisitedEdges\",value:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){t.next().setVisited(!1)}}},{key:\"getRightmostCoordinate\",value:function(){return this._rightMostCoord}},{key:\"computeNodeDepth\",value:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new gt(\"unable to find edge to compute depths at \"+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var s=r.next();s.setVisited(!0),this.copySymDepths(s)}}},{key:\"computeDepth\",value:function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths($.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)}},{key:\"create\",value:function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:\"findResultEdges\",value:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth($.RIGHT)>=1&&e.getDepth($.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}}},{key:\"computeDepths\",value:function(t){var e=new J,n=new vt,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var s=r.getEdges().iterator();s.hasNext();){var a=s.next().getSym();if(!a.isVisited()){var o=a.getNode();e.contains(o)||(n.addLast(o),e.add(o))}}}}},{key:\"compareTo\",value:function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0}},{key:\"getEnvelope\",value:function(){if(null===this._env){for(var t=new U,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env}},{key:\"addReachable\",value:function(t){var e=new it;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}}},{key:\"copySymDepths\",value:function(t){var e=t.getSym();e.setDepth($.LEFT,t.getDepth($.RIGHT)),e.setDepth($.RIGHT,t.getDepth($.LEFT))}},{key:\"add\",value:function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}}},{key:\"getNodes\",value:function(){return this._nodes}},{key:\"getDirectedEdges\",value:function(){return this._dirEdgeList}},{key:\"interfaces_\",get:function(){return[x]}}],[{key:\"constructor_\",value:function(){this._finder=null,this._dirEdgeList=new yt,this._nodes=new yt,this._rightMostCoord=null,this._env=null,this._finder=new ft}}])}(),pt=function(){return s((function t(){n(this,t)}),null,[{key:\"intersection\",value:function(t,e,n,i){var r=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,o=t.y>e.y?t.y:e.y,u=n.x<i.x?n.x:i.x,l=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,c=n.y>i.y?n.y:i.y,f=((r>u?r:u)+(a<h?a:h))/2,g=((s>l?s:l)+(o<c?o:c))/2,v=t.x-f,y=t.y-g,d=e.x-f,_=e.y-g,p=n.x-f,m=n.y-g,k=i.x-f,x=i.y-g,I=y-_,E=d-v,N=v*_-d*y,T=m-x,S=k-p,L=p*x-k*m,C=I*S-T*E,R=(E*L-S*N)/C,w=(T*N-I*L)/C;return A.isNaN(R)||A.isInfinite(R)||A.isNaN(w)||A.isInfinite(w)?null:new X(R+f,w+g)}}])}(),mt=function(){return s((function t(){n(this,t)}),null,[{key:\"arraycopy\",value:function(t,e,n,i,r){for(var s=0,a=e;a<e+r;a++)n[i+s]=t[a],s++}},{key:\"getProperty\",value:function(t){return{\"line.separator\":\"\\n\"}[t]}}])}(),kt=function(){function t(){n(this,t)}return s(t,null,[{key:\"log10\",value:function(e){var n=Math.log(e);return A.isInfinite(n)||A.isNaN(n)?n:n/t.LOG_10}},{key:\"min\",value:function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r}},{key:\"clamp\",value:function(){if(\"number\"==typeof arguments[2]&&\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],s=arguments[2];return i<r?r:i>s?s:i}}},{key:\"wrap\",value:function(t,e){return t<0?e- -t%e:t%e}},{key:\"max\",value:function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var i=arguments[1],r=arguments[2],s=arguments[3],a=arguments[0];return i>a&&(a=i),r>a&&(a=r),s>a&&(a=s),a}}},{key:\"average\",value:function(t,e){return(t+e)/2}}])}();kt.LOG_10=Math.log(10);var xt=function(){function t(){n(this,t)}return s(t,null,[{key:\"segmentToSegment\",value:function(e,n,i,r){if(e.equals(n))return t.pointToSegment(e,i,r);if(i.equals(r))return t.pointToSegment(r,e,n);var s=!1;if(U.intersects(e,n,i,r)){var a=(n.x-e.x)*(r.y-i.y)-(n.y-e.y)*(r.x-i.x);if(0===a)s=!0;else{var o=(e.y-i.y)*(r.x-i.x)-(e.x-i.x)*(r.y-i.y),u=((e.y-i.y)*(n.x-e.x)-(e.x-i.x)*(n.y-e.y))/a,l=o/a;(l<0||l>1||u<0||u>1)&&(s=!0)}}else s=!0;return s?kt.min(t.pointToSegment(e,i,r),t.pointToSegment(n,i,r),t.pointToSegment(i,e,n),t.pointToSegment(r,e,n)):0}},{key:\"pointToSegment\",value:function(t,e,n){if(e.x===n.x&&e.y===n.y)return t.distance(e);var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;if(r<=0)return t.distance(e);if(r>=1)return t.distance(n);var s=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(s)*Math.sqrt(i)}},{key:\"pointToLinePerpendicular\",value:function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)}},{key:\"pointToSegmentString\",value:function(e,n){if(0===n.length)throw new m(\"Line array must contain at least one vertex\");for(var i=e.distance(n[0]),r=0;r<n.length-1;r++){var s=t.pointToSegment(e,n[r],n[r+1]);s<i&&(i=s)}return i}}])}(),It=function(){return s((function t(){n(this,t)}),[{key:\"create\",value:function(){if(1===arguments.length)arguments[0]instanceof Array||rt(arguments[0],ht);else if(2===arguments.length);else if(3===arguments.length){var t=arguments[0],e=arguments[1];return this.create(t,e)}}}])}(),Et=function(){return s((function t(){n(this,t)}),[{key:\"filter\",value:function(t){}}])}(),Nt=function(){return s((function t(){n(this,t)}),null,[{key:\"ofLine\",value:function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new X;t.getCoordinate(0,i);for(var r=i.x,s=i.y,a=1;a<e;a++){t.getCoordinate(a,i);var o=i.x,u=i.y,l=o-r,h=u-s;n+=Math.sqrt(l*l+h*h),r=o,s=u}return n}}])}(),Tt=s((function t(){n(this,t)})),St=function(){function t(){n(this,t)}return s(t,null,[{key:\"copyCoord\",value:function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),s=0;s<r;s++)n.setOrdinate(i,s,t.getOrdinate(e,s))}},{key:\"isRing\",value:function(t){var e=t.size();return 0===e||!(e<=3)&&(t.getOrdinate(0,ht.X)===t.getOrdinate(e-1,ht.X)&&t.getOrdinate(0,ht.Y)===t.getOrdinate(e-1,ht.Y))}},{key:\"scroll\",value:function(){if(2===arguments.length){if(rt(arguments[0],ht)&&Number.isInteger(arguments[1])){var e=arguments[0],n=arguments[1];t.scroll(e,n,t.isRing(e))}else if(rt(arguments[0],ht)&&arguments[1]instanceof X){var i=arguments[0],r=arguments[1],s=t.indexOf(r,i);if(s<=0)return null;t.scroll(i,s)}}else if(3===arguments.length){var a=arguments[0],o=arguments[1],u=arguments[2];if(o<=0)return null;for(var l=a.copy(),h=u?a.size()-1:a.size(),c=0;c<h;c++)for(var f=0;f<a.getDimension();f++)a.setOrdinate(c,f,l.getOrdinate((o+c)%h,f));if(u)for(var g=0;g<a.getDimension();g++)a.setOrdinate(h,g,a.getOrdinate(0,g))}}},{key:\"isEqual\",value:function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var s=0;s<i;s++){var a=t.getOrdinate(r,s),o=e.getOrdinate(r,s);if(t.getOrdinate(r,s)!==e.getOrdinate(r,s)&&(!A.isNaN(a)||!A.isNaN(o)))return!1}return!0}},{key:\"minCoordinateIndex\",value:function(){if(1===arguments.length){var e=arguments[0];return t.minCoordinateIndex(e,0,e.size()-1)}if(3===arguments.length){for(var n=arguments[0],i=arguments[2],r=-1,s=null,a=arguments[1];a<=i;a++){var o=n.getCoordinate(a);(null===s||s.compareTo(o)>0)&&(s=o,r=a)}return r}}},{key:\"extend\",value:function(e,n,i){var r=e.create(i,n.getDimension()),s=n.size();if(t.copy(n,0,r,0,s),s>0)for(var a=s;a<i;a++)t.copy(n,s-1,r,a,1);return r}},{key:\"reverse\",value:function(e){for(var n=e.size()-1,i=Math.trunc(n/2),r=0;r<=i;r++)t.swap(e,r,n-r)}},{key:\"swap\",value:function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}}},{key:\"copy\",value:function(e,n,i,r,s){for(var a=0;a<s;a++)t.copyCoord(e,n+a,i,r+a)}},{key:\"ensureValidRing\",value:function(e,n){var i=n.size();return 0===i?n:i<=3?t.createClosedRing(e,n,4):n.getOrdinate(0,ht.X)===n.getOrdinate(i-1,ht.X)&&n.getOrdinate(0,ht.Y)===n.getOrdinate(i-1,ht.Y)?n:t.createClosedRing(e,n,i+1)}},{key:\"indexOf\",value:function(t,e){for(var n=0;n<e.size();n++)if(t.x===e.getOrdinate(n,ht.X)&&t.y===e.getOrdinate(n,ht.Y))return n;return-1}},{key:\"createClosedRing\",value:function(e,n,i){var r=e.create(i,n.getDimension()),s=n.size();t.copy(n,0,r,0,s);for(var a=s;a<i;a++)t.copy(n,0,r,a,1);return r}},{key:\"minCoordinate\",value:function(t){for(var e=null,n=0;n<t.size();n++){var i=t.getCoordinate(n);(null===e||e.compareTo(i)>0)&&(e=i)}return e}}])}(),Lt=function(){function t(){n(this,t)}return s(t,null,[{key:\"toDimensionSymbol\",value:function(e){switch(e){case t.FALSE:return t.SYM_FALSE;case t.TRUE:return t.SYM_TRUE;case t.DONTCARE:return t.SYM_DONTCARE;case t.P:return t.SYM_P;case t.L:return t.SYM_L;case t.A:return t.SYM_A}throw new m(\"Unknown dimension value: \"+e)}},{key:\"toDimensionValue\",value:function(e){switch(ot.toUpperCase(e)){case t.SYM_FALSE:return t.FALSE;case t.SYM_TRUE:return t.TRUE;case t.SYM_DONTCARE:return t.DONTCARE;case t.SYM_P:return t.P;case t.SYM_L:return t.L;case t.SYM_A:return t.A}throw new m(\"Unknown dimension symbol: \"+e)}}])}();Lt.P=0,Lt.L=1,Lt.A=2,Lt.FALSE=-1,Lt.TRUE=-2,Lt.DONTCARE=-3,Lt.SYM_FALSE=\"F\",Lt.SYM_TRUE=\"T\",Lt.SYM_DONTCARE=\"*\",Lt.SYM_P=\"0\",Lt.SYM_L=\"1\",Lt.SYM_A=\"2\";var Ct=function(){return s((function t(){n(this,t)}),[{key:\"filter\",value:function(t){}}])}(),Rt=function(){return s((function t(){n(this,t)}),[{key:\"filter\",value:function(t,e){}},{key:\"isDone\",value:function(){}},{key:\"isGeometryChanged\",value:function(){}}])}(),wt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"computeEnvelopeInternal\",value:function(){return this.isEmpty()?new U:this._points.expandEnvelope(new U)}},{key:\"isRing\",value:function(){return this.isClosed()&&this.isSimple()}},{key:\"getCoordinates\",value:function(){return this._points.toCoordinateArray()}},{key:\"copyInternal\",value:function(){return new i(this._points.copy(),this._factory)}},{key:\"equalsExact\",value:function(){if(2===arguments.length&&\"number\"==typeof arguments[1]&&arguments[0]instanceof V){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._points.size()!==n._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),n._points.getCoordinate(r),e))return!1;return!0}return f(i,\"equalsExact\",this,1).apply(this,arguments)}},{key:\"normalize\",value:function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e))){if(this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0){var n=this._points.copy();St.reverse(n),this._points=n}return null}}}},{key:\"getCoordinate\",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:\"getBoundaryDimension\",value:function(){return this.isClosed()?Lt.FALSE:0}},{key:\"isClosed\",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:\"reverseInternal\",value:function(){var t=this._points.copy();return St.reverse(t),this.getFactory().createLineString(t)}},{key:\"getEndPoint\",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:\"getTypeCode\",value:function(){return V.TYPECODE_LINESTRING}},{key:\"getDimension\",value:function(){return 1}},{key:\"getLength\",value:function(){return Nt.ofLine(this._points)}},{key:\"getNumPoints\",value:function(){return this._points.size()}},{key:\"compareToSameClass\",value:function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}}},{key:\"apply\",value:function(){if(rt(arguments[0],Et))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(rt(arguments[0],Rt)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(rt(arguments[0],Ct)){arguments[0].filter(this)}else if(rt(arguments[0],k)){arguments[0].filter(this)}}},{key:\"getBoundary\",value:function(){throw new W}},{key:\"isEquivalentClass\",value:function(t){return t instanceof i}},{key:\"getCoordinateN\",value:function(t){return this._points.getCoordinate(t)}},{key:\"getGeometryType\",value:function(){return V.TYPENAME_LINESTRING}},{key:\"getCoordinateSequence\",value:function(){return this._points}},{key:\"isEmpty\",value:function(){return 0===this._points.size()}},{key:\"init\",value:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new m(\"Invalid number of points in LineString (found \"+t.size()+\" - must be 0 or >= 2)\");this._points=t}},{key:\"isCoordinate\",value:function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1}},{key:\"getStartPoint\",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:\"getPointN\",value:function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))}},{key:\"interfaces_\",get:function(){return[Tt]}}],[{key:\"constructor_\",value:function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];V.constructor_.call(this,e),this.init(t)}}}])}(V),Ot=s((function t(){n(this,t)})),bt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"computeEnvelopeInternal\",value:function(){if(this.isEmpty())return new U;var t=new U;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t}},{key:\"getCoordinates\",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:\"copyInternal\",value:function(){return new i(this._coordinates.copy(),this._factory)}},{key:\"equalsExact\",value:function(){if(2===arguments.length&&\"number\"==typeof arguments[1]&&arguments[0]instanceof V){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return f(i,\"equalsExact\",this,1).apply(this,arguments)}},{key:\"normalize\",value:function(){}},{key:\"getCoordinate\",value:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}},{key:\"getBoundaryDimension\",value:function(){return Lt.FALSE}},{key:\"reverseInternal\",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:\"getTypeCode\",value:function(){return V.TYPECODE_POINT}},{key:\"getDimension\",value:function(){return 0}},{key:\"getNumPoints\",value:function(){return this.isEmpty()?0:1}},{key:\"getX\",value:function(){if(null===this.getCoordinate())throw new IllegalStateException(\"getX called on empty Point\");return this.getCoordinate().x}},{key:\"compareToSameClass\",value:function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}}},{key:\"apply\",value:function(){if(rt(arguments[0],Et)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(rt(arguments[0],Rt)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(rt(arguments[0],Ct)){arguments[0].filter(this)}else if(rt(arguments[0],k)){arguments[0].filter(this)}}},{key:\"getBoundary\",value:function(){return this.getFactory().createGeometryCollection()}},{key:\"getGeometryType\",value:function(){return V.TYPENAME_POINT}},{key:\"getCoordinateSequence\",value:function(){return this._coordinates}},{key:\"getY\",value:function(){if(null===this.getCoordinate())throw new IllegalStateException(\"getY called on empty Point\");return this.getCoordinate().y}},{key:\"isEmpty\",value:function(){return 0===this._coordinates.size()}},{key:\"init\",value:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),G.isTrue(t.size()<=1),this._coordinates=t}},{key:\"isSimple\",value:function(){return!0}},{key:\"interfaces_\",get:function(){return[Ot]}}],[{key:\"constructor_\",value:function(){this._coordinates=null;var t=arguments[0],e=arguments[1];V.constructor_.call(this,e),this.init(t)}}])}(V),Mt=function(){function t(){n(this,t)}return s(t,null,[{key:\"ofRing\",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];return Math.abs(t.ofRingSigned(e))}if(rt(arguments[0],ht)){var n=arguments[0];return Math.abs(t.ofRingSigned(n))}}},{key:\"ofRingSigned\",value:function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,s=t[i+1].y;e+=r*(t[i-1].y-s)}return e/2}if(rt(arguments[0],ht)){var a=arguments[0],o=a.size();if(o<3)return 0;var u=new X,l=new X,h=new X;a.getCoordinate(0,l),a.getCoordinate(1,h);var c=l.x;h.x-=c;for(var f=0,g=1;g<o-1;g++)u.y=l.y,l.x=h.x,l.y=h.y,a.getCoordinate(g+1,h),h.x-=c,f+=l.x*(u.y-h.y);return f/2}}}])}(),At=function(){return s((function t(){n(this,t)}),null,[{key:\"sort\",value:function(){var t=arguments,e=arguments[0];if(1===arguments.length)e.sort((function(t,e){return t.compareTo(e)}));else if(2===arguments.length)e.sort((function(e,n){return t[1].compare(e,n)}));else if(3===arguments.length){var n=e.slice(arguments[1],arguments[2]);n.sort();var i=e.slice(0,arguments[1]).concat(n,e.slice(arguments[2],e.length));e.splice(0,e.length);var r,s=a(i);try{for(s.s();!(r=s.n()).done;){var o=r.value;e.push(o)}}catch(t){s.e(t)}finally{s.f()}}else if(4===arguments.length){var u=e.slice(arguments[1],arguments[2]);u.sort((function(e,n){return t[3].compare(e,n)}));var l=e.slice(0,arguments[1]).concat(u,e.slice(arguments[2],e.length));e.splice(0,e.length);var h,c=a(l);try{for(c.s();!(h=c.n()).done;){var f=h.value;e.push(f)}}catch(t){c.e(t)}finally{c.f()}}}},{key:\"asList\",value:function(t){var e,n=new yt,i=a(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n.add(r)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:\"copyOf\",value:function(t,e){return t.slice(0,e)}}])}(),Pt=s((function t(){n(this,t)})),Dt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"computeEnvelopeInternal\",value:function(){return this._shell.getEnvelopeInternal()}},{key:\"getCoordinates\",value:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var s=this._holes[r].getCoordinates(),a=0;a<s.length;a++)t[++e]=s[a];return t}},{key:\"getArea\",value:function(){var t=0;t+=Mt.ofRing(this._shell.getCoordinateSequence());for(var e=0;e<this._holes.length;e++)t-=Mt.ofRing(this._holes[e].getCoordinateSequence());return t}},{key:\"copyInternal\",value:function(){for(var t=this._shell.copy(),e=new Array(this._holes.length).fill(null),n=0;n<this._holes.length;n++)e[n]=this._holes[n].copy();return new i(t,e,this._factory)}},{key:\"isRectangle\",value:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var s=t.getX(0),a=t.getY(0),o=1;o<=4;o++){var u=t.getX(o),l=t.getY(o);if(u!==s===(l!==a))return!1;s=u,a=l}return!0}},{key:\"equalsExact\",value:function(){if(2===arguments.length&&\"number\"==typeof arguments[1]&&arguments[0]instanceof V){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,r=this._shell,s=n._shell;if(!r.equalsExact(s,e))return!1;if(this._holes.length!==n._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(n._holes[a],e))return!1;return!0}return f(i,\"equalsExact\",this,1).apply(this,arguments)}},{key:\"normalize\",value:function(){if(0===arguments.length){this._shell=this.normalized(this._shell,!0);for(var t=0;t<this._holes.length;t++)this._holes[t]=this.normalized(this._holes[t],!1);At.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=e.getCoordinateSequence(),r=St.minCoordinateIndex(i,0,i.size()-2);St.scroll(i,r,!0),ct.isCCW(i)===n&&St.reverse(i)}}},{key:\"getCoordinate\",value:function(){return this._shell.getCoordinate()}},{key:\"getNumInteriorRing\",value:function(){return this._holes.length}},{key:\"getBoundaryDimension\",value:function(){return 1}},{key:\"reverseInternal\",value:function(){for(var t=this.getExteriorRing().reverse(),e=new Array(this.getNumInteriorRing()).fill(null),n=0;n<e.length;n++)e[n]=this.getInteriorRingN(n).reverse();return this.getFactory().createPolygon(t,e)}},{key:\"getTypeCode\",value:function(){return V.TYPECODE_POLYGON}},{key:\"getDimension\",value:function(){return 2}},{key:\"getLength\",value:function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t}},{key:\"getNumPoints\",value:function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t}},{key:\"convexHull\",value:function(){return this.getExteriorRing().convexHull()}},{key:\"normalized\",value:function(t,e){var n=t.copy();return this.normalize(n,e),n}},{key:\"compareToSameClass\",value:function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[1],r=arguments[0],s=this._shell,a=r._shell,o=s.compareToSameClass(a,i);if(0!==o)return o;for(var u=this.getNumInteriorRing(),l=r.getNumInteriorRing(),h=0;h<u&&h<l;){var c=this.getInteriorRingN(h),f=r.getInteriorRingN(h),g=c.compareToSameClass(f,i);if(0!==g)return g;h++}return h<u?1:h<l?-1:0}}},{key:\"apply\",value:function(){if(rt(arguments[0],Et)){var t=arguments[0];this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(rt(arguments[0],Rt)){var n=arguments[0];if(this._shell.apply(n),!n.isDone())for(var i=0;i<this._holes.length&&(this._holes[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(rt(arguments[0],Ct)){arguments[0].filter(this)}else if(rt(arguments[0],k)){var r=arguments[0];r.filter(this),this._shell.apply(r);for(var s=0;s<this._holes.length;s++)this._holes[s].apply(r)}}},{key:\"getBoundary\",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)}},{key:\"getGeometryType\",value:function(){return V.TYPENAME_POLYGON}},{key:\"getExteriorRing\",value:function(){return this._shell}},{key:\"isEmpty\",value:function(){return this._shell.isEmpty()}},{key:\"getInteriorRingN\",value:function(t){return this._holes[t]}},{key:\"interfaces_\",get:function(){return[Pt]}}],[{key:\"constructor_\",value:function(){this._shell=null,this._holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(V.constructor_.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),V.hasNullElements(e))throw new m(\"holes must not contain null elements\");if(t.isEmpty()&&V.hasNonEmptyElements(e))throw new m(\"shell is empty but holes are not\");this._shell=t,this._holes=e}}])}(V),Ft=function(t){function i(){return n(this,i),e(this,i,arguments)}return l(i,t),s(i)}(K),Gt=function(t){function i(t){var r;return n(this,i),(r=e(this,i)).array=[],t instanceof Z&&r.addAll(t),r}return l(i,t),s(i,[{key:\"contains\",value:function(t){var e,n=a(this.array);try{for(n.s();!(e=n.n()).done;){if(0===e.value.compareTo(t))return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:\"add\",value:function(t){if(this.contains(t))return!1;for(var e=0,n=this.array.length;e<n;e++){if(1===this.array[e].compareTo(t))return!!this.array.splice(e,0,t)}return this.array.push(t),!0}},{key:\"addAll\",value:function(t){var e,n=a(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.add(i)}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:\"remove\",value:function(){throw new W}},{key:\"size\",value:function(){return this.array.length}},{key:\"isEmpty\",value:function(){return 0===this.array.length}},{key:\"toArray\",value:function(){return this.array.slice()}},{key:\"iterator\",value:function(){return new qt(this.array)}}])}(Ft),qt=function(){return s((function t(e){n(this,t),this.array=e,this.position=0}),[{key:\"next\",value:function(){if(this.position===this.array.length)throw new j;return this.array[this.position++]}},{key:\"hasNext\",value:function(){return this.position<this.array.length}},{key:\"remove\",value:function(){throw new W}}])}(),Yt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"computeEnvelopeInternal\",value:function(){for(var t=new U,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t}},{key:\"getGeometryN\",value:function(t){return this._geometries[t]}},{key:\"getCoordinates\",value:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t}},{key:\"getArea\",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t}},{key:\"copyInternal\",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new i(t,this._factory)}},{key:\"equalsExact\",value:function(){if(2===arguments.length&&\"number\"==typeof arguments[1]&&arguments[0]instanceof V){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._geometries.length!==n._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(n._geometries[r],e))return!1;return!0}return f(i,\"equalsExact\",this,1).apply(this,arguments)}},{key:\"normalize\",value:function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();At.sort(this._geometries)}},{key:\"getCoordinate\",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:\"getBoundaryDimension\",value:function(){for(var t=Lt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t}},{key:\"reverseInternal\",value:function(){for(var t=this._geometries.length,e=new yt(t),n=0;n<t;n++)e.add(this._geometries[n].reverse());return this.getFactory().buildGeometry(e)}},{key:\"getTypeCode\",value:function(){return V.TYPECODE_GEOMETRYCOLLECTION}},{key:\"getDimension\",value:function(){for(var t=Lt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t}},{key:\"getLength\",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t}},{key:\"getNumPoints\",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t}},{key:\"getNumGeometries\",value:function(){return this._geometries.length}},{key:\"compareToSameClass\",value:function(){if(1===arguments.length){var t=arguments[0],e=new Gt(At.asList(this._geometries)),n=new Gt(At.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[1],r=arguments[0],s=this.getNumGeometries(),a=r.getNumGeometries(),o=0;o<s&&o<a;){var u=this.getGeometryN(o),l=r.getGeometryN(o),h=u.compareToSameClass(l,i);if(0!==h)return h;o++}return o<s?1:o<a?-1:0}}},{key:\"apply\",value:function(){if(rt(arguments[0],Et))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(rt(arguments[0],Rt)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(rt(arguments[0],Ct)){var r=arguments[0];r.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(r)}else if(rt(arguments[0],k)){var a=arguments[0];a.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(a)}}},{key:\"getBoundary\",value:function(){return V.checkNotGeometryCollection(this),G.shouldNeverReachHere(),null}},{key:\"getGeometryType\",value:function(){return V.TYPENAME_GEOMETRYCOLLECTION}},{key:\"isEmpty\",value:function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0}}],[{key:\"constructor_\",value:function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(V.constructor_.call(this,e),null===t&&(t=[]),V.hasNullElements(t))throw new m(\"geometries must not contain null elements\");this._geometries=t}}}])}(V),zt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"copyInternal\",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new i(t,this._factory)}},{key:\"isValid\",value:function(){return!0}},{key:\"equalsExact\",value:function(){if(2===arguments.length&&\"number\"==typeof arguments[1]&&arguments[0]instanceof V){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f(i,\"equalsExact\",this,1).call(this,t,e)}return f(i,\"equalsExact\",this,1).apply(this,arguments)}},{key:\"getCoordinate\",value:function(){if(1===arguments.length&&Number.isInteger(arguments[0])){var t=arguments[0];return this._geometries[t].getCoordinate()}return f(i,\"getCoordinate\",this,1).apply(this,arguments)}},{key:\"getBoundaryDimension\",value:function(){return Lt.FALSE}},{key:\"getTypeCode\",value:function(){return V.TYPECODE_MULTIPOINT}},{key:\"getDimension\",value:function(){return 0}},{key:\"getBoundary\",value:function(){return this.getFactory().createGeometryCollection()}},{key:\"getGeometryType\",value:function(){return V.TYPENAME_MULTIPOINT}},{key:\"interfaces_\",get:function(){return[Ot]}}],[{key:\"constructor_\",value:function(){var t=arguments[0],e=arguments[1];Yt.constructor_.call(this,t,e)}}])}(Yt),Xt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"copyInternal\",value:function(){return new i(this._points.copy(),this._factory)}},{key:\"getBoundaryDimension\",value:function(){return Lt.FALSE}},{key:\"isClosed\",value:function(){return!!this.isEmpty()||f(i,\"isClosed\",this,1).call(this)}},{key:\"reverseInternal\",value:function(){var t=this._points.copy();return St.reverse(t),this.getFactory().createLinearRing(t)}},{key:\"getTypeCode\",value:function(){return V.TYPECODE_LINEARRING}},{key:\"validateConstruction\",value:function(){if(!this.isEmpty()&&!f(i,\"isClosed\",this,1).call(this))throw new m(\"Points of LinearRing do not form a closed linestring\");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<i.MINIMUM_VALID_SIZE)throw new m(\"Invalid number of points in LinearRing (found \"+this.getCoordinateSequence().size()+\" - must be 0 or >= 4)\")}},{key:\"getGeometryType\",value:function(){return V.TYPENAME_LINEARRING}}],[{key:\"constructor_\",value:function(){var t=arguments[0],e=arguments[1];wt.constructor_.call(this,t,e),this.validateConstruction()}}])}(wt);Xt.MINIMUM_VALID_SIZE=4;var Bt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"setOrdinate\",value:function(t,e){switch(t){case i.X:this.x=e;break;case i.Y:this.y=e;break;default:throw new m(\"Invalid ordinate index: \"+t)}}},{key:\"getZ\",value:function(){return X.NULL_ORDINATE}},{key:\"getOrdinate\",value:function(t){switch(t){case i.X:return this.x;case i.Y:return this.y}throw new m(\"Invalid ordinate index: \"+t)}},{key:\"setZ\",value:function(t){throw new m(\"CoordinateXY dimension 2 does not support z-ordinate\")}},{key:\"copy\",value:function(){return new i(this)}},{key:\"toString\",value:function(){return\"(\"+this.x+\", \"+this.y+\")\"}},{key:\"setCoordinate\",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}}],[{key:\"constructor_\",value:function(){if(0===arguments.length)X.constructor_.call(this);else if(1===arguments.length){if(arguments[0]instanceof i){var t=arguments[0];X.constructor_.call(this,t.x,t.y)}else if(arguments[0]instanceof X){var e=arguments[0];X.constructor_.call(this,e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];X.constructor_.call(this,n,r,X.NULL_ORDINATE)}}}])}(X);Bt.X=0,Bt.Y=1,Bt.Z=-1,Bt.M=-1;var Ut=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"getM\",value:function(){return this._m}},{key:\"setOrdinate\",value:function(t,e){switch(t){case i.X:this.x=e;break;case i.Y:this.y=e;break;case i.M:this._m=e;break;default:throw new m(\"Invalid ordinate index: \"+t)}}},{key:\"setM\",value:function(t){this._m=t}},{key:\"getZ\",value:function(){return X.NULL_ORDINATE}},{key:\"getOrdinate\",value:function(t){switch(t){case i.X:return this.x;case i.Y:return this.y;case i.M:return this._m}throw new m(\"Invalid ordinate index: \"+t)}},{key:\"setZ\",value:function(t){throw new m(\"CoordinateXY dimension 2 does not support z-ordinate\")}},{key:\"copy\",value:function(){return new i(this)}},{key:\"toString\",value:function(){return\"(\"+this.x+\", \"+this.y+\" m=\"+this.getM()+\")\"}},{key:\"setCoordinate\",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ(),this._m=t.getM()}}],[{key:\"constructor_\",value:function(){if(this._m=null,0===arguments.length)X.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof i){var t=arguments[0];X.constructor_.call(this,t.x,t.y),this._m=t._m}else if(arguments[0]instanceof X){var e=arguments[0];X.constructor_.call(this,e.x,e.y),this._m=this.getM()}}else if(3===arguments.length){var n=arguments[0],r=arguments[1],s=arguments[2];X.constructor_.call(this,n,r,X.NULL_ORDINATE),this._m=s}}}])}(X);Ut.X=0,Ut.Y=1,Ut.Z=-1,Ut.M=2;var Vt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"getM\",value:function(){return this._m}},{key:\"setOrdinate\",value:function(t,e){switch(t){case X.X:this.x=e;break;case X.Y:this.y=e;break;case X.Z:this.z=e;break;case X.M:this._m=e;break;default:throw new m(\"Invalid ordinate index: \"+t)}}},{key:\"setM\",value:function(t){this._m=t}},{key:\"getOrdinate\",value:function(t){switch(t){case X.X:return this.x;case X.Y:return this.y;case X.Z:return this.getZ();case X.M:return this.getM()}throw new m(\"Invalid ordinate index: \"+t)}},{key:\"copy\",value:function(){return new i(this)}},{key:\"toString\",value:function(){return\"(\"+this.x+\", \"+this.y+\", \"+this.getZ()+\" m=\"+this.getM()+\")\"}},{key:\"setCoordinate\",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ(),this._m=t.getM()}}],[{key:\"constructor_\",value:function(){if(this._m=null,0===arguments.length)X.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof i){var t=arguments[0];X.constructor_.call(this,t),this._m=t._m}else if(arguments[0]instanceof X){var e=arguments[0];X.constructor_.call(this,e),this._m=this.getM()}}else if(4===arguments.length){var n=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];X.constructor_.call(this,n,r,s),this._m=a}}}])}(X),Ht=function(){function t(){n(this,t)}return s(t,null,[{key:\"measures\",value:function(t){return t instanceof Bt?0:t instanceof Ut||t instanceof Vt?1:0}},{key:\"dimension\",value:function(t){return t instanceof Bt?2:t instanceof Ut?3:t instanceof Vt?4:3}},{key:\"create\",value:function(){if(1===arguments.length){var e=arguments[0];return t.create(e,0)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return 2===n?new Bt:3===n&&0===i?new X:3===n&&1===i?new Ut:4===n&&1===i?new Vt:new X}}}])}(),Zt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"getCoordinate\",value:function(t){return this.get(t)}},{key:\"addAll\",value:function(){if(2===arguments.length&&\"boolean\"==typeof arguments[1]&&rt(arguments[0],Z)){for(var t=arguments[1],e=!1,n=arguments[0].iterator();n.hasNext();)this.add(n.next(),t),e=!0;return e}return f(i,\"addAll\",this,1).apply(this,arguments)}},{key:\"clone\",value:function(){for(var t=f(i,\"clone\",this,1).call(this),e=0;e<this.size();e++)t.add(e,this.get(e).clone());return t}},{key:\"toCoordinateArray\",value:function(){if(0===arguments.length)return this.toArray(i.coordArrayType);if(1===arguments.length){if(arguments[0])return this.toArray(i.coordArrayType);for(var t=this.size(),e=new Array(t).fill(null),n=0;n<t;n++)e[n]=this.get(t-n-1);return e}}},{key:\"add\",value:function(){if(1===arguments.length){var t=arguments[0];return f(i,\"add\",this,1).call(this,t)}if(2===arguments.length){if(arguments[0]instanceof Array&&\"boolean\"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof X&&\"boolean\"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1)if(this.get(this.size()-1).equals2D(r))return null;f(i,\"add\",this,1).call(this,r)}else if(arguments[0]instanceof Object&&\"boolean\"==typeof arguments[1]){var s=arguments[0],a=arguments[1];return this.add(s,a),!0}}else if(3===arguments.length){if(\"boolean\"==typeof arguments[2]&&arguments[0]instanceof Array&&\"boolean\"==typeof arguments[1]){var o=arguments[0],u=arguments[1];if(arguments[2])for(var l=0;l<o.length;l++)this.add(o[l],u);else for(var h=o.length-1;h>=0;h--)this.add(o[h],u);return!0}if(\"boolean\"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof X){var c=arguments[0],g=arguments[1];if(!arguments[2]){var v=this.size();if(v>0){if(c>0)if(this.get(c-1).equals2D(g))return null;if(c<v)if(this.get(c).equals2D(g))return null}}f(i,\"add\",this,1).call(this,c,g)}}else if(4===arguments.length){var y=arguments[0],d=arguments[1],_=arguments[2],p=arguments[3],m=1;_>p&&(m=-1);for(var k=_;k!==p;k+=m)this.add(y[k],d);return!0}}},{key:\"closeRing\",value:function(){if(this.size()>0){var t=this.get(0).copy();this.add(t,!1)}}}],[{key:\"constructor_\",value:function(){if(0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}}])}(yt);Zt.coordArrayType=new Array(0).fill(null);var jt=function(){function t(){n(this,t)}return s(t,null,[{key:\"isRing\",value:function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])}},{key:\"ptNotInList\",value:function(e,n){for(var i=0;i<e.length;i++){var r=e[i];if(t.indexOf(r,n)<0)return r}return null}},{key:\"scroll\",value:function(e,n){var i=t.indexOf(n,e);if(i<0)return null;var r=new Array(e.length).fill(null);mt.arraycopy(e,i,r,0,e.length-i),mt.arraycopy(e,0,r,e.length-i,i),mt.arraycopy(r,0,e,0,e.length)}},{key:\"equals\",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var a=0;a<i.length;a++)if(0!==s.compare(i[a],r[a]))return!1;return!0}}},{key:\"intersection\",value:function(t,e){for(var n=new Zt,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()}},{key:\"measures\",value:function(t){if(null===t||0===t.length)return 0;var e,n=0,i=a(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n=Math.max(n,Ht.measures(r))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:\"hasRepeatedPoints\",value:function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1}},{key:\"removeRepeatedPoints\",value:function(e){return t.hasRepeatedPoints(e)?new Zt(e,!1).toCoordinateArray():e}},{key:\"reverse\",value:function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}}},{key:\"removeNull\",value:function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,s=0;s<t.length;s++)null!==t[s]&&(i[r++]=t[s]);return i}},{key:\"copyDeep\",value:function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=t[n].copy();return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3],o=arguments[4],u=0;u<o;u++)s[a+u]=i[r+u].copy()}},{key:\"isEqualReversed\",value:function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0}},{key:\"envelope\",value:function(t){for(var e=new U,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e}},{key:\"toCoordinateArray\",value:function(e){return e.toArray(t.coordArrayType)}},{key:\"dimension\",value:function(t){if(null===t||0===t.length)return 3;var e,n=0,i=a(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n=Math.max(n,Ht.dimension(r))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:\"atLeastNCoordinatesOrNothing\",value:function(t,e){return e.length>=t?e:[]}},{key:\"indexOf\",value:function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1}},{key:\"increasingDirection\",value:function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1}},{key:\"compare\",value:function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0}},{key:\"minCoordinate\",value:function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e}},{key:\"extract\",value:function(t,e,n){e=kt.clamp(e,0,t.length);var i=(n=kt.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var s=0,a=e;a<=n;a++)r[s++]=t[a];return r}}])}(),Wt=function(){return s((function t(){n(this,t)}),[{key:\"compare\",value:function(t,e){var n=t,i=e;return jt.compare(n,i)}},{key:\"interfaces_\",get:function(){return[P]}}])}(),Kt=function(){return s((function t(){n(this,t)}),[{key:\"compare\",value:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=jt.compare(n,i);return jt.isEqualReversed(n,i)?0:r}},{key:\"OLDcompare\",value:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=jt.increasingDirection(n),s=jt.increasingDirection(i),a=r>0?0:n.length-1,o=s>0?0:n.length-1,u=0;u<n.length;u++){var l=n[a].compareTo(i[o]);if(0!==l)return l;a+=r,o+=s}return 0}},{key:\"interfaces_\",get:function(){return[P]}}])}();jt.ForwardComparator=Wt,jt.BidirectionalComparator=Kt,jt.coordArrayType=new Array(0).fill(null);var Jt=function(){return s((function t(e){n(this,t),this.str=e}),[{key:\"append\",value:function(t){this.str+=t}},{key:\"setCharAt\",value:function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)}},{key:\"toString\",value:function(){return this.str}}])}(),Qt=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getM\",value:function(t){return this.hasM()?this._coordinates[t].getM():A.NaN}},{key:\"setOrdinate\",value:function(t,e,n){switch(e){case ht.X:this._coordinates[t].x=n;break;case ht.Y:this._coordinates[t].y=n;break;default:this._coordinates[t].setOrdinate(e,n)}}},{key:\"getZ\",value:function(t){return this.hasZ()?this._coordinates[t].getZ():A.NaN}},{key:\"size\",value:function(){return this._coordinates.length}},{key:\"getOrdinate\",value:function(t,e){switch(e){case ht.X:return this._coordinates[t].x;case ht.Y:return this._coordinates[t].y;default:return this._coordinates[t].getOrdinate(e)}}},{key:\"getCoordinate\",value:function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0];arguments[1].setCoordinate(this._coordinates[e])}}},{key:\"getCoordinateCopy\",value:function(t){var e=this.createCoordinate();return e.setCoordinate(this._coordinates[t]),e}},{key:\"createCoordinate\",value:function(){return Ht.create(this.getDimension(),this.getMeasures())}},{key:\"getDimension\",value:function(){return this._dimension}},{key:\"getX\",value:function(t){return this._coordinates[t].x}},{key:\"getMeasures\",value:function(){return this._measures}},{key:\"expandEnvelope\",value:function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t}},{key:\"copy\",value:function(){for(var e=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++){var i=this.createCoordinate();i.setCoordinate(this._coordinates[n]),e[n]=i}return new t(e,this._dimension,this._measures)}},{key:\"toString\",value:function(){if(this._coordinates.length>0){var t=new Jt(17*this._coordinates.length);t.append(\"(\"),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(\", \"),t.append(this._coordinates[e]);return t.append(\")\"),t.toString()}return\"()\"}},{key:\"getY\",value:function(t){return this._coordinates[t].y}},{key:\"toCoordinateArray\",value:function(){return this._coordinates}},{key:\"interfaces_\",get:function(){return[ht,E]}}],[{key:\"constructor_\",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];t.constructor_.call(this,e,jt.dimension(e),jt.measures(e))}else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var i=0;i<n;i++)this._coordinates[i]=new X}else if(rt(arguments[0],ht)){var r=arguments[0];if(null===r)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._measures=r.getMeasures(),this._coordinates=new Array(r.size()).fill(null);for(var s=0;s<this._coordinates.length;s++)this._coordinates[s]=r.getCoordinateCopy(s)}}else if(2===arguments.length){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var a=arguments[0],o=arguments[1];t.constructor_.call(this,a,o,jt.measures(a))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var u=arguments[0],l=arguments[1];this._coordinates=new Array(u).fill(null),this._dimension=l;for(var h=0;h<u;h++)this._coordinates[h]=Ht.create(l)}}else if(3===arguments.length)if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var c=arguments[0],f=arguments[1],g=arguments[2];this._dimension=f,this._measures=g,this._coordinates=null===c?new Array(0).fill(null):c}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var v=arguments[0],y=arguments[1],d=arguments[2];this._coordinates=new Array(v).fill(null),this._dimension=y,this._measures=d;for(var _=0;_<v;_++)this._coordinates[_]=this.createCoordinate()}}}])}(),$t=function(){function t(){n(this,t)}return s(t,[{key:\"readResolve\",value:function(){return t.instance()}},{key:\"create\",value:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Qt(arguments[0]);if(rt(arguments[0],ht))return new Qt(arguments[0])}else{if(2===arguments.length){var t=arguments[1];return t>3&&(t=3),t<2&&(t=2),new Qt(arguments[0],t)}if(3===arguments.length){var e=arguments[2],n=arguments[1]-e;return e>1&&(e=1),n>3&&(n=3),n<2&&(n=2),new Qt(arguments[0],n+e,e)}}}},{key:\"interfaces_\",get:function(){return[It,E]}}],[{key:\"instance\",value:function(){return t.instanceObject}}])}();$t.instanceObject=new $t;var te=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"copyInternal\",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new i(t,this._factory)}},{key:\"equalsExact\",value:function(){if(2===arguments.length&&\"number\"==typeof arguments[1]&&arguments[0]instanceof V){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f(i,\"equalsExact\",this,1).call(this,t,e)}return f(i,\"equalsExact\",this,1).apply(this,arguments)}},{key:\"getBoundaryDimension\",value:function(){return 1}},{key:\"getTypeCode\",value:function(){return V.TYPECODE_MULTIPOLYGON}},{key:\"getDimension\",value:function(){return 2}},{key:\"getBoundary\",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new yt,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))}},{key:\"getGeometryType\",value:function(){return V.TYPENAME_MULTIPOLYGON}},{key:\"interfaces_\",get:function(){return[Pt]}}],[{key:\"constructor_\",value:function(){var t=arguments[0],e=arguments[1];Yt.constructor_.call(this,t,e)}}])}(Yt),ee=function(){return s((function t(){n(this,t)}),[{key:\"get\",value:function(){}},{key:\"put\",value:function(){}},{key:\"size\",value:function(){}},{key:\"values\",value:function(){}},{key:\"entrySet\",value:function(){}}])}(),ne=function(t){function i(){var t;return n(this,i),(t=e(this,i)).map=new Map,t}return l(i,t),s(i,[{key:\"get\",value:function(t){return this.map.get(t)||null}},{key:\"put\",value:function(t,e){return this.map.set(t,e),e}},{key:\"values\",value:function(){for(var t=new yt,e=this.map.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t}},{key:\"entrySet\",value:function(){var t=new J;return this.map.entries().forEach((function(e){return t.add(e)})),t}},{key:\"size\",value:function(){return this.map.size()}}])}(ee),ie=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"equals\",value:function(e){if(!(e instanceof t))return!1;var n=e;return this._modelType===n._modelType&&this._scale===n._scale}},{key:\"compareTo\",value:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return at.compare(n,i)}},{key:\"getScale\",value:function(){return this._scale}},{key:\"isFloating\",value:function(){return this._modelType===t.FLOATING||this._modelType===t.FLOATING_SINGLE}},{key:\"getType\",value:function(){return this._modelType}},{key:\"toString\",value:function(){var e=\"UNKNOWN\";return this._modelType===t.FLOATING?e=\"Floating\":this._modelType===t.FLOATING_SINGLE?e=\"Floating-Single\":this._modelType===t.FIXED&&(e=\"Fixed (Scale=\"+this.getScale()+\")\"),e}},{key:\"makePrecise\",value:function(){if(\"number\"==typeof arguments[0]){var e=arguments[0];return A.isNaN(e)||this._modelType===t.FLOATING_SINGLE?e:this._modelType===t.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof X){var n=arguments[0];if(this._modelType===t.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}}},{key:\"getMaximumSignificantDigits\",value:function(){var e=16;return this._modelType===t.FLOATING?e=16:this._modelType===t.FLOATING_SINGLE?e=6:this._modelType===t.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e}},{key:\"setScale\",value:function(t){this._scale=Math.abs(t)}},{key:\"interfaces_\",get:function(){return[E,x]}}],[{key:\"constructor_\",value:function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof re){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if(\"number\"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}}},{key:\"mostPrecise\",value:function(t,e){return t.compareTo(e)>=0?t:e}}])}(),re=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"readResolve\",value:function(){return t.nameToTypeMap.get(this._name)}},{key:\"toString\",value:function(){return this._name}},{key:\"interfaces_\",get:function(){return[E]}}],[{key:\"constructor_\",value:function(){this._name=null;var e=arguments[0];this._name=e,t.nameToTypeMap.put(e,this)}}])}();re.nameToTypeMap=new ne,ie.Type=re,ie.FIXED=new re(\"FIXED\"),ie.FLOATING=new re(\"FLOATING\"),ie.FLOATING_SINGLE=new re(\"FLOATING SINGLE\"),ie.maximumPreciseValue=9007199254740992;var se=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"copyInternal\",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new i(t,this._factory)}},{key:\"equalsExact\",value:function(){if(2===arguments.length&&\"number\"==typeof arguments[1]&&arguments[0]instanceof V){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f(i,\"equalsExact\",this,1).call(this,t,e)}return f(i,\"equalsExact\",this,1).apply(this,arguments)}},{key:\"getBoundaryDimension\",value:function(){return this.isClosed()?Lt.FALSE:0}},{key:\"isClosed\",value:function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0}},{key:\"getTypeCode\",value:function(){return V.TYPECODE_MULTILINESTRING}},{key:\"getDimension\",value:function(){return 1}},{key:\"getBoundary\",value:function(){throw new W}},{key:\"getGeometryType\",value:function(){return V.TYPENAME_MULTILINESTRING}},{key:\"interfaces_\",get:function(){return[Tt]}}],[{key:\"constructor_\",value:function(){var t=arguments[0],e=arguments[1];Yt.constructor_.call(this,t,e)}}])}(Yt),ae=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"createEmpty\",value:function(t){switch(t){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new m(\"Invalid dimension: \"+t)}}},{key:\"toGeometry\",value:function(t){return t.isNull()?this.createPoint():t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new X(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new X(t.getMinX(),t.getMinY()),new X(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new X(t.getMinX(),t.getMinY()),new X(t.getMinX(),t.getMaxY()),new X(t.getMaxX(),t.getMaxY()),new X(t.getMaxX(),t.getMinY()),new X(t.getMinX(),t.getMinY())]),null)}},{key:\"createLineString\",value:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(rt(arguments[0],ht))return new wt(arguments[0],this)}}},{key:\"createMultiLineString\",value:function(){return 0===arguments.length?new se(null,this):1===arguments.length?new se(arguments[0],this):void 0}},{key:\"buildGeometry\",value:function(e){for(var n=null,i=!1,r=!1,s=e.iterator();s.hasNext();){var a=s.next(),o=a.getTypeCode();null===n&&(n=o),o!==n&&(i=!0),a instanceof Yt&&(r=!0)}if(null===n)return this.createGeometryCollection();if(i||r)return this.createGeometryCollection(t.toGeometryArray(e));var u=e.iterator().next();if(e.size()>1){if(u instanceof Dt)return this.createMultiPolygon(t.toPolygonArray(e));if(u instanceof wt)return this.createMultiLineString(t.toLineStringArray(e));if(u instanceof bt)return this.createMultiPoint(t.toPointArray(e));G.shouldNeverReachHere(\"Unhandled geometry type: \"+u.getGeometryType())}return u}},{key:\"createMultiPointFromCoords\",value:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}},{key:\"createPoint\",value:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof X){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(rt(arguments[0],ht))return new bt(arguments[0],this)}}},{key:\"getCoordinateSequenceFactory\",value:function(){return this._coordinateSequenceFactory}},{key:\"createPolygon\",value:function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(rt(arguments[0],ht)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Xt){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){return new Dt(arguments[0],arguments[1],this)}}},{key:\"getSRID\",value:function(){return this._SRID}},{key:\"createGeometryCollection\",value:function(){return 0===arguments.length?new Yt(null,this):1===arguments.length?new Yt(arguments[0],this):void 0}},{key:\"getPrecisionModel\",value:function(){return this._precisionModel}},{key:\"createLinearRing\",value:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(rt(arguments[0],ht))return new Xt(arguments[0],this)}}},{key:\"createMultiPolygon\",value:function(){return 0===arguments.length?new te(null,this):1===arguments.length?new te(arguments[0],this):void 0}},{key:\"createMultiPoint\",value:function(){if(0===arguments.length)return new zt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new zt(arguments[0],this);if(rt(arguments[0],ht)){var t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=this.getCoordinateSequenceFactory().create(1,t.getDimension(),t.getMeasures());St.copy(t,n,i,0,1),e[n]=this.createPoint(i)}return this.createMultiPoint(e)}}}},{key:\"interfaces_\",get:function(){return[E]}}],[{key:\"constructor_\",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)t.constructor_.call(this,new ie,0);else if(1===arguments.length){if(rt(arguments[0],It)){var e=arguments[0];t.constructor_.call(this,new ie,0,e)}else if(arguments[0]instanceof ie){var n=arguments[0];t.constructor_.call(this,n,0,t.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];t.constructor_.call(this,i,r,t.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var s=arguments[0],a=arguments[1],o=arguments[2];this._precisionModel=s,this._coordinateSequenceFactory=o,this._SRID=a}}},{key:\"toMultiPolygonArray\",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:\"toGeometryArray\",value:function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:\"getDefaultCoordinateSequenceFactory\",value:function(){return $t.instance()}},{key:\"toMultiLineStringArray\",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:\"toLineStringArray\",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:\"toMultiPointArray\",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:\"toLinearRingArray\",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:\"toPointArray\",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:\"toPolygonArray\",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:\"createPointFromInternalCoord\",value:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)}}])}(),oe=\"XY\",ue=\"XYZ\",le=\"XYM\",he=\"XYZM\",ce={POINT:\"Point\",LINE_STRING:\"LineString\",LINEAR_RING:\"LinearRing\",POLYGON:\"Polygon\",MULTI_POINT:\"MultiPoint\",MULTI_LINE_STRING:\"MultiLineString\",MULTI_POLYGON:\"MultiPolygon\",GEOMETRY_COLLECTION:\"GeometryCollection\",CIRCLE:\"Circle\"},fe=\"EMPTY\",ge=1,ve=2,ye=3,de=4,_e=5,pe=6;for(var me in ce)ce[me].toUpperCase();var ke=function(){return s((function t(e){n(this,t),this.wkt=e,this.index_=-1}),[{key:\"isAlpha_\",value:function(t){return t>=\"a\"&&t<=\"z\"||t>=\"A\"&&t<=\"Z\"}},{key:\"isNumeric_\",value:function(t,e){return t>=\"0\"&&t<=\"9\"||\".\"==t&&!(void 0!==e&&e)}},{key:\"isWhiteSpace_\",value:function(t){return\" \"==t||\"\\t\"==t||\"\\r\"==t||\"\\n\"==t}},{key:\"nextChar_\",value:function(){return this.wkt.charAt(++this.index_)}},{key:\"nextToken\",value:function(){var t,e=this.nextChar_(),n=this.index_,i=e;if(\"(\"==e)t=ve;else if(\",\"==e)t=_e;else if(\")\"==e)t=ye;else if(this.isNumeric_(e)||\"-\"==e)t=de,i=this.readNumber_();else if(this.isAlpha_(e))t=ge,i=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(\"\"!==e)throw new Error(\"Unexpected character: \"+e);t=pe}return{position:n,value:i,type:t}}},{key:\"readNumber_\",value:function(){var t,e=this.index_,n=!1,i=!1;do{\".\"==t?n=!0:\"e\"!=t&&\"E\"!=t||(i=!0),t=this.nextChar_()}while(this.isNumeric_(t,n)||!i&&(\"e\"==t||\"E\"==t)||i&&(\"-\"==t||\"+\"==t));return parseFloat(this.wkt.substring(e,this.index_--))}},{key:\"readText_\",value:function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()}}])}(),xe=function(){return s((function t(e,i){n(this,t),this.lexer_=e,this.token_,this.layout_=oe,this.factory=i}),[{key:\"consume_\",value:function(){this.token_=this.lexer_.nextToken()}},{key:\"isTokenType\",value:function(t){return this.token_.type==t}},{key:\"match\",value:function(t){var e=this.isTokenType(t);return e&&this.consume_(),e}},{key:\"parse\",value:function(){return this.consume_(),this.parseGeometry_()}},{key:\"parseGeometryLayout_\",value:function(){var t=oe,e=this.token_;if(this.isTokenType(ge)){var n=e.value;\"Z\"===n?t=ue:\"M\"===n?t=le:\"ZM\"===n&&(t=he),t!==oe&&this.consume_()}return t}},{key:\"parseGeometryCollectionText_\",value:function(){if(this.match(ve)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(_e));if(this.match(ye))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:\"parsePointText_\",value:function(){if(this.match(ve)){var t=this.parsePoint_();if(this.match(ye))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:\"parseLineStringText_\",value:function(){if(this.match(ve)){var t=this.parsePointList_();if(this.match(ye))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:\"parsePolygonText_\",value:function(){if(this.match(ve)){var t=this.parseLineStringTextList_();if(this.match(ye))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:\"parseMultiPointText_\",value:function(){var t;if(this.match(ve)){if(t=this.token_.type==ve?this.parsePointTextList_():this.parsePointList_(),this.match(ye))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:\"parseMultiLineStringText_\",value:function(){if(this.match(ve)){var t=this.parseLineStringTextList_();if(this.match(ye))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:\"parseMultiPolygonText_\",value:function(){if(this.match(ve)){var t=this.parsePolygonTextList_();if(this.match(ye))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:\"parsePoint_\",value:function(){for(var t=[],e=this.layout_.length,n=0;n<e;++n){var i=this.token_;if(!this.match(de))break;t.push(i.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())}},{key:\"parsePointList_\",value:function(){for(var t=[this.parsePoint_()];this.match(_e);)t.push(this.parsePoint_());return t}},{key:\"parsePointTextList_\",value:function(){for(var t=[this.parsePointText_()];this.match(_e);)t.push(this.parsePointText_());return t}},{key:\"parseLineStringTextList_\",value:function(){for(var t=[this.parseLineStringText_()];this.match(_e);)t.push(this.parseLineStringText_());return t}},{key:\"parsePolygonTextList_\",value:function(){for(var t=[this.parsePolygonText_()];this.match(_e);)t.push(this.parsePolygonText_());return t}},{key:\"isEmptyGeometry_\",value:function(){var t=this.isTokenType(ge)&&this.token_.value==fe;return t&&this.consume_(),t}},{key:\"formatErrorMessage_\",value:function(){return\"Unexpected `\"+this.token_.value+\"` at position \"+this.token_.position+\" in `\"+this.lexer_.wkt+\"`\"}},{key:\"parseGeometry_\",value:function(){var t=this.factory,e=function(t){return i(X,g(t))},n=function(n){var i=n.map((function(n){return t.createLinearRing(n.map(e))}));return i.length>1?t.createPolygon(i[0],i.slice(1)):t.createPolygon(i[0])},r=this.token_;if(this.match(ge)){var s=r.value;if(this.layout_=this.parseGeometryLayout_(),\"GEOMETRYCOLLECTION\"==s){var a=this.parseGeometryCollectionText_();return t.createGeometryCollection(a)}switch(s){case\"POINT\":var o=this.parsePointText_();return o?t.createPoint(i(X,g(o))):t.createPoint();case\"LINESTRING\":var u=this.parseLineStringText_().map(e);return t.createLineString(u);case\"LINEARRING\":var l=this.parseLineStringText_().map(e);return t.createLinearRing(l);case\"POLYGON\":var h=this.parsePolygonText_();return h&&0!==h.length?n(h):t.createPolygon();case\"MULTIPOINT\":var c=this.parseMultiPointText_();if(!c||0===c.length)return t.createMultiPoint();var f=c.map(e).map((function(e){return t.createPoint(e)}));return t.createMultiPoint(f);case\"MULTILINESTRING\":var v=this.parseMultiLineStringText_().map((function(n){return t.createLineString(n.map(e))}));return t.createMultiLineString(v);case\"MULTIPOLYGON\":var y=this.parseMultiPolygonText_();if(!y||0===y.length)return t.createMultiPolygon();var d=y.map(n);return t.createMultiPolygon(d);default:throw new Error(\"Invalid geometry type: \"+s)}}throw new Error(this.formatErrorMessage_())}}])}();function Ie(t){if(t.isEmpty())return\"\";var e=t.getCoordinate(),n=[e.x,e.y];return void 0===e.z||Number.isNaN(e.z)||n.push(e.z),void 0===e.m||Number.isNaN(e.m)||n.push(e.m),n.join(\" \")}function Ee(t){for(var e=t.getCoordinates().map((function(t){var e=[t.x,t.y];return void 0===t.z||Number.isNaN(t.z)||e.push(t.z),void 0===t.m||Number.isNaN(t.m)||e.push(t.m),e})),n=[],i=0,r=e.length;i<r;++i)n.push(e[i].join(\" \"));return n.join(\", \")}function Ne(t){var e=[];e.push(\"(\"+Ee(t.getExteriorRing())+\")\");for(var n=0,i=t.getNumInteriorRing();n<i;++n)e.push(\"(\"+Ee(t.getInteriorRingN(n))+\")\");return e.join(\", \")}var Te={Point:Ie,LineString:Ee,LinearRing:Ee,Polygon:Ne,MultiPoint:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push(\"(\"+Ie(t.getGeometryN(n))+\")\");return e.join(\", \")},MultiLineString:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push(\"(\"+Ee(t.getGeometryN(n))+\")\");return e.join(\", \")},MultiPolygon:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push(\"(\"+Ne(t.getGeometryN(n))+\")\");return e.join(\", \")},GeometryCollection:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push(Se(t.getGeometryN(n)));return e.join(\", \")}};function Se(t){var e=t.getGeometryType(),n=Te[e];e=e.toUpperCase();var i=function(t){var e=\"\";if(t.isEmpty())return e;var n=t.getCoordinate();return void 0===n.z||Number.isNaN(n.z)||(e+=\"Z\"),void 0===n.m||Number.isNaN(n.m)||(e+=\"M\"),e}(t);return i.length>0&&(e+=\" \"+i),t.isEmpty()?e+\" \"+fe:e+\" (\"+n(t)+\")\"}var Le=function(){return s((function t(e){n(this,t),this.geometryFactory=e||new ae,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:\"read\",value:function(t){var e=new ke(t);return new xe(e,this.geometryFactory).parse()}},{key:\"write\",value:function(t){return Se(t)}}])}(),Ce=function(){return s((function t(e){n(this,t),this.parser=new Le(e)}),[{key:\"write\",value:function(t){return this.parser.write(t)}}],[{key:\"toLineString\",value:function(t,e){if(2!==arguments.length)throw new Error(\"Not implemented\");return\"LINESTRING ( \"+t.x+\" \"+t.y+\", \"+e.x+\" \"+e.y+\" )\"}}])}(),Re=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getIndexAlongSegment\",value:function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]}},{key:\"getTopologySummary\",value:function(){var t=new Jt;return this.isEndPoint()&&t.append(\" endpoint\"),this._isProper&&t.append(\" proper\"),this.isCollinear()&&t.append(\" collinear\"),t.toString()}},{key:\"computeIntersection\",value:function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)}},{key:\"getIntersectionNum\",value:function(){return this._result}},{key:\"computeIntLineIndex\",value:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}}},{key:\"isProper\",value:function(){return this.hasIntersection()&&this._isProper}},{key:\"setPrecisionModel\",value:function(t){this._precisionModel=t}},{key:\"isInteriorIntersection\",value:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}}},{key:\"getIntersection\",value:function(t){return this._intPt[t]}},{key:\"isEndPoint\",value:function(){return this.hasIntersection()&&!this._isProper}},{key:\"hasIntersection\",value:function(){return this._result!==t.NO_INTERSECTION}},{key:\"getEdgeDistance\",value:function(e,n){return t.computeEdgeDistance(this._intPt[n],this._inputLines[e][0],this._inputLines[e][1])}},{key:\"isCollinear\",value:function(){return this._result===t.COLLINEAR_INTERSECTION}},{key:\"toString\",value:function(){return Ce.toLineString(this._inputLines[0][0],this._inputLines[0][1])+\" - \"+Ce.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:\"getEndpoint\",value:function(t,e){return this._inputLines[t][e]}},{key:\"isIntersection\",value:function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1}},{key:\"getIntersectionAlongSegment\",value:function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]}}],[{key:\"constructor_\",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new X,this._intPt[1]=new X,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:\"computeEdgeDistance\",value:function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),s=-1;if(t.equals(e))s=0;else if(t.equals(n))s=i>r?i:r;else{var a=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);0!==(s=i>r?a:o)||t.equals(e)||(s=Math.max(a,o))}return G.isTrue(!(0===s&&!t.equals(e)),\"Bad distance calculation\"),s}},{key:\"nonRobustComputeEdgeDistance\",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y,s=Math.sqrt(i*i+r*r);return G.isTrue(!(0===s&&!t.equals(e)),\"Invalid distance calculation\"),s}}])}();Re.DONT_INTERSECT=0,Re.DO_INTERSECT=1,Re.COLLINEAR=2,Re.NO_INTERSECTION=0,Re.POINT_INTERSECTION=1,Re.COLLINEAR_INTERSECTION=2;var we=function(t){function i(){return n(this,i),e(this,i)}return l(i,t),s(i,[{key:\"isInSegmentEnvelopes\",value:function(t){var e=new U(this._inputLines[0][0],this._inputLines[0][1]),n=new U(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)}},{key:\"computeIntersection\",value:function(){if(3!==arguments.length)return f(i,\"computeIntersection\",this,1).apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];if(this._isProper=!1,U.intersects(e,n,t)&&0===ct.index(e,n,t)&&0===ct.index(n,e,t))return this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this._result=Re.POINT_INTERSECTION,null;this._result=Re.NO_INTERSECTION}},{key:\"intersection\",value:function(t,e,n,r){var s=this.intersectionSafe(t,e,n,r);return this.isInSegmentEnvelopes(s)||(s=new X(i.nearestEndpoint(t,e,n,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(s),s}},{key:\"checkDD\",value:function(t,e,n,i,r){var s=lt.intersection(t,e,n,i),a=this.isInSegmentEnvelopes(s);mt.out.println(\"DD in env = \"+a+\"  --------------------- \"+s),r.distance(s)>1e-4&&mt.out.println(\"Distance = \"+r.distance(s))}},{key:\"intersectionSafe\",value:function(t,e,n,r){var s=pt.intersection(t,e,n,r);return null===s&&(s=i.nearestEndpoint(t,e,n,r)),s}},{key:\"computeCollinearIntersection\",value:function(t,e,n,i){var r=U.intersects(t,e,n),s=U.intersects(t,e,i),a=U.intersects(n,i,t),o=U.intersects(n,i,e);return r&&s?(this._intPt[0]=n,this._intPt[1]=i,Re.COLLINEAR_INTERSECTION):a&&o?(this._intPt[0]=t,this._intPt[1]=e,Re.COLLINEAR_INTERSECTION):r&&a?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||s||o?Re.COLLINEAR_INTERSECTION:Re.POINT_INTERSECTION):r&&o?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||s||a?Re.COLLINEAR_INTERSECTION:Re.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||r||o?Re.COLLINEAR_INTERSECTION:Re.POINT_INTERSECTION):s&&o?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||r||a?Re.COLLINEAR_INTERSECTION:Re.POINT_INTERSECTION):Re.NO_INTERSECTION}},{key:\"computeIntersect\",value:function(t,e,n,i){if(this._isProper=!1,!U.intersects(t,e,n,i))return Re.NO_INTERSECTION;var r=ct.index(t,e,n),s=ct.index(t,e,i);if(r>0&&s>0||r<0&&s<0)return Re.NO_INTERSECTION;var a=ct.index(n,i,t),o=ct.index(n,i,e);return a>0&&o>0||a<0&&o<0?Re.NO_INTERSECTION:0===r&&0===s&&0===a&&0===o?this.computeCollinearIntersection(t,e,n,i):(0===r||0===s||0===a||0===o?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this._intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this._intPt[0]=e:0===r?this._intPt[0]=new X(n):0===s?this._intPt[0]=new X(i):0===a?this._intPt[0]=new X(t):0===o&&(this._intPt[0]=new X(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,n,i)),Re.POINT_INTERSECTION)}}],[{key:\"nearestEndpoint\",value:function(t,e,n,i){var r=t,s=xt.pointToSegment(t,n,i),a=xt.pointToSegment(e,n,i);return a<s&&(s=a,r=e),(a=xt.pointToSegment(n,t,e))<s&&(s=a,r=n),(a=xt.pointToSegment(i,t,e))<s&&(s=a,r=i),r}}])}(Re),Oe=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"countSegment\",value:function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=ct.index(t,e,this._p);if(r===ct.COLLINEAR)return this._isPointOnSegment=!0,null;e.y<t.y&&(r=-r),r===ct.LEFT&&this._crossingCount++}}},{key:\"isPointInPolygon\",value:function(){return this.getLocation()!==H.EXTERIOR}},{key:\"getLocation\",value:function(){return this._isPointOnSegment?H.BOUNDARY:this._crossingCount%2==1?H.INTERIOR:H.EXTERIOR}},{key:\"isOnSegment\",value:function(){return this._isPointOnSegment}}],[{key:\"constructor_\",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t}},{key:\"locatePointInRing\",value:function(){if(arguments[0]instanceof X&&rt(arguments[1],ht)){for(var e=arguments[1],n=new t(arguments[0]),i=new X,r=new X,s=1;s<e.size();s++)if(e.getCoordinate(s,i),e.getCoordinate(s-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof X&&arguments[1]instanceof Array){for(var a=arguments[1],o=new t(arguments[0]),u=1;u<a.length;u++){var l=a[u],h=a[u-1];if(o.countSegment(l,h),o.isOnSegment())return o.getLocation()}return o.getLocation()}}}])}(),be=function(){function t(){n(this,t)}return s(t,null,[{key:\"isOnLine\",value:function(){if(arguments[0]instanceof X&&rt(arguments[1],ht)){for(var t=arguments[0],e=arguments[1],n=new we,i=new X,r=new X,s=e.size(),a=1;a<s;a++)if(e.getCoordinate(a-1,i),e.getCoordinate(a,r),n.computeIntersection(t,i,r),n.hasIntersection())return!0;return!1}if(arguments[0]instanceof X&&arguments[1]instanceof Array){for(var o=arguments[0],u=arguments[1],l=new we,h=1;h<u.length;h++){var c=u[h-1],f=u[h];if(l.computeIntersection(o,c,f),l.hasIntersection())return!0}return!1}}},{key:\"locateInRing\",value:function(t,e){return Oe.locatePointInRing(t,e)}},{key:\"isInRing\",value:function(e,n){return t.locateInRing(e,n)!==H.EXTERIOR}}])}(),Me=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"setAllLocations\",value:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t}},{key:\"isNull\",value:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==H.NONE)return!1;return!0}},{key:\"setAllLocationsIfNull\",value:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===H.NONE&&(this.location[e]=t)}},{key:\"isLine\",value:function(){return 1===this.location.length}},{key:\"merge\",value:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[$.ON]=this.location[$.ON],e[$.LEFT]=H.NONE,e[$.RIGHT]=H.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===H.NONE&&n<t.location.length&&(this.location[n]=t.location[n])}},{key:\"getLocations\",value:function(){return this.location}},{key:\"flip\",value:function(){if(this.location.length<=1)return null;var t=this.location[$.LEFT];this.location[$.LEFT]=this.location[$.RIGHT],this.location[$.RIGHT]=t}},{key:\"toString\",value:function(){var t=new st;return this.location.length>1&&t.append(H.toLocationSymbol(this.location[$.LEFT])),t.append(H.toLocationSymbol(this.location[$.ON])),this.location.length>1&&t.append(H.toLocationSymbol(this.location[$.RIGHT])),t.toString()}},{key:\"setLocations\",value:function(t,e,n){this.location[$.ON]=t,this.location[$.LEFT]=e,this.location[$.RIGHT]=n}},{key:\"get\",value:function(t){return t<this.location.length?this.location[t]:H.NONE}},{key:\"isArea\",value:function(){return this.location.length>1}},{key:\"isAnyNull\",value:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===H.NONE)return!0;return!1}},{key:\"setLocation\",value:function(){if(1===arguments.length){var t=arguments[0];this.setLocation($.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}}},{key:\"init\",value:function(t){this.location=new Array(t).fill(null),this.setAllLocations(H.NONE)}},{key:\"isEqualOnSide\",value:function(t,e){return this.location[e]===t.location[e]}},{key:\"allPositionsEqual\",value:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0}}],[{key:\"constructor_\",value:function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[$.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var s=arguments[0],a=arguments[1],o=arguments[2];this.init(3),this.location[$.ON]=s,this.location[$.LEFT]=a,this.location[$.RIGHT]=o}}}])}(),Ae=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getGeometryCount\",value:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t}},{key:\"setAllLocations\",value:function(t,e){this.elt[t].setAllLocations(e)}},{key:\"isNull\",value:function(t){return this.elt[t].isNull()}},{key:\"setAllLocationsIfNull\",value:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}}},{key:\"isLine\",value:function(t){return this.elt[t].isLine()}},{key:\"merge\",value:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Me(t.elt[e]):this.elt[e].merge(t.elt[e])}},{key:\"flip\",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:\"getLocation\",value:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get($.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}}},{key:\"toString\",value:function(){var t=new st;return null!==this.elt[0]&&(t.append(\"A:\"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(\" B:\"),t.append(this.elt[1].toString())),t.toString()}},{key:\"isArea\",value:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}}},{key:\"isAnyNull\",value:function(t){return this.elt[t].isAnyNull()}},{key:\"setLocation\",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation($.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}}},{key:\"isEqualOnSide\",value:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)}},{key:\"allPositionsEqual\",value:function(t,e){return this.elt[t].allPositionsEqual(e)}},{key:\"toLine\",value:function(t){this.elt[t].isArea()&&(this.elt[t]=new Me(this.elt[t].location[0]))}}],[{key:\"constructor_\",value:function(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Me(e),this.elt[1]=new Me(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Me(n.elt[0]),this.elt[1]=new Me(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new Me(H.NONE),this.elt[1]=new Me(H.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var s=arguments[0],a=arguments[1],o=arguments[2];this.elt[0]=new Me(s,a,o),this.elt[1]=new Me(s,a,o)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],h=arguments[2],c=arguments[3];this.elt[0]=new Me(H.NONE,H.NONE,H.NONE),this.elt[1]=new Me(H.NONE,H.NONE,H.NONE),this.elt[u].setLocations(l,h,c)}}},{key:\"toLineLabel\",value:function(e){for(var n=new t(H.NONE),i=0;i<2;i++)n.setLocation(i,e.getLocation(i));return n}}])}(),Pe=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"computeRing\",value:function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=ct.isCCW(this._ring.getCoordinates())}},{key:\"isIsolated\",value:function(){return 1===this._label.getGeometryCount()}},{key:\"computePoints\",value:function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new gt(\"Found null DirectedEdge\");if(e.getEdgeRing()===this)throw new gt(\"Directed Edge visited twice during ring-building at \"+e.getCoordinate());this._edges.add(e);var i=e.getLabel();G.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)}},{key:\"getLinearRing\",value:function(){return this._ring}},{key:\"getCoordinate\",value:function(t){return this._pts.get(t)}},{key:\"computeMaxNodeDegree\",value:function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2}},{key:\"addPoints\",value:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var s=r;s<i.length;s++)this._pts.add(i[s])}else{var a=i.length-2;n&&(a=i.length-1);for(var o=a;o>=0;o--)this._pts.add(i[o])}}},{key:\"isHole\",value:function(){return this._isHole}},{key:\"setInResult\",value:function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)}},{key:\"containsPoint\",value:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!be.isInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();){if(n.next().containsPoint(t))return!1}return!0}},{key:\"addHole\",value:function(t){this._holes.add(t)}},{key:\"isShell\",value:function(){return null===this._shell}},{key:\"getLabel\",value:function(){return this._label}},{key:\"getEdges\",value:function(){return this._edges}},{key:\"getMaxNodeDegree\",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:\"getShell\",value:function(){return this._shell}},{key:\"mergeLabel\",value:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,$.RIGHT);if(n===H.NONE)return null;if(this._label.getLocation(e)===H.NONE)return this._label.setLocation(e,n),null}}},{key:\"setShell\",value:function(t){this._shell=t,null!==t&&t.addHole(this)}},{key:\"toPolygon\",value:function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)}}],[{key:\"constructor_\",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new yt,this._pts=new yt,this._label=new Ae(H.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new yt,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()}}}])}(),De=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"setEdgeRing\",value:function(t,e){t.setMinEdgeRing(e)}},{key:\"getNext\",value:function(t){return t.getNextMin()}}],[{key:\"constructor_\",value:function(){var t=arguments[0],e=arguments[1];Pe.constructor_.call(this,t,e)}}])}(Pe),Fe=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"buildMinimalRings\",value:function(){var t=new yt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new De(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t}},{key:\"setEdgeRing\",value:function(t,e){t.setEdgeRing(e)}},{key:\"linkDirectedEdgesForMinimalEdgeRings\",value:function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)}},{key:\"getNext\",value:function(t){return t.getNext()}}],[{key:\"constructor_\",value:function(){var t=arguments[0],e=arguments[1];Pe.constructor_.call(this,t,e)}}])}(Pe),Ge=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"setVisited\",value:function(t){this._isVisited=t}},{key:\"setInResult\",value:function(t){this._isInResult=t}},{key:\"isCovered\",value:function(){return this._isCovered}},{key:\"isCoveredSet\",value:function(){return this._isCoveredSet}},{key:\"setLabel\",value:function(t){this._label=t}},{key:\"getLabel\",value:function(){return this._label}},{key:\"setCovered\",value:function(t){this._isCovered=t,this._isCoveredSet=!0}},{key:\"updateIM\",value:function(t){G.isTrue(this._label.getGeometryCount()>=2,\"found partial label\"),this.computeIM(t)}},{key:\"isInResult\",value:function(){return this._isInResult}},{key:\"isVisited\",value:function(){return this._isVisited}}],[{key:\"constructor_\",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}}}])}(),qe=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"isIncidentEdgeInResult\",value:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1}},{key:\"isIsolated\",value:function(){return 1===this._label.getGeometryCount()}},{key:\"getCoordinate\",value:function(){return this._coord}},{key:\"print\",value:function(t){t.println(\"node \"+this._coord+\" lbl: \"+this._label)}},{key:\"computeIM\",value:function(t){}},{key:\"computeMergedLocation\",value:function(t,e){var n=H.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==H.BOUNDARY&&(n=i)}return n}},{key:\"setLabel\",value:function(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return f(i,\"setLabel\",this,1).apply(this,arguments);var t=arguments[0],e=arguments[1];null===this._label?this._label=new Ae(t,e):this._label.setLocation(t,e)}},{key:\"getEdges\",value:function(){return this._edges}},{key:\"mergeLabel\",value:function(){if(arguments[0]instanceof i){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Ae)for(var e=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(e,n);this._label.getLocation(n)===H.NONE&&this._label.setLocation(n,r)}}},{key:\"add\",value:function(t){this._edges.insert(t),t.setNode(this)}},{key:\"setLabelBoundary\",value:function(t){if(null===this._label)return null;var e=H.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case H.BOUNDARY:n=H.INTERIOR;break;case H.INTERIOR:default:n=H.BOUNDARY}this._label.setLocation(t,n)}}],[{key:\"constructor_\",value:function(){this._coord=null,this._edges=null;var t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new Ae(0,H.NONE)}}])}(Ge),Ye=function(t){function i(){return n(this,i),e(this,i,arguments)}return l(i,t),s(i)}(ee);function ze(t){return null==t?0:t.color}function Xe(t){return null==t?null:t.parent}function Be(t,e){null!==t&&(t.color=e)}function Ue(t){return null==t?null:t.left}function Ve(t){return null==t?null:t.right}var He=function(t){function i(){var t;return n(this,i),(t=e(this,i)).root_=null,t.size_=0,t}return l(i,t),s(i,[{key:\"get\",value:function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null}},{key:\"put\",value:function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var s=r.value;return r.value=e,s}r=r.right}}while(null!==r);var a={key:t,left:null,right:null,value:e,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null}},{key:\"fixAfterInsertion\",value:function(t){var e;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)Xe(t)===Ue(Xe(Xe(t)))?1===ze(e=Ve(Xe(Xe(t))))?(Be(Xe(t),0),Be(e,0),Be(Xe(Xe(t)),1),t=Xe(Xe(t))):(t===Ve(Xe(t))&&(t=Xe(t),this.rotateLeft(t)),Be(Xe(t),0),Be(Xe(Xe(t)),1),this.rotateRight(Xe(Xe(t)))):1===ze(e=Ue(Xe(Xe(t))))?(Be(Xe(t),0),Be(e,0),Be(Xe(Xe(t)),1),t=Xe(Xe(t))):(t===Ue(Xe(t))&&(t=Xe(t),this.rotateRight(t)),Be(Xe(t),0),Be(Xe(Xe(t)),1),this.rotateLeft(Xe(Xe(t))));this.root_.color=0}},{key:\"values\",value:function(){var t=new yt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=i.successor(e));)t.add(e.value);return t}},{key:\"entrySet\",value:function(){var t=new J,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=i.successor(e));)t.add(e);return t}},{key:\"rotateLeft\",value:function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}}},{key:\"rotateRight\",value:function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}}},{key:\"getFirstEntry\",value:function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t}},{key:\"size\",value:function(){return this.size_}},{key:\"containsKey\",value:function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return!0;e=e.right}}return!1}}],[{key:\"successor\",value:function(t){var e;if(null===t)return null;if(null!==t.right){for(e=t.right;null!==e.left;)e=e.left;return e}e=t.parent;for(var n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e}}])}(Ye),Ze=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"find\",value:function(t){return this.nodeMap.get(t)}},{key:\"addNode\",value:function(){if(arguments[0]instanceof X){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof qe){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}}},{key:\"print\",value:function(t){for(var e=this.iterator();e.hasNext();){e.next().print(t)}}},{key:\"iterator\",value:function(){return this.nodeMap.values().iterator()}},{key:\"values\",value:function(){return this.nodeMap.values()}},{key:\"getBoundaryNodes\",value:function(t){for(var e=new yt,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===H.BOUNDARY&&e.add(i)}return e}},{key:\"add\",value:function(t){var e=t.getCoordinate();this.addNode(e).add(t)}}],[{key:\"constructor_\",value:function(){this.nodeMap=new He,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}}])}(),je=function(){function t(){n(this,t)}return s(t,null,[{key:\"isNorthern\",value:function(e){return e===t.NE||e===t.NW}},{key:\"isOpposite\",value:function(t,e){return t!==e&&2===(t-e+4)%4}},{key:\"commonHalfPlane\",value:function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n}},{key:\"isInHalfPlane\",value:function(e,n){return n===t.SE?e===t.SE||e===t.SW:e===n||e===n+1}},{key:\"quadrant\",value:function(){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var e=arguments[0],n=arguments[1];if(0===e&&0===n)throw new m(\"Cannot compute the quadrant for point ( \"+e+\", \"+n+\" )\");return e>=0?n>=0?t.NE:t.SE:n>=0?t.NW:t.SW}if(arguments[0]instanceof X&&arguments[1]instanceof X){var i=arguments[0],r=arguments[1];if(r.x===i.x&&r.y===i.y)throw new m(\"Cannot compute the quadrant for two identical points \"+i);return r.x>=i.x?r.y>=i.y?t.NE:t.SE:r.y>=i.y?t.NW:t.SW}}}])}();je.NE=0,je.NW=1,je.SW=2,je.SE=3;var We=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"compareDirection\",value:function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:ct.index(t._p0,t._p1,this._p1)}},{key:\"getDy\",value:function(){return this._dy}},{key:\"getCoordinate\",value:function(){return this._p0}},{key:\"setNode\",value:function(t){this._node=t}},{key:\"print\",value:function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf(\".\"),r=n.substring(i+1);t.print(\"  \"+r+\": \"+this._p0+\" - \"+this._p1+\" \"+this._quadrant+\":\"+e+\"   \"+this._label)}},{key:\"compareTo\",value:function(t){var e=t;return this.compareDirection(e)}},{key:\"getDirectedCoordinate\",value:function(){return this._p1}},{key:\"getDx\",value:function(){return this._dx}},{key:\"getLabel\",value:function(){return this._label}},{key:\"getEdge\",value:function(){return this._edge}},{key:\"getQuadrant\",value:function(){return this._quadrant}},{key:\"getNode\",value:function(){return this._node}},{key:\"toString\",value:function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(\".\");return\"  \"+e.substring(n+1)+\": \"+this._p0+\" - \"+this._p1+\" \"+this._quadrant+\":\"+t+\"   \"+this._label}},{key:\"computeLabel\",value:function(t){}},{key:\"init\",value:function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=je.quadrant(this._dx,this._dy),G.isTrue(!(0===this._dx&&0===this._dy),\"EdgeEnd with identical endpoints found\")}},{key:\"interfaces_\",get:function(){return[x]}}],[{key:\"constructor_\",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];t.constructor_.call(this,n,i,r,null)}else if(4===arguments.length){var s=arguments[0],a=arguments[1],o=arguments[2],u=arguments[3];t.constructor_.call(this,s),this.init(a,o),this._label=u}}}])}(),Ke=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"getNextMin\",value:function(){return this._nextMin}},{key:\"getDepth\",value:function(t){return this._depth[t]}},{key:\"setVisited\",value:function(t){this._isVisited=t}},{key:\"computeDirectedLabel\",value:function(){this._label=new Ae(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:\"getNext\",value:function(){return this._next}},{key:\"setDepth\",value:function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new gt(\"assigned depths do not match\",this.getCoordinate());this._depth[t]=e}},{key:\"isInteriorAreaEdge\",value:function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,$.LEFT)===H.INTERIOR&&this._label.getLocation(e,$.RIGHT)===H.INTERIOR||(t=!1);return t}},{key:\"setNextMin\",value:function(t){this._nextMin=t}},{key:\"print\",value:function(t){f(i,\"print\",this,1).call(this,t),t.print(\" \"+this._depth[$.LEFT]+\"/\"+this._depth[$.RIGHT]),t.print(\" (\"+this.getDepthDelta()+\")\"),this._isInResult&&t.print(\" inResult\")}},{key:\"setMinEdgeRing\",value:function(t){this._minEdgeRing=t}},{key:\"isLineEdge\",value:function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,H.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,H.EXTERIOR);return t&&e&&n}},{key:\"setEdgeRing\",value:function(t){this._edgeRing=t}},{key:\"getMinEdgeRing\",value:function(){return this._minEdgeRing}},{key:\"getDepthDelta\",value:function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t}},{key:\"setInResult\",value:function(t){this._isInResult=t}},{key:\"getSym\",value:function(){return this._sym}},{key:\"isForward\",value:function(){return this._isForward}},{key:\"getEdge\",value:function(){return this._edge}},{key:\"printEdge\",value:function(t){this.print(t),t.print(\" \"),this._isForward?this._edge.print(t):this._edge.printReverse(t)}},{key:\"setSym\",value:function(t){this._sym=t}},{key:\"setVisitedEdge\",value:function(t){this.setVisited(t),this._sym.setVisited(t)}},{key:\"setEdgeDepths\",value:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===$.LEFT&&(i=-1);var r=$.opposite(t),s=e+n*i;this.setDepth(t,e),this.setDepth(r,s)}},{key:\"getEdgeRing\",value:function(){return this._edgeRing}},{key:\"isInResult\",value:function(){return this._isInResult}},{key:\"setNext\",value:function(t){this._next=t}},{key:\"isVisited\",value:function(){return this._isVisited}}],[{key:\"constructor_\",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(We.constructor_.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}},{key:\"depthFactor\",value:function(t,e){return t===H.EXTERIOR&&e===H.INTERIOR?1:t===H.INTERIOR&&e===H.EXTERIOR?-1:0}}])}(We),Je=function(){return s((function t(){n(this,t)}),[{key:\"createNode\",value:function(t){return new qe(t,null)}}])}(),Qe=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"printEdges\",value:function(t){t.println(\"Edges:\");for(var e=0;e<this._edges.size();e++){t.println(\"edge \"+e+\":\");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}}},{key:\"find\",value:function(t){return this._nodes.find(t)}},{key:\"addNode\",value:function(){if(arguments[0]instanceof qe){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof X){var e=arguments[0];return this._nodes.addNode(e)}}},{key:\"getNodeIterator\",value:function(){return this._nodes.iterator()}},{key:\"linkResultDirectedEdges\",value:function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}}},{key:\"debugPrintln\",value:function(t){mt.out.println(t)}},{key:\"isBoundaryNode\",value:function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===H.BOUNDARY}},{key:\"linkAllDirectedEdges\",value:function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}}},{key:\"matchInSameDirection\",value:function(t,e,n,i){return!!t.equals(n)&&(ct.index(t,e,i)===ct.COLLINEAR&&je.quadrant(t,e)===je.quadrant(n,i))}},{key:\"getEdgeEnds\",value:function(){return this._edgeEndList}},{key:\"debugPrint\",value:function(t){mt.out.print(t)}},{key:\"getEdgeIterator\",value:function(){return this._edges.iterator()}},{key:\"findEdgeInSameDirection\",value:function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null}},{key:\"insertEdge\",value:function(t){this._edges.add(t)}},{key:\"findEdgeEnd\",value:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null}},{key:\"addEdges\",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new Ke(n,!0),r=new Ke(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}}},{key:\"add\",value:function(t){this._nodes.add(t),this._edgeEndList.add(t)}},{key:\"getNodes\",value:function(){return this._nodes.values()}},{key:\"findEdge\",value:function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null}}],[{key:\"constructor_\",value:function(){if(this._edges=new yt,this._nodes=null,this._edgeEndList=new yt,0===arguments.length)this._nodes=new Ze(new Je);else if(1===arguments.length){var t=arguments[0];this._nodes=new Ze(t)}}},{key:\"linkResultDirectedEdges\",value:function(t){for(var e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}}}])}(),$e=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"sortShellsAndHoles\",value:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}}},{key:\"computePolygons\",value:function(t){for(var e=new yt,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e}},{key:\"placeFreeHoles\",value:function(e,n){for(var i=n.iterator();i.hasNext();){var r=i.next();if(null===r.getShell()){var s=t.findEdgeRingContaining(r,e);if(null===s)throw new gt(\"unable to assign hole to a shell\",r.getCoordinate(0));r.setShell(s)}}}},{key:\"buildMinimalEdgeRings\",value:function(t,e,n){for(var i=new yt,r=t.iterator();r.hasNext();){var s=r.next();if(s.getMaxNodeDegree()>2){s.linkDirectedEdgesForMinimalEdgeRings();var a=s.buildMinimalRings(),o=this.findShell(a);null!==o?(this.placePolygonHoles(o,a),e.add(o)):n.addAll(a)}else i.add(s)}return i}},{key:\"buildMaximalEdgeRings\",value:function(t){for(var e=new yt,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new Fe(i,this._geometryFactory);e.add(r),r.setInResult()}}return e}},{key:\"placePolygonHoles\",value:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}}},{key:\"getPolygons\",value:function(){return this.computePolygons(this._shellList)}},{key:\"findShell\",value:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return G.isTrue(e<=1,\"found two shells in MinimalEdgeRing list\"),n}},{key:\"add\",value:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Qe.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new yt,s=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(s,this._shellList,r),this.placeFreeHoles(this._shellList,r)}}}],[{key:\"constructor_\",value:function(){this._geometryFactory=null,this._shellList=new yt;var t=arguments[0];this._geometryFactory=t}},{key:\"findEdgeRingContaining\",value:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),s=null,a=null,o=e.iterator();o.hasNext();){var u=o.next(),l=u.getLinearRing(),h=l.getEnvelopeInternal();if(!h.equals(i)&&h.contains(i)){r=jt.ptNotInList(n.getCoordinates(),l.getCoordinates());var c=!1;be.isInRing(r,l.getCoordinates())&&(c=!0),c&&(null===s||a.contains(h))&&(a=(s=u).getLinearRing().getEnvelopeInternal())}}return s}}])}(),tn=function(){return s((function t(){n(this,t)}),[{key:\"getBounds\",value:function(){}}])}(),en=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"getItem\",value:function(){return this._item}},{key:\"getBounds\",value:function(){return this._bounds}},{key:\"interfaces_\",get:function(){return[tn,E]}}],[{key:\"constructor_\",value:function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e}}])}(),nn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"poll\",value:function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t}},{key:\"size\",value:function(){return this._size}},{key:\"reorder\",value:function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)}},{key:\"clear\",value:function(){this._size=0,this._items.clear()}},{key:\"peek\",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:\"isEmpty\",value:function(){return 0===this._size}},{key:\"add\",value:function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)}}],[{key:\"constructor_\",value:function(){this._size=null,this._items=null,this._size=0,this._items=new yt,this._items.add(null)}}])}(),rn=function(){return s((function t(){n(this,t)}),[{key:\"insert\",value:function(t,e){}},{key:\"remove\",value:function(t,e){}},{key:\"query\",value:function(){}}])}(),sn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"getLevel\",value:function(){return this._level}},{key:\"size\",value:function(){return this._childBoundables.size()}},{key:\"getChildBoundables\",value:function(){return this._childBoundables}},{key:\"addChildBoundable\",value:function(t){G.isTrue(null===this._bounds),this._childBoundables.add(t)}},{key:\"isEmpty\",value:function(){return this._childBoundables.isEmpty()}},{key:\"getBounds\",value:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}},{key:\"interfaces_\",get:function(){return[tn,E]}}],[{key:\"constructor_\",value:function(){if(this._childBoundables=new yt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}}}])}(),an={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return an.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?At.sort(n,e):At.sort(n);for(var i=t.iterator(),r=0,s=n.length;r<s;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new yt;return e.add(t),e}},on=function(){function t(){n(this,t)}return s(t,null,[{key:\"maxDistance\",value:function(e,n,i,r,s,a,o,u){var l=t.distance(e,n,s,a);return l=Math.max(l,t.distance(e,n,o,u)),l=Math.max(l,t.distance(i,r,s,a)),l=Math.max(l,t.distance(i,r,o,u))}},{key:\"distance\",value:function(t,e,n,i){var r=n-t,s=i-e;return Math.sqrt(r*r+s*s)}},{key:\"maximumDistance\",value:function(e,n){var i=Math.min(e.getMinX(),n.getMinX()),r=Math.min(e.getMinY(),n.getMinY()),s=Math.max(e.getMaxX(),n.getMaxX()),a=Math.max(e.getMaxY(),n.getMaxY());return t.distance(i,r,s,a)}},{key:\"minMaxDistance\",value:function(e,n){var i=e.getMinX(),r=e.getMinY(),s=e.getMaxX(),a=e.getMaxY(),o=n.getMinX(),u=n.getMinY(),l=n.getMaxX(),h=n.getMaxY(),c=t.maxDistance(i,r,i,a,o,u,o,h);return c=Math.min(c,t.maxDistance(i,r,i,a,o,u,l,u)),c=Math.min(c,t.maxDistance(i,r,i,a,l,h,o,h)),c=Math.min(c,t.maxDistance(i,r,i,a,l,h,l,u)),c=Math.min(c,t.maxDistance(i,r,s,r,o,u,o,h)),c=Math.min(c,t.maxDistance(i,r,s,r,o,u,l,u)),c=Math.min(c,t.maxDistance(i,r,s,r,l,h,o,h)),c=Math.min(c,t.maxDistance(i,r,s,r,l,h,l,u)),c=Math.min(c,t.maxDistance(s,a,i,a,o,u,o,h)),c=Math.min(c,t.maxDistance(s,a,i,a,o,u,l,u)),c=Math.min(c,t.maxDistance(s,a,i,a,l,h,o,h)),c=Math.min(c,t.maxDistance(s,a,i,a,l,h,l,u)),c=Math.min(c,t.maxDistance(s,a,s,r,o,u,o,h)),c=Math.min(c,t.maxDistance(s,a,s,r,o,u,l,u)),c=Math.min(c,t.maxDistance(s,a,s,r,l,h,o,h)),c=Math.min(c,t.maxDistance(s,a,s,r,l,h,l,u))}}])}(),un=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"maximumDistance\",value:function(){return on.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:\"expandToQueue\",value:function(e,n){var i=t.isComposite(this._boundable1),r=t.isComposite(this._boundable2);if(i&&r)return t.area(this._boundable1)>t.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,e,n),null):(this.expand(this._boundable2,this._boundable1,!0,e,n),null);if(i)return this.expand(this._boundable1,this._boundable2,!1,e,n),null;if(r)return this.expand(this._boundable2,this._boundable1,!0,e,n),null;throw new m(\"neither boundable is composite\")}},{key:\"isLeaves\",value:function(){return!(t.isComposite(this._boundable1)||t.isComposite(this._boundable2))}},{key:\"compareTo\",value:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0}},{key:\"expand\",value:function(e,n,i,r,s){for(var a=e.getChildBoundables().iterator();a.hasNext();){var o=a.next(),u=null;(u=i?new t(n,o,this._itemDistance):new t(o,n,this._itemDistance)).getDistance()<s&&r.add(u)}}},{key:\"getBoundable\",value:function(t){return 0===t?this._boundable1:this._boundable2}},{key:\"getDistance\",value:function(){return this._distance}},{key:\"distance\",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:\"interfaces_\",get:function(){return[x]}}],[{key:\"constructor_\",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()}},{key:\"area\",value:function(t){return t.getBounds().getArea()}},{key:\"isComposite\",value:function(t){return t instanceof sn}}])}(),ln=function(){return s((function t(){n(this,t)}),[{key:\"visitItem\",value:function(t){}}])}(),hn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"queryInternal\",value:function(){if(rt(arguments[2],ln)&&arguments[0]instanceof Object&&arguments[1]instanceof sn)for(var t=arguments[0],e=arguments[2],n=arguments[1].getChildBoundables(),i=0;i<n.size();i++){var r=n.get(i);this.getIntersectsOp().intersects(r.getBounds(),t)&&(r instanceof sn?this.queryInternal(t,r,e):r instanceof en?e.visitItem(r.getItem()):G.shouldNeverReachHere())}else if(rt(arguments[2],nt)&&arguments[0]instanceof Object&&arguments[1]instanceof sn)for(var s=arguments[0],a=arguments[2],o=arguments[1].getChildBoundables(),u=0;u<o.size();u++){var l=o.get(u);this.getIntersectsOp().intersects(l.getBounds(),s)&&(l instanceof sn?this.queryInternal(s,l,a):l instanceof en?a.add(l.getItem()):G.shouldNeverReachHere())}}},{key:\"getNodeCapacity\",value:function(){return this._nodeCapacity}},{key:\"lastNode\",value:function(t){return t.get(t.size()-1)}},{key:\"size\",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof sn?t+=this.size(n):n instanceof en&&(t+=1)}return t}}},{key:\"removeItem\",value:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof en&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)}},{key:\"itemsTree\",value:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new yt:t}if(1===arguments.length){for(var e=arguments[0],n=new yt,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof sn){var s=this.itemsTree(r);null!==s&&n.add(s)}else r instanceof en?n.add(r.getItem()):G.shouldNeverReachHere()}return n.size()<=0?null:n}}},{key:\"insert\",value:function(t,e){G.isTrue(!this._built,\"Cannot insert items into an STR packed R-tree after it has been built.\"),this._itemBoundables.add(new en(t,e))}},{key:\"boundablesAtLevel\",value:function(){if(1===arguments.length){var t=arguments[0],e=new yt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(G.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var s=i.getChildBoundables().iterator();s.hasNext();){var a=s.next();a instanceof sn?this.boundablesAtLevel(n,a,r):(G.isTrue(a instanceof en),-1===n&&r.add(a))}return null}}},{key:\"query\",value:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new yt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.queryInternal(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,i)}}},{key:\"build\",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:\"getRoot\",value:function(){return this.build(),this._root}},{key:\"remove\",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],s=this.removeItem(i,r);if(s)return!0;for(var a=null,o=i.getChildBoundables().iterator();o.hasNext();){var u=o.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&(u instanceof sn&&(s=this.remove(n,u,r)))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(a),s}}},{key:\"createHigherLevels\",value:function(t,e){G.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)}},{key:\"depth\",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof sn){var i=this.depth(n);i>t&&(t=i)}}return t+1}}},{key:\"createParentBoundables\",value:function(t,e){G.isTrue(!t.isEmpty());var n=new yt;n.add(this.createNode(e));var i=new yt(t);an.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var s=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(s)}return n}},{key:\"isEmpty\",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:\"interfaces_\",get:function(){return[E]}}],[{key:\"constructor_\",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new yt,this._nodeCapacity=null,0===arguments.length)t.constructor_.call(this,t.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];G.isTrue(e>1,\"Node capacity must be greater than 1\"),this._nodeCapacity=e}}},{key:\"compareDoubles\",value:function(t,e){return t>e?1:t<e?-1:0}}])}();hn.IntersectsOp=function(){},hn.DEFAULT_NODE_CAPACITY=10;var cn=function(){return s((function t(){n(this,t)}),[{key:\"distance\",value:function(t,e){}}])}(),fn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"createParentBoundablesFromVerticalSlices\",value:function(t,e){G.isTrue(t.length>0);for(var n=new yt,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n}},{key:\"nearestNeighbourK\",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.nearestNeighbourK(t,A.POSITIVE_INFINITY,e)}if(3===arguments.length){var n=arguments[0],r=arguments[2],s=arguments[1],a=new nn;a.add(n);for(var o=new nn;!a.isEmpty()&&s>=0;){var u=a.poll(),l=u.getDistance();if(l>=s)break;if(u.isLeaves())if(o.size()<r)o.add(u);else o.peek().getDistance()>l&&(o.poll(),o.add(u)),s=o.peek().getDistance();else u.expandToQueue(a,s)}return i.getItems(o)}}},{key:\"createNode\",value:function(t){return new gn(t)}},{key:\"size\",value:function(){return 0===arguments.length?f(i,\"size\",this,1).call(this):f(i,\"size\",this,1).apply(this,arguments)}},{key:\"insert\",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof U))return f(i,\"insert\",this,1).apply(this,arguments);var t=arguments[0],e=arguments[1];if(t.isNull())return null;f(i,\"insert\",this,1).call(this,t,e)}},{key:\"getIntersectsOp\",value:function(){return i.intersectsOp}},{key:\"verticalSlices\",value:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),s=0;s<e;s++){i[s]=new yt;for(var a=0;r.hasNext()&&a<n;){var o=r.next();i[s].add(o),a++}}return i}},{key:\"query\",value:function(){if(1===arguments.length){var t=arguments[0];return f(i,\"query\",this,1).call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];f(i,\"query\",this,1).call(this,e,n)}}},{key:\"getComparator\",value:function(){return i.yComparator}},{key:\"createParentBoundablesFromVerticalSlice\",value:function(t,e){return f(i,\"createParentBoundables\",this,1).call(this,t,e)}},{key:\"remove\",value:function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];return f(i,\"remove\",this,1).call(this,t,e)}return f(i,\"remove\",this,1).apply(this,arguments)}},{key:\"depth\",value:function(){return 0===arguments.length?f(i,\"depth\",this,1).call(this):f(i,\"depth\",this,1).apply(this,arguments)}},{key:\"createParentBoundables\",value:function(t,e){G.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new yt(t);an.sort(r,i.xComparator);var s=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(s,e)}},{key:\"nearestNeighbour\",value:function(){if(1===arguments.length){if(rt(arguments[0],cn)){var t=arguments[0];if(this.isEmpty())return null;var e=new un(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof un){var n=arguments[0],i=A.POSITIVE_INFINITY,r=null,s=new nn;for(s.add(n);!s.isEmpty()&&i>0;){var a=s.poll(),o=a.getDistance();if(o>=i)break;a.isLeaves()?(i=o,r=a):a.expandToQueue(s,i)}return null===r?null:[r.getBoundable(0).getItem(),r.getBoundable(1).getItem()]}}else{if(2===arguments.length){var u=arguments[0],l=arguments[1];if(this.isEmpty()||u.isEmpty())return null;var h=new un(this.getRoot(),u.getRoot(),l);return this.nearestNeighbour(h)}if(3===arguments.length){var c=arguments[2],f=new en(arguments[0],arguments[1]),g=new un(this.getRoot(),f,c);return this.nearestNeighbour(g)[0]}if(4===arguments.length){var v=arguments[2],y=arguments[3],d=new en(arguments[0],arguments[1]),_=new un(this.getRoot(),d,v);return this.nearestNeighbourK(_,y)}}}},{key:\"isWithinDistance\",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=A.POSITIVE_INFINITY,i=new nn;for(i.add(t);!i.isEmpty();){var r=i.poll(),s=r.getDistance();if(s>e)return!1;if(r.maximumDistance()<=e)return!0;if(r.isLeaves()){if((n=s)<=e)return!0}else r.expandToQueue(i,n)}return!1}if(3===arguments.length){var a=arguments[0],o=arguments[1],u=arguments[2],l=new un(this.getRoot(),a.getRoot(),o);return this.isWithinDistance(l,u)}}},{key:\"interfaces_\",get:function(){return[rn,E]}}],[{key:\"constructor_\",value:function(){if(0===arguments.length)i.constructor_.call(this,i.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];hn.constructor_.call(this,t)}}},{key:\"centreX\",value:function(t){return i.avg(t.getMinX(),t.getMaxX())}},{key:\"avg\",value:function(t,e){return(t+e)/2}},{key:\"getItems\",value:function(t){for(var e=new Array(t.size()).fill(null),n=0;!t.isEmpty();){var i=t.poll();e[n]=i.getBoundable(0).getItem(),n++}return e}},{key:\"centreY\",value:function(t){return i.avg(t.getMinY(),t.getMaxY())}}])}(hn),gn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"computeBounds\",value:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new U(n.getBounds()):t.expandToInclude(n.getBounds())}return t}}],[{key:\"constructor_\",value:function(){var t=arguments[0];sn.constructor_.call(this,t)}}])}(sn);fn.STRtreeNode=gn,fn.xComparator=new(function(){return s((function t(){n(this,t)}),[{key:\"interfaces_\",get:function(){return[P]}},{key:\"compare\",value:function(t,e){return hn.compareDoubles(fn.centreX(t.getBounds()),fn.centreX(e.getBounds()))}}])}()),fn.yComparator=new(function(){return s((function t(){n(this,t)}),[{key:\"interfaces_\",get:function(){return[P]}},{key:\"compare\",value:function(t,e){return hn.compareDoubles(fn.centreY(t.getBounds()),fn.centreY(e.getBounds()))}}])}()),fn.intersectsOp=new(function(){return s((function t(){n(this,t)}),[{key:\"interfaces_\",get:function(){return[IntersectsOp]}},{key:\"intersects\",value:function(t,e){return t.intersects(e)}}])}()),fn.DEFAULT_NODE_CAPACITY=10;var vn=function(){function t(){n(this,t)}return s(t,null,[{key:\"relativeSign\",value:function(t,e){return t<e?-1:t>e?1:0}},{key:\"compare\",value:function(e,n,i){if(n.equals2D(i))return 0;var r=t.relativeSign(n.x,i.x),s=t.relativeSign(n.y,i.y);switch(e){case 0:return t.compareValue(r,s);case 1:return t.compareValue(s,r);case 2:return t.compareValue(s,-r);case 3:return t.compareValue(-r,s);case 4:return t.compareValue(-r,-s);case 5:return t.compareValue(-s,-r);case 6:return t.compareValue(-s,r);case 7:return t.compareValue(r,-s)}return G.shouldNeverReachHere(\"invalid octant value\"),0}},{key:\"compareValue\",value:function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0}}])}(),yn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"getCoordinate\",value:function(){return this.coord}},{key:\"print\",value:function(t){t.print(this.coord),t.print(\" seg # = \"+this.segmentIndex)}},{key:\"compareTo\",value:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:this._isInterior?e._isInterior?vn.compare(this._segmentOctant,this.coord,e.coord):1:-1}},{key:\"isEndPoint\",value:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t}},{key:\"toString\",value:function(){return this.segmentIndex+\":\"+this.coord.toString()}},{key:\"isInterior\",value:function(){return this._isInterior}},{key:\"interfaces_\",get:function(){return[x]}}],[{key:\"constructor_\",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new X(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}}])}(),dn=function(){return s((function t(){n(this,t)}),[{key:\"hasNext\",value:function(){}},{key:\"next\",value:function(){}},{key:\"remove\",value:function(){}}])}(),_n=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"getSplitCoordinates\",value:function(){var t=new Zt;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()}},{key:\"addCollapsedNodes\",value:function(){var t=new yt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}}},{key:\"createSplitEdgePts\",value:function(t,e){var n=e.segmentIndex-t.segmentIndex+2;if(2===n)return[new X(t.coord),new X(e.coord)];var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var s=new Array(n).fill(null),a=0;s[a++]=new X(t.coord);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)s[a++]=this._edge.getCoordinate(o);return r&&(s[a]=new X(e.coord)),s}},{key:\"print\",value:function(t){t.println(\"Intersections:\");for(var e=this.iterator();e.hasNext();){e.next().print(t)}}},{key:\"findCollapsesFromExistingVertices\",value:function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e);this._edge.getCoordinate(e+1);var i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(at.valueOf(e+1))}}},{key:\"addEdgeCoordinates\",value:function(t,e,n){var i=this.createSplitEdgePts(t,e);n.add(i,!1)}},{key:\"iterator\",value:function(){return this._nodeMap.values().iterator()}},{key:\"addSplitEdges\",value:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}}},{key:\"findCollapseIndex\",value:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)}},{key:\"findCollapsesFromInsertedNodes\",value:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(at.valueOf(e[0])),i=r}}},{key:\"getEdge\",value:function(){return this._edge}},{key:\"addEndpoints\",value:function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)}},{key:\"createSplitEdge\",value:function(t,e){var n=this.createSplitEdgePts(t,e);return new xn(n,this._edge.getData())}},{key:\"add\",value:function(t,e){var n=new yn(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(G.isTrue(i.coord.equals2D(t),\"Found equal nodes with different coordinates\"),i):(this._nodeMap.put(n,n),n)}},{key:\"checkSplitEdgesCorrectness\",value:function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new D(\"bad split edge start point at \"+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new D(\"bad split edge end point at \"+r)}}],[{key:\"constructor_\",value:function(){this._nodeMap=new He,this._edge=null;var t=arguments[0];this._edge=t}}])}(),pn=function(){function t(){n(this,t)}return s(t,null,[{key:\"octant\",value:function(){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var e=arguments[0],n=arguments[1];if(0===e&&0===n)throw new m(\"Cannot compute the octant for point ( \"+e+\", \"+n+\" )\");var i=Math.abs(e),r=Math.abs(n);return e>=0?n>=0?i>=r?0:1:i>=r?7:6:n>=0?i>=r?3:2:i>=r?4:5}if(arguments[0]instanceof X&&arguments[1]instanceof X){var s=arguments[0],a=arguments[1],o=a.x-s.x,u=a.y-s.y;if(0===o&&0===u)throw new m(\"Cannot compute the octant for two identical points \"+s);return t.octant(o,u)}}}])}(),mn=function(){return s((function t(){n(this,t)}),[{key:\"getCoordinates\",value:function(){}},{key:\"size\",value:function(){}},{key:\"getCoordinate\",value:function(t){}},{key:\"isClosed\",value:function(){}},{key:\"setData\",value:function(t){}},{key:\"getData\",value:function(){}}])}(),kn=function(){return s((function t(){n(this,t)}),[{key:\"addIntersection\",value:function(t,e){}},{key:\"interfaces_\",get:function(){return[mn]}}])}(),xn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getCoordinates\",value:function(){return this._pts}},{key:\"size\",value:function(){return this._pts.length}},{key:\"getCoordinate\",value:function(t){return this._pts[t]}},{key:\"isClosed\",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:\"getSegmentOctant\",value:function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))}},{key:\"setData\",value:function(t){this._data=t}},{key:\"safeOctant\",value:function(t,e){return t.equals2D(e)?0:pn.octant(t,e)}},{key:\"getData\",value:function(){return this._data}},{key:\"addIntersection\",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[1],i=arguments[3],r=new X(arguments[0].getIntersection(i));this.addIntersection(r,n)}}},{key:\"toString\",value:function(){return Ce.toLineString(new Qt(this._pts))}},{key:\"getNodeList\",value:function(){return this._nodeList}},{key:\"addIntersectionNode\",value:function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)}},{key:\"addIntersections\",value:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)}},{key:\"interfaces_\",get:function(){return[kn]}}],[{key:\"constructor_\",value:function(){this._nodeList=new _n(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}},{key:\"getNodedSubstrings\",value:function(){if(1===arguments.length){var e=arguments[0],n=new yt;return t.getNodedSubstrings(e,n),n}if(2===arguments.length)for(var i=arguments[1],r=arguments[0].iterator();r.hasNext();){r.next().getNodeList().addSplitEdges(i)}}}])}(),In=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"minX\",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:\"orientationIndex\",value:function(){if(arguments[0]instanceof t){var e=arguments[0],n=ct.index(this.p0,this.p1,e.p0),i=ct.index(this.p0,this.p1,e.p1);return n>=0&&i>=0||n<=0&&i<=0?Math.max(n,i):0}if(arguments[0]instanceof X){var r=arguments[0];return ct.index(this.p0,this.p1,r)}}},{key:\"toGeometry\",value:function(t){return t.createLineString([this.p0,this.p1])}},{key:\"isVertical\",value:function(){return this.p0.x===this.p1.x}},{key:\"equals\",value:function(e){if(!(e instanceof t))return!1;var n=e;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)}},{key:\"intersection\",value:function(t){var e=new we;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null}},{key:\"project\",value:function(){if(arguments[0]instanceof X){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new X(e);var n=this.projectionFactor(e),i=new X;return i.x=this.p0.x+n*(this.p1.x-this.p0.x),i.y=this.p0.y+n*(this.p1.y-this.p0.y),i}if(arguments[0]instanceof t){var r=arguments[0],s=this.projectionFactor(r.p0),a=this.projectionFactor(r.p1);if(s>=1&&a>=1)return null;if(s<=0&&a<=0)return null;var o=this.project(r.p0);s<0&&(o=this.p0),s>1&&(o=this.p1);var u=this.project(r.p1);return a<0&&(u=this.p0),a>1&&(u=this.p1),new t(o,u)}}},{key:\"normalize\",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:\"angle\",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:\"getCoordinate\",value:function(t){return 0===t?this.p0:this.p1}},{key:\"distancePerpendicular\",value:function(t){return xt.pointToLinePerpendicular(t,this.p0,this.p1)}},{key:\"minY\",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:\"midPoint\",value:function(){return t.midPoint(this.p0,this.p1)}},{key:\"projectionFactor\",value:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?A.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i}},{key:\"closestPoints\",value:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=A.MAX_VALUE,r=null,s=this.closestPoint(t.p0);i=s.distance(t.p0),n[0]=s,n[1]=t.p0;var a=this.closestPoint(t.p1);(r=a.distance(t.p1))<i&&(i=r,n[0]=a,n[1]=t.p1);var o=t.closestPoint(this.p0);(r=o.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=o);var u=t.closestPoint(this.p1);return(r=u.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=u),n}},{key:\"closestPoint\",value:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1}},{key:\"maxX\",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:\"getLength\",value:function(){return this.p0.distance(this.p1)}},{key:\"compareTo\",value:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)}},{key:\"reverse\",value:function(){var t=this.p0;this.p0=this.p1,this.p1=t}},{key:\"equalsTopo\",value:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)}},{key:\"lineIntersection\",value:function(t){return pt.intersection(this.p0,this.p1,t.p0,t.p1)}},{key:\"maxY\",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:\"pointAlongOffset\",value:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,a=Math.sqrt(r*r+s*s),o=0,u=0;if(0!==e){if(a<=0)throw new IllegalStateException(\"Cannot compute offset from zero-length line segment\");o=e*r/a,u=e*s/a}return new X(n-u,i+o)}},{key:\"setCoordinates\",value:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}}},{key:\"segmentFraction\",value:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||A.isNaN(e))&&(e=1),e}},{key:\"toString\",value:function(){return\"LINESTRING( \"+this.p0.x+\" \"+this.p0.y+\", \"+this.p1.x+\" \"+this.p1.y+\")\"}},{key:\"isHorizontal\",value:function(){return this.p0.y===this.p1.y}},{key:\"reflect\",value:function(t){var e=this.p1.getY()-this.p0.getY(),n=this.p0.getX()-this.p1.getX(),i=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),r=e*e+n*n,s=e*e-n*n,a=t.getX(),o=t.getY();return new X((-s*a-2*e*n*o-2*e*i)/r,(s*o-2*e*n*a-2*n*i)/r)}},{key:\"distance\",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return xt.segmentToSegment(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof X){var n=arguments[0];return xt.pointToSegment(n,this.p0,this.p1)}}},{key:\"pointAlong\",value:function(t){var e=new X;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e}},{key:\"hashCode\",value:function(){var t=A.doubleToLongBits(this.p0.x);t^=31*A.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=A.doubleToLongBits(this.p1.x);return n^=31*A.doubleToLongBits(this.p1.y),e^(Math.trunc(n)^Math.trunc(n>>32))}},{key:\"interfaces_\",get:function(){return[x,E]}}],[{key:\"constructor_\",value:function(){if(this.p0=null,this.p1=null,0===arguments.length)t.constructor_.call(this,new X,new X);else if(1===arguments.length){var e=arguments[0];t.constructor_.call(this,e.p0,e.p1)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.p0=n,this.p1=i}else if(4===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2],o=arguments[3];t.constructor_.call(this,new X(r,s),new X(a,o))}}},{key:\"midPoint\",value:function(t,e){return new X((t.x+e.x)/2,(t.y+e.y)/2)}}])}(),En=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"overlap\",value:function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:\"constructor_\",value:function(){this._overlapSeg1=new In,this._overlapSeg2=new In}}])}(),Nn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"getLineSegment\",value:function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]}},{key:\"computeSelect\",value:function(t,e,n,i){var r=this._pts[e],s=this._pts[n];if(n-e==1)return i.select(this,e),null;if(!t.intersects(r,s))return null;var a=Math.trunc((e+n)/2);e<a&&this.computeSelect(t,e,a,i),a<n&&this.computeSelect(t,a,n,i)}},{key:\"getCoordinates\",value:function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t}},{key:\"computeOverlaps\",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.computeOverlaps(this._start,this._end,t,t._start,t._end,e)}else if(6===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],s=arguments[3],a=arguments[4],o=arguments[5];if(i-n==1&&a-s==1)return o.overlap(this,n,r,s),null;if(!this.overlaps(n,i,r,s,a))return null;var u=Math.trunc((n+i)/2),l=Math.trunc((s+a)/2);n<u&&(s<l&&this.computeOverlaps(n,u,r,s,l,o),l<a&&this.computeOverlaps(n,u,r,l,a,o)),u<i&&(s<l&&this.computeOverlaps(u,i,r,s,l,o),l<a&&this.computeOverlaps(u,i,r,l,a,o))}}},{key:\"setId\",value:function(t){this._id=t}},{key:\"select\",value:function(t,e){this.computeSelect(t,this._start,this._end,e)}},{key:\"getEnvelope\",value:function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new U(t,e)}return this._env}},{key:\"overlaps\",value:function(t,e,n,i,r){return U.intersects(this._pts[t],this._pts[e],n._pts[i],n._pts[r])}},{key:\"getEndIndex\",value:function(){return this._end}},{key:\"getStartIndex\",value:function(){return this._start}},{key:\"getContext\",value:function(){return this._context}},{key:\"getId\",value:function(){return this._id}}],[{key:\"constructor_\",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i}}])}(),Tn=function(){function t(){n(this,t)}return s(t,null,[{key:\"findChainEnd\",value:function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=je.quadrant(t[n],t[n+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r]))if(je.quadrant(t[r-1],t[r])!==i)break;r++}return r-1}},{key:\"getChains\",value:function(){if(1===arguments.length){var e=arguments[0];return t.getChains(e,null)}if(2===arguments.length){var n=arguments[0],i=arguments[1],r=new yt,s=0;do{var a=t.findChainEnd(n,s),o=new Nn(n,s,a,i);r.add(o),s=a}while(s<n.length-1);return r}}}])}(),Sn=function(){return s((function t(){n(this,t)}),[{key:\"computeNodes\",value:function(t){}},{key:\"getNodedSubstrings\",value:function(){}}])}(),Ln=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"setSegmentIntersector\",value:function(t){this._segInt=t}},{key:\"interfaces_\",get:function(){return[Sn]}}],[{key:\"constructor_\",value:function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}}])}(),Cn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"getMonotoneChains\",value:function(){return this._monoChains}},{key:\"getNodedSubstrings\",value:function(){return xn.getNodedSubstrings(this._nodedSegStrings)}},{key:\"getIndex\",value:function(){return this._index}},{key:\"add\",value:function(t){for(var e=Tn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}}},{key:\"computeNodes\",value:function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()}},{key:\"intersectChains\",value:function(){for(var t=new Rn(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:\"constructor_\",value:function(){if(this._monoChains=new yt,this._index=new fn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];Ln.constructor_.call(this,t)}}}])}(Ln),Rn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"overlap\",value:function(){if(4!==arguments.length)return f(i,\"overlap\",this,1).apply(this,arguments);var t=arguments[1],e=arguments[2],n=arguments[3],r=arguments[0].getContext(),s=e.getContext();this._si.processIntersections(r,t,s,n)}}],[{key:\"constructor_\",value:function(){this._si=null;var t=arguments[0];this._si=t}}])}(En);Cn.SegmentOverlapAction=Rn;var wn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"isDeletable\",value:function(t,e,n,i){var r=this._inputLine[t],s=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(r,s,a)&&(!!this.isShallow(r,s,a,i)&&this.isShallowSampled(r,s,t,n,i))}},{key:\"deleteShallowConcavities\",value:function(){for(var e=1,n=this.findNextNonDeletedIndex(e),i=this.findNextNonDeletedIndex(n),r=!1;i<this._inputLine.length;){var s=!1;this.isDeletable(e,n,i,this._distanceTol)&&(this._isDeleted[n]=t.DELETE,s=!0,r=!0),e=s?i:n,n=this.findNextNonDeletedIndex(e),i=this.findNextNonDeletedIndex(n)}return r}},{key:\"isShallowConcavity\",value:function(t,e,n,i){return ct.index(t,e,n)===this._angleOrientation&&xt.pointToSegment(e,t,n)<i}},{key:\"isShallowSampled\",value:function(e,n,i,r,s){var a=Math.trunc((r-i)/t.NUM_PTS_TO_CHECK);a<=0&&(a=1);for(var o=i;o<r;o+=a)if(!this.isShallow(e,n,this._inputLine[o],s))return!1;return!0}},{key:\"isConcave\",value:function(t,e,n){var i=ct.index(t,e,n)===this._angleOrientation;return i}},{key:\"simplify\",value:function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=ct.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()}},{key:\"findNextNonDeletedIndex\",value:function(e){for(var n=e+1;n<this._inputLine.length&&this._isDeleted[n]===t.DELETE;)n++;return n}},{key:\"isShallow\",value:function(t,e,n,i){return xt.pointToSegment(e,t,n)<i}},{key:\"collapseLine\",value:function(){for(var e=new Zt,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==t.DELETE&&e.add(this._inputLine[n]);return e.toCoordinateArray()}}],[{key:\"constructor_\",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ct.COUNTERCLOCKWISE;var t=arguments[0];this._inputLine=t}},{key:\"simplify\",value:function(e,n){return new t(e).simplify(n)}}])}();wn.INIT=0,wn.DELETE=1,wn.KEEP=1,wn.NUM_PTS_TO_CHECK=10;var On=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getCoordinates\",value:function(){return this._ptList.toArray(t.COORDINATE_ARRAY_TYPE)}},{key:\"setPrecisionModel\",value:function(t){this._precisionModel=t}},{key:\"addPt\",value:function(t){var e=new X(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)}},{key:\"reverse\",value:function(){}},{key:\"addPts\",value:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])}},{key:\"isRedundant\",value:function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance}},{key:\"toString\",value:function(){return(new ae).createLineString(this.getCoordinates()).toString()}},{key:\"closeRing\",value:function(){if(this._ptList.size()<1)return null;var t=new X(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)}},{key:\"setMinimumVertexDistance\",value:function(t){this._minimimVertexDistance=t}}],[{key:\"constructor_\",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new yt}}])}();On.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var bn=function(){function t(){n(this,t)}return s(t,null,[{key:\"toDegrees\",value:function(t){return 180*t/Math.PI}},{key:\"normalize\",value:function(e){for(;e>Math.PI;)e-=t.PI_TIMES_2;for(;e<=-Math.PI;)e+=t.PI_TIMES_2;return e}},{key:\"angle\",value:function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}}},{key:\"isAcute\",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0}},{key:\"isObtuse\",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0}},{key:\"interiorAngle\",value:function(e,n,i){var r=t.angle(n,e),s=t.angle(n,i);return Math.abs(s-r)}},{key:\"normalizePositive\",value:function(e){if(e<0){for(;e<0;)e+=t.PI_TIMES_2;e>=t.PI_TIMES_2&&(e=0)}else{for(;e>=t.PI_TIMES_2;)e-=t.PI_TIMES_2;e<0&&(e=0)}return e}},{key:\"angleBetween\",value:function(e,n,i){var r=t.angle(n,e),s=t.angle(n,i);return t.diff(r,s)}},{key:\"diff\",value:function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n}},{key:\"toRadians\",value:function(t){return t*Math.PI/180}},{key:\"getTurn\",value:function(e,n){var i=Math.sin(n-e);return i>0?t.COUNTERCLOCKWISE:i<0?t.CLOCKWISE:t.NONE}},{key:\"angleBetweenOriented\",value:function(e,n,i){var r=t.angle(n,e),s=t.angle(n,i)-r;return s<=-Math.PI?s+t.PI_TIMES_2:s>Math.PI?s-t.PI_TIMES_2:s}}])}();bn.PI_TIMES_2=2*Math.PI,bn.PI_OVER_2=Math.PI/2,bn.PI_OVER_4=Math.PI/4,bn.COUNTERCLOCKWISE=ct.COUNTERCLOCKWISE,bn.CLOCKWISE=ct.CLOCKWISE,bn.NONE=ct.COLLINEAR;var Mn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"addNextSegment\",value:function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=ct.index(this._s0,this._s1,this._s2),i=n===ct.CLOCKWISE&&this._side===$.LEFT||n===ct.COUNTERCLOCKWISE&&this._side===$.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)}},{key:\"addLineEndCap\",value:function(t,e){var n=new In(t,e),i=new In;this.computeOffsetSegment(n,$.LEFT,this._distance,i);var r=new In;this.computeOffsetSegment(n,$.RIGHT,this._distance,r);var s=e.x-t.x,a=e.y-t.y,o=Math.atan2(a,s);switch(this._bufParams.getEndCapStyle()){case _.CAP_ROUND:this._segList.addPt(i.p1),this.addDirectedFillet(e,o+Math.PI/2,o-Math.PI/2,ct.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case _.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case _.CAP_SQUARE:var u=new X;u.x=Math.abs(this._distance)*Math.cos(o),u.y=Math.abs(this._distance)*Math.sin(o);var l=new X(i.p1.x+u.x,i.p1.y+u.y),h=new X(r.p1.x+u.x,r.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(h)}}},{key:\"getCoordinates\",value:function(){return this._segList.getCoordinates()}},{key:\"addMitreJoin\",value:function(t,e,n,i){var r=pt.intersection(e.p0,e.p1,n.p0,n.p1);if(null!==r&&(i<=0?1:r.distance(t)/Math.abs(i))<=this._bufParams.getMitreLimit())return this._segList.addPt(r),null;this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())}},{key:\"addOutsideTurn\",value:function(e,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*t.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===_.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===_.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))}},{key:\"createSquare\",value:function(t){this._segList.addPt(new X(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new X(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new X(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new X(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()}},{key:\"addSegments\",value:function(t,e){this._segList.addPts(t,e)}},{key:\"addFirstSegment\",value:function(){this._segList.addPt(this._offset1.p0)}},{key:\"addCornerFillet\",value:function(t,e,n,i,r){var s=e.x-t.x,a=e.y-t.y,o=Math.atan2(a,s),u=n.x-t.x,l=n.y-t.y,h=Math.atan2(l,u);i===ct.CLOCKWISE?o<=h&&(o+=2*Math.PI):o>=h&&(o-=2*Math.PI),this._segList.addPt(e),this.addDirectedFillet(t,o,h,i,r),this._segList.addPt(n)}},{key:\"addLastSegment\",value:function(){this._segList.addPt(this._offset1.p1)}},{key:\"initSideSegments\",value:function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)}},{key:\"addLimitedMitreJoin\",value:function(t,e,n,i){var r=this._seg0.p1,s=bn.angle(r,this._seg0.p0),a=bn.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,o=bn.normalize(s+a),u=bn.normalize(o+Math.PI),l=i*n,h=n-l*Math.abs(Math.sin(a)),c=r.x+l*Math.cos(u),f=r.y+l*Math.sin(u),g=new X(c,f),v=new In(r,g),y=v.pointAlongOffset(1,h),d=v.pointAlongOffset(1,-h);this._side===$.LEFT?(this._segList.addPt(y),this._segList.addPt(d)):(this._segList.addPt(d),this._segList.addPt(y))}},{key:\"addDirectedFillet\",value:function(t,e,n,i,r){var s=i===ct.CLOCKWISE?-1:1,a=Math.abs(e-n),o=Math.trunc(a/this._filletAngleQuantum+.5);if(o<1)return null;for(var u=a/o,l=new X,h=0;h<o;h++){var c=e+s*h*u;l.x=t.x+r*Math.cos(c),l.y=t.y+r*Math.sin(c),this._segList.addPt(l)}}},{key:\"computeOffsetSegment\",value:function(t,e,n,i){var r=e===$.LEFT?1:-1,s=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,o=Math.sqrt(s*s+a*a),u=r*n*s/o,l=r*n*a/o;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u}},{key:\"addInsideTurn\",value:function(e,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*t.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new X((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var r=new X((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:\"createCircle\",value:function(t){var e=new X(t.x+this._distance,t.y);this._segList.addPt(e),this.addDirectedFillet(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:\"addBevelJoin\",value:function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)}},{key:\"init\",value:function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new On,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*t.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:\"addCollinear\",value:function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===_.JOIN_BEVEL||this._bufParams.getJoinStyle()===_.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,ct.CLOCKWISE,this._distance))}},{key:\"closeRing\",value:function(){this._segList.closeRing()}},{key:\"hasNarrowConcaveAngle\",value:function(){return this._hasNarrowConcaveAngle}}],[{key:\"constructor_\",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new In,this._seg1=new In,this._offset0=new In,this._offset1=new In,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new we,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===_.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)}}])}();Mn.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Mn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Mn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Mn.MAX_CLOSING_SEG_LEN_FACTOR=80;var An=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getOffsetCurve\",value:function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var s=r.getCoordinates();return n&&jt.reverse(s),s}},{key:\"computeSingleSidedBufferCurve\",value:function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=wn.simplify(t,-i),s=r.length-1;n.initSideSegments(r[s],r[s-1],$.LEFT),n.addFirstSegment();for(var a=s-2;a>=0;a--)n.addNextSegment(r[a],!0)}else{n.addSegments(t,!1);var o=wn.simplify(t,i),u=o.length-1;n.initSideSegments(o[0],o[1],$.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(o[l],!0)}n.addLastSegment(),n.closeRing()}},{key:\"computeRingBufferCurve\",value:function(t,e,n){var i=this.simplifyTolerance(this._distance);e===$.RIGHT&&(i=-i);var r=wn.simplify(t,i),s=r.length-1;n.initSideSegments(r[s-1],r[0],e);for(var a=1;a<=s;a++){var o=1!==a;n.addNextSegment(r[a],o)}n.closeRing()}},{key:\"computeLineBufferCurve\",value:function(t,e){var n=this.simplifyTolerance(this._distance),i=wn.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],$.LEFT);for(var s=2;s<=r;s++)e.addNextSegment(i[s],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var a=wn.simplify(t,-n),o=a.length-1;e.initSideSegments(a[o],a[o-1],$.LEFT);for(var u=o-2;u>=0;u--)e.addNextSegment(a[u],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()}},{key:\"computePointCurve\",value:function(t,e){switch(this._bufParams.getEndCapStyle()){case _.CAP_ROUND:e.createCircle(t);break;case _.CAP_SQUARE:e.createSquare(t)}}},{key:\"getLineCurve\",value:function(t,e){if(this._distance=e,this.isLineOffsetEmpty(e))return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()}},{key:\"getBufferParameters\",value:function(){return this._bufParams}},{key:\"simplifyTolerance\",value:function(t){return t*this._bufParams.getSimplifyFactor()}},{key:\"getRingCurve\",value:function(e,n,i){if(this._distance=i,e.length<=2)return this.getLineCurve(e,i);if(0===i)return t.copyCoordinates(e);var r=this.getSegGen(i);return this.computeRingBufferCurve(e,n,r),r.getCoordinates()}},{key:\"computeOffsetCurve\",value:function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=wn.simplify(t,-i),s=r.length-1;n.initSideSegments(r[s],r[s-1],$.LEFT),n.addFirstSegment();for(var a=s-2;a>=0;a--)n.addNextSegment(r[a],!0)}else{var o=wn.simplify(t,i),u=o.length-1;n.initSideSegments(o[0],o[1],$.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(o[l],!0)}n.addLastSegment()}},{key:\"isLineOffsetEmpty\",value:function(t){return 0===t||t<0&&!this._bufParams.isSingleSided()}},{key:\"getSegGen\",value:function(t){return new Mn(this._precisionModel,this._bufParams,t)}}],[{key:\"constructor_\",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e}},{key:\"copyCoordinates\",value:function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new X(t[n]);return e}}])}(),Pn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"findStabbedSegments\",value:function(){if(1===arguments.length){for(var t=arguments[0],e=new yt,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(rt(arguments[2],nt)&&arguments[0]instanceof X&&arguments[1]instanceof Ke)for(var s=arguments[0],a=arguments[1],o=arguments[2],u=a.getEdge().getCoordinates(),l=0;l<u.length-1;l++){if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<s.x||this._seg.isHorizontal()||s.y<this._seg.p0.y||s.y>this._seg.p1.y||ct.index(this._seg.p0,this._seg.p1,s)===ct.RIGHT)){var h=a.getDepth($.LEFT);this._seg.p0.equals(u[l])||(h=a.getDepth($.RIGHT));var c=new Dn(this._seg,h);o.add(c)}}else if(rt(arguments[2],nt)&&arguments[0]instanceof X&&rt(arguments[1],nt))for(var f=arguments[0],g=arguments[2],v=arguments[1].iterator();v.hasNext();){var y=v.next();y.isForward()&&this.findStabbedSegments(f,y,g)}}},{key:\"getDepth\",value:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:an.min(e)._leftDepth}}],[{key:\"constructor_\",value:function(){this._subgraphs=null,this._seg=new In;var t=arguments[0];this._subgraphs=t}}])}(),Dn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"compareTo\",value:function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!==(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)}},{key:\"compareX\",value:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)}},{key:\"toString\",value:function(){return this._upwardSeg.toString()}},{key:\"interfaces_\",get:function(){return[x]}}],[{key:\"constructor_\",value:function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new In(t),this._leftDepth=e}}])}();Pn.DepthSegment=Dn;var Fn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,null,[{key:\"constructor_\",value:function(){p.constructor_.call(this,\"Projective point not representable on the Cartesian plane.\")}}])}(p),Gn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getY\",value:function(){var t=this.y/this.w;if(A.isNaN(t)||A.isInfinite(t))throw new Fn;return t}},{key:\"getX\",value:function(){var t=this.x/this.w;if(A.isNaN(t)||A.isInfinite(t))throw new Fn;return t}},{key:\"getCoordinate\",value:function(){var t=new X;return t.x=this.getX(),t.y=this.getY(),t}}],[{key:\"constructor_\",value:function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],s=arguments[1];this.x=r.y*s.w-s.y*r.w,this.y=s.x*r.w-r.x*s.w,this.w=r.x*s.y-s.x*r.y}else if(arguments[0]instanceof X&&arguments[1]instanceof X){var a=arguments[0],o=arguments[1];this.x=a.y-o.y,this.y=o.x-a.x,this.w=a.x*o.y-o.x*a.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],h=arguments[2];this.x=u,this.y=l,this.w=h}else if(4===arguments.length){var c=arguments[0],f=arguments[1],g=arguments[2],v=arguments[3],y=c.y-f.y,d=f.x-c.x,_=c.x*f.y-f.x*c.y,p=g.y-v.y,m=v.x-g.x,k=g.x*v.y-v.x*g.y;this.x=d*k-m*_,this.y=p*_-y*k,this.w=y*m-p*d}}}])}(),qn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"area\",value:function(){return t.area(this.p0,this.p1,this.p2)}},{key:\"signedArea\",value:function(){return t.signedArea(this.p0,this.p1,this.p2)}},{key:\"interpolateZ\",value:function(e){if(null===e)throw new m(\"Supplied point is null.\");return t.interpolateZ(e,this.p0,this.p1,this.p2)}},{key:\"longestSideLength\",value:function(){return t.longestSideLength(this.p0,this.p1,this.p2)}},{key:\"isAcute\",value:function(){return t.isAcute(this.p0,this.p1,this.p2)}},{key:\"circumcentre\",value:function(){return t.circumcentre(this.p0,this.p1,this.p2)}},{key:\"area3D\",value:function(){return t.area3D(this.p0,this.p1,this.p2)}},{key:\"centroid\",value:function(){return t.centroid(this.p0,this.p1,this.p2)}},{key:\"inCentre\",value:function(){return t.inCentre(this.p0,this.p1,this.p2)}}],[{key:\"constructor_\",value:function(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}},{key:\"area\",value:function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)}},{key:\"signedArea\",value:function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2}},{key:\"det\",value:function(t,e,n,i){return t*i-e*n}},{key:\"interpolateZ\",value:function(t,e,n,i){var r=e.x,s=e.y,a=n.x-r,o=i.x-r,u=n.y-s,l=i.y-s,h=a*l-o*u,c=t.x-r,f=t.y-s,g=(l*c-o*f)/h,v=(-u*c+a*f)/h;return e.getZ()+g*(n.getZ()-e.getZ())+v*(i.getZ()-e.getZ())}},{key:\"longestSideLength\",value:function(t,e,n){var i=t.distance(e),r=e.distance(n),s=n.distance(t),a=i;return r>a&&(a=r),s>a&&(a=s),a}},{key:\"circumcentreDD\",value:function(t,e,n){var i=ut.valueOf(t.x).subtract(n.x),r=ut.valueOf(t.y).subtract(n.y),s=ut.valueOf(e.x).subtract(n.x),a=ut.valueOf(e.y).subtract(n.y),o=ut.determinant(i,r,s,a).multiply(2),u=i.sqr().add(r.sqr()),l=s.sqr().add(a.sqr()),h=ut.determinant(r,u,a,l),c=ut.determinant(i,u,s,l),f=ut.valueOf(n.x).subtract(h.divide(o)).doubleValue(),g=ut.valueOf(n.y).add(c.divide(o)).doubleValue();return new X(f,g)}},{key:\"isAcute\",value:function(t,e,n){return!!bn.isAcute(t,e,n)&&(!!bn.isAcute(e,n,t)&&!!bn.isAcute(n,t,e))}},{key:\"circumcentre\",value:function(e,n,i){var r=i.x,s=i.y,a=e.x-r,o=e.y-s,u=n.x-r,l=n.y-s,h=2*t.det(a,o,u,l),c=t.det(o,a*a+o*o,l,u*u+l*l),f=t.det(a,a*a+o*o,u,u*u+l*l);return new X(r-c/h,s+f/h)}},{key:\"perpendicularBisector\",value:function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new Gn(t.x+n/2,t.y+i/2,1),s=new Gn(t.x-i+n/2,t.y+n+i/2,1);return new Gn(r,s)}},{key:\"angleBisector\",value:function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),s=n.x-t.x,a=n.y-t.y;return new X(t.x+r*s,t.y+r*a)}},{key:\"area3D\",value:function(t,e,n){var i=e.x-t.x,r=e.y-t.y,s=e.getZ()-t.getZ(),a=n.x-t.x,o=n.y-t.y,u=n.getZ()-t.getZ(),l=r*u-s*o,h=s*a-i*u,c=i*o-r*a,f=l*l+h*h+c*c,g=Math.sqrt(f)/2;return g}},{key:\"centroid\",value:function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new X(i,r)}},{key:\"inCentre\",value:function(t,e,n){var i=e.distance(n),r=t.distance(n),s=t.distance(e),a=i+r+s,o=(i*t.x+r*e.x+s*n.x)/a,u=(i*t.y+r*e.y+s*n.y)/a;return new X(o,u)}}])}(),Yn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"addRingSide\",value:function(t,e,n,i,r){if(0===e&&t.length<Xt.MINIMUM_VALID_SIZE)return null;var s=i,a=r;t.length>=Xt.MINIMUM_VALID_SIZE&&ct.isCCW(t)&&(s=r,a=i,n=$.opposite(n));var o=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(o,s,a)}},{key:\"addRingBothSides\",value:function(t,e){this.addRingSide(t,e,$.LEFT,H.EXTERIOR,H.INTERIOR),this.addRingSide(t,e,$.RIGHT,H.INTERIOR,H.EXTERIOR)}},{key:\"addPoint\",value:function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,H.EXTERIOR,H.INTERIOR)}},{key:\"addPolygon\",value:function(t){var e=this._distance,n=$.LEFT;this._distance<0&&(e=-this._distance,n=$.RIGHT);var i=t.getExteriorRing(),r=jt.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addRingSide(r,e,n,H.EXTERIOR,H.INTERIOR);for(var s=0;s<t.getNumInteriorRing();s++){var a=t.getInteriorRingN(s),o=jt.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addRingSide(o,e,$.opposite(n),H.INTERIOR,H.EXTERIOR)}}},{key:\"isTriangleErodedCompletely\",value:function(t,e){var n=new qn(t[0],t[1],t[2]),i=n.inCentre();return xt.pointToSegment(i,n.p0,n.p1)<Math.abs(e)}},{key:\"addLineString\",value:function(t){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var e=jt.removeRepeatedPoints(t.getCoordinates());if(jt.isRing(e)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(e,this._distance);else{var n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,H.EXTERIOR,H.INTERIOR)}}},{key:\"addCurve\",value:function(t,e,n){if(null===t||t.length<2)return null;var i=new xn(t,new Ae(0,H.BOUNDARY,e,n));this._curveList.add(i)}},{key:\"getCurves\",value:function(){return this.add(this._inputGeom),this._curveList}},{key:\"add\",value:function(t){if(t.isEmpty())return null;if(t instanceof Dt)this.addPolygon(t);else if(t instanceof wt)this.addLineString(t);else if(t instanceof bt)this.addPoint(t);else if(t instanceof zt)this.addCollection(t);else if(t instanceof se)this.addCollection(t);else if(t instanceof te)this.addCollection(t);else{if(!(t instanceof Yt))throw new W(t.getGeometryType());this.addCollection(t)}}},{key:\"isErodedCompletely\",value:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r}},{key:\"addCollection\",value:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}}}],[{key:\"constructor_\",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new yt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n}}])}(),zn=function(){return s((function t(){n(this,t)}),[{key:\"locate\",value:function(t){}}])}(),Xn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"next\",value:function(){if(this._atStart)return this._atStart=!1,t.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new j;var e=this._parent.getGeometryN(this._index++);return e instanceof Yt?(this._subcollectionIterator=new t(e),this._subcollectionIterator.next()):e}},{key:\"remove\",value:function(){throw new W(this.getClass().getName())}},{key:\"hasNext\",value:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:\"interfaces_\",get:function(){return[dn]}}],[{key:\"constructor_\",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}},{key:\"isAtomic\",value:function(t){return!(t instanceof Yt)}}])}(),Bn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"locate\",value:function(e){return t.locate(e,this._geom)}},{key:\"interfaces_\",get:function(){return[zn]}}],[{key:\"constructor_\",value:function(){this._geom=null;var t=arguments[0];this._geom=t}},{key:\"locatePointInPolygon\",value:function(e,n){if(n.isEmpty())return H.EXTERIOR;var i=n.getExteriorRing(),r=t.locatePointInRing(e,i);if(r!==H.INTERIOR)return r;for(var s=0;s<n.getNumInteriorRing();s++){var a=n.getInteriorRingN(s),o=t.locatePointInRing(e,a);if(o===H.BOUNDARY)return H.BOUNDARY;if(o===H.INTERIOR)return H.EXTERIOR}return H.INTERIOR}},{key:\"locatePointInRing\",value:function(t,e){return e.getEnvelopeInternal().intersects(t)?be.locateInRing(t,e.getCoordinates()):H.EXTERIOR}},{key:\"containsPointInPolygon\",value:function(e,n){return H.EXTERIOR!==t.locatePointInPolygon(e,n)}},{key:\"locateInGeometry\",value:function(e,n){if(n instanceof Dt)return t.locatePointInPolygon(e,n);if(n instanceof Yt)for(var i=new Xn(n);i.hasNext();){var r=i.next();if(r!==n){var s=t.locateInGeometry(e,r);if(s!==H.EXTERIOR)return s}}return H.EXTERIOR}},{key:\"isContained\",value:function(e,n){return H.EXTERIOR!==t.locate(e,n)}},{key:\"locate\",value:function(e,n){return n.isEmpty()?H.EXTERIOR:n.getEnvelopeInternal().intersects(e)?t.locateInGeometry(e,n):H.EXTERIOR}}])}(),Un=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"getNextCW\",value:function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)}},{key:\"propagateSideLabels\",value:function(t){for(var e=H.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,$.LEFT)!==H.NONE&&(e=i.getLocation(t,$.LEFT))}if(e===H.NONE)return null;for(var r=e,s=this.iterator();s.hasNext();){var a=s.next(),o=a.getLabel();if(o.getLocation(t,$.ON)===H.NONE&&o.setLocation(t,$.ON,r),o.isArea(t)){var u=o.getLocation(t,$.LEFT),l=o.getLocation(t,$.RIGHT);if(l!==H.NONE){if(l!==r)throw new gt(\"side location conflict\",a.getCoordinate());u===H.NONE&&G.shouldNeverReachHere(\"found single null side (at \"+a.getCoordinate()+\")\"),r=u}else G.isTrue(o.getLocation(t,$.LEFT)===H.NONE,\"found single null side\"),o.setLocation(t,$.RIGHT,r),o.setLocation(t,$.LEFT,r)}}}},{key:\"getCoordinate\",value:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null}},{key:\"print\",value:function(t){mt.out.println(\"EdgeEndStar:   \"+this.getCoordinate());for(var e=this.iterator();e.hasNext();){e.next().print(t)}}},{key:\"isAreaLabelsConsistent\",value:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:\"checkAreaLabelsConsistent\",value:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,$.LEFT);G.isTrue(i!==H.NONE,\"Found unlabelled area edge\");for(var r=i,s=this.iterator();s.hasNext();){var a=s.next().getLabel();G.isTrue(a.isArea(t),\"Found non-area edge\");var o=a.getLocation(t,$.LEFT),u=a.getLocation(t,$.RIGHT);if(o===u)return!1;if(u!==r)return!1;r=o}return!0}},{key:\"findIndex\",value:function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++){if(this._edgeList.get(e)===t)return e}return-1}},{key:\"iterator\",value:function(){return this.getEdges().iterator()}},{key:\"getEdges\",value:function(){return null===this._edgeList&&(this._edgeList=new yt(this._edgeMap.values())),this._edgeList}},{key:\"getLocation\",value:function(t,e,n){return this._ptInAreaLocation[t]===H.NONE&&(this._ptInAreaLocation[t]=Bn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]}},{key:\"toString\",value:function(){var t=new st;t.append(\"EdgeEndStar:   \"+this.getCoordinate()),t.append(\"\\n\");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append(\"\\n\")}return t.toString()}},{key:\"computeEdgeEndLabels\",value:function(t){for(var e=this.iterator();e.hasNext();){e.next().computeLabel(t)}}},{key:\"computeLabelling\",value:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===H.BOUNDARY&&(e[r]=!0);for(var s=this.iterator();s.hasNext();)for(var a=s.next(),o=a.getLabel(),u=0;u<2;u++)if(o.isAnyNull(u)){var l=H.NONE;if(e[u])l=H.EXTERIOR;else{var h=a.getCoordinate();l=this.getLocation(u,h,t)}o.setAllLocationsIfNull(u,l)}}},{key:\"getDegree\",value:function(){return this._edgeMap.size()}},{key:\"insertEdgeEnd\",value:function(t,e){this._edgeMap.put(t,e),this._edgeList=null}}],[{key:\"constructor_\",value:function(){this._edgeMap=new He,this._edgeList=null,this._ptInAreaLocation=[H.NONE,H.NONE]}}])}(),Vn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"linkResultDirectedEdges\",value:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),s=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!s.isInResult())continue;e=s,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new gt(\"no outgoing dirEdge found\",this.getCoordinate());G.isTrue(t.isInResult(),\"unable to link last incoming dirEdge\"),e.setNext(t)}}},{key:\"insert\",value:function(t){var e=t;this.insertEdgeEnd(e,e)}},{key:\"getRightmostEdge\",value:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),s=i.getQuadrant();return je.isNorthern(r)&&je.isNorthern(s)?n:je.isNorthern(r)||je.isNorthern(s)?0!==n.getDy()?n:0!==i.getDy()?i:(G.shouldNeverReachHere(\"found two horizontal edges incident on node\"),null):i}},{key:\"print\",value:function(t){mt.out.println(\"DirectedEdgeStar: \"+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print(\"out \"),n.print(t),t.println(),t.print(\"in \"),n.getSym().print(t),t.println()}}},{key:\"getResultAreaEdges\",value:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new yt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList}},{key:\"updateLabelling\",value:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}}},{key:\"linkAllDirectedEdges\",value:function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)}},{key:\"computeDepths\",value:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth($.LEFT),i=t.getDepth($.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new gt(\"depth mismatch at \"+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[1],a=arguments[2],o=arguments[0];o<s;o++){var u=this._edgeList.get(o);u.setEdgeDepths($.RIGHT,a),a=u.getDepth($.LEFT)}return a}}},{key:\"mergeSymLabels\",value:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}}},{key:\"linkMinimalDirectedEdges\",value:function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var s=this._resultAreaEdgeList.get(r),a=s.getSym();switch(null===e&&s.getEdgeRing()===t&&(e=s),i){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(s.getEdgeRing()!==t)continue;n.setNextMin(s),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(G.isTrue(null!==e,\"found null for first outgoing dirEdge\"),G.isTrue(e.getEdgeRing()===t,\"unable to link last incoming dirEdge\"),n.setNextMin(e))}},{key:\"getOutgoingDegree\",value:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){e.next().isInResult()&&t++}return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();){r.next().getEdgeRing()===n&&i++}return i}}},{key:\"getLabel\",value:function(){return this._label}},{key:\"findCoveredLineEdges\",value:function(){for(var t=H.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=H.INTERIOR;break}if(i.isInResult()){t=H.EXTERIOR;break}}}if(t===H.NONE)return null;for(var r=t,s=this.iterator();s.hasNext();){var a=s.next(),o=a.getSym();a.isLineEdge()?a.getEdge().setCovered(r===H.INTERIOR):(a.isInResult()&&(r=H.EXTERIOR),o.isInResult()&&(r=H.INTERIOR))}}},{key:\"computeLabelling\",value:function(t){f(i,\"computeLabelling\",this,1).call(this,t),this._label=new Ae(H.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),r=0;r<2;r++){var s=n.getLocation(r);s!==H.INTERIOR&&s!==H.BOUNDARY||this._label.setLocation(r,H.INTERIOR)}}}],[{key:\"constructor_\",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(Un),Hn=function(t){function i(){return n(this,i),e(this,i)}return l(i,t),s(i,[{key:\"createNode\",value:function(t){return new qe(t,new Vn)}}])}(Je),Zn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"compareTo\",value:function(e){var n=e;return t.compareOriented(this._pts,this._orientation,n._pts,n._orientation)}},{key:\"interfaces_\",get:function(){return[x]}}],[{key:\"constructor_\",value:function(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)}},{key:\"orientation\",value:function(t){return 1===jt.increasingDirection(t)}},{key:\"compareOriented\",value:function(t,e,n,i){for(var r=e?1:-1,s=i?1:-1,a=e?t.length:-1,o=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var h=t[u].compareTo(n[l]);if(0!==h)return h;var c=(u+=r)===a,f=(l+=s)===o;if(c&&!f)return-1;if(!c&&f)return 1;if(c&&f)return 0}}}])}(),jn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"print\",value:function(t){t.print(\"MULTILINESTRING ( \");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(\",\"),t.print(\"(\");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(\",\"),t.print(i[r].x+\" \"+i[r].y);t.println(\")\")}t.print(\")  \")}},{key:\"addAll\",value:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())}},{key:\"findEdgeIndex\",value:function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1}},{key:\"iterator\",value:function(){return this._edges.iterator()}},{key:\"getEdges\",value:function(){return this._edges}},{key:\"get\",value:function(t){return this._edges.get(t)}},{key:\"findEqualEdge\",value:function(t){var e=new Zn(t.getCoordinates());return this._ocaMap.get(e)}},{key:\"add\",value:function(t){this._edges.add(t);var e=new Zn(t.getCoordinates());this._ocaMap.put(e,t)}}],[{key:\"constructor_\",value:function(){this._edges=new yt,this._ocaMap=new He}}])}(),Wn=function(){return s((function t(){n(this,t)}),[{key:\"processIntersections\",value:function(t,e,n,i){}},{key:\"isDone\",value:function(){}}])}(),Kn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"isTrivialIntersection\",value:function(e,n,i,r){if(e===i&&1===this._li.getIntersectionNum()){if(t.isAdjacentSegments(n,r))return!0;if(e.isClosed()){var s=e.size()-1;if(0===n&&r===s||0===r&&n===s)return!0}}return!1}},{key:\"getProperIntersectionPoint\",value:function(){return this._properIntersectionPoint}},{key:\"hasProperInteriorIntersection\",value:function(){return this._hasProperInterior}},{key:\"getLineIntersector\",value:function(){return this._li}},{key:\"hasProperIntersection\",value:function(){return this._hasProper}},{key:\"processIntersections\",value:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],s=t.getCoordinates()[e+1],a=n.getCoordinates()[i],o=n.getCoordinates()[i+1];this._li.computeIntersection(r,s,a,o),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:\"hasIntersection\",value:function(){return this._hasIntersection}},{key:\"isDone\",value:function(){return!1}},{key:\"hasInteriorIntersection\",value:function(){return this._hasInterior}},{key:\"interfaces_\",get:function(){return[Wn]}}],[{key:\"constructor_\",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t}},{key:\"isAdjacentSegments\",value:function(t,e){return 1===Math.abs(t-e)}}])}(),Jn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"getSegmentIndex\",value:function(){return this.segmentIndex}},{key:\"getCoordinate\",value:function(){return this.coord}},{key:\"print\",value:function(t){t.print(this.coord),t.print(\" seg # = \"+this.segmentIndex),t.println(\" dist = \"+this.dist)}},{key:\"compareTo\",value:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)}},{key:\"isEndPoint\",value:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t}},{key:\"toString\",value:function(){return this.coord+\" seg # = \"+this.segmentIndex+\" dist = \"+this.dist}},{key:\"getDistance\",value:function(){return this.dist}},{key:\"compare\",value:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0}},{key:\"interfaces_\",get:function(){return[x]}}],[{key:\"constructor_\",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new X(t),this.segmentIndex=e,this.dist=n}}])}(),Qn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"print\",value:function(t){t.println(\"Intersections:\");for(var e=this.iterator();e.hasNext();){e.next().print(t)}}},{key:\"iterator\",value:function(){return this._nodeMap.values().iterator()}},{key:\"addSplitEdges\",value:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}}},{key:\"addEndpoints\",value:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)}},{key:\"createSplitEdge\",value:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var s=new Array(n).fill(null),a=0;s[a++]=new X(t.coord);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)s[a++]=this.edge.pts[o];return r&&(s[a]=e.coord),new ri(s,new Ae(this.edge._label))}},{key:\"add\",value:function(t,e,n){var i=new Jn(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)}},{key:\"isIntersection\",value:function(t){for(var e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1}}],[{key:\"constructor_\",value:function(){this._nodeMap=new He,this.edge=null;var t=arguments[0];this.edge=t}}])}(),$n=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"isIntersects\",value:function(){return!this.isDisjoint()}},{key:\"isCovers\",value:function(){return(t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])||t.isTrue(this._matrix[H.INTERIOR][H.BOUNDARY])||t.isTrue(this._matrix[H.BOUNDARY][H.INTERIOR])||t.isTrue(this._matrix[H.BOUNDARY][H.BOUNDARY]))&&this._matrix[H.EXTERIOR][H.INTERIOR]===Lt.FALSE&&this._matrix[H.EXTERIOR][H.BOUNDARY]===Lt.FALSE}},{key:\"isCoveredBy\",value:function(){return(t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])||t.isTrue(this._matrix[H.INTERIOR][H.BOUNDARY])||t.isTrue(this._matrix[H.BOUNDARY][H.INTERIOR])||t.isTrue(this._matrix[H.BOUNDARY][H.BOUNDARY]))&&this._matrix[H.INTERIOR][H.EXTERIOR]===Lt.FALSE&&this._matrix[H.BOUNDARY][H.EXTERIOR]===Lt.FALSE}},{key:\"set\",value:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this._matrix[n][i]=Lt.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2];this._matrix[r][s]=a}}},{key:\"isContains\",value:function(){return t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&this._matrix[H.EXTERIOR][H.INTERIOR]===Lt.FALSE&&this._matrix[H.EXTERIOR][H.BOUNDARY]===Lt.FALSE}},{key:\"setAtLeast\",value:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.setAtLeast(n,i,Lt.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2];this._matrix[r][s]<a&&(this._matrix[r][s]=a)}}},{key:\"setAtLeastIfValid\",value:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)}},{key:\"isWithin\",value:function(){return t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&this._matrix[H.INTERIOR][H.EXTERIOR]===Lt.FALSE&&this._matrix[H.BOUNDARY][H.EXTERIOR]===Lt.FALSE}},{key:\"isTouches\",value:function(e,n){return e>n?this.isTouches(n,e):(e===Lt.A&&n===Lt.A||e===Lt.L&&n===Lt.L||e===Lt.L&&n===Lt.A||e===Lt.P&&n===Lt.A||e===Lt.P&&n===Lt.L)&&(this._matrix[H.INTERIOR][H.INTERIOR]===Lt.FALSE&&(t.isTrue(this._matrix[H.INTERIOR][H.BOUNDARY])||t.isTrue(this._matrix[H.BOUNDARY][H.INTERIOR])||t.isTrue(this._matrix[H.BOUNDARY][H.BOUNDARY])))}},{key:\"isOverlaps\",value:function(e,n){return e===Lt.P&&n===Lt.P||e===Lt.A&&n===Lt.A?t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&t.isTrue(this._matrix[H.INTERIOR][H.EXTERIOR])&&t.isTrue(this._matrix[H.EXTERIOR][H.INTERIOR]):e===Lt.L&&n===Lt.L&&(1===this._matrix[H.INTERIOR][H.INTERIOR]&&t.isTrue(this._matrix[H.INTERIOR][H.EXTERIOR])&&t.isTrue(this._matrix[H.EXTERIOR][H.INTERIOR]))}},{key:\"isEquals\",value:function(e,n){return e===n&&(t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&this._matrix[H.INTERIOR][H.EXTERIOR]===Lt.FALSE&&this._matrix[H.BOUNDARY][H.EXTERIOR]===Lt.FALSE&&this._matrix[H.EXTERIOR][H.INTERIOR]===Lt.FALSE&&this._matrix[H.EXTERIOR][H.BOUNDARY]===Lt.FALSE)}},{key:\"toString\",value:function(){for(var t=new Jt(\"123456789\"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,Lt.toDimensionSymbol(this._matrix[e][n]));return t.toString()}},{key:\"setAll\",value:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this._matrix[e][n]=t}},{key:\"get\",value:function(t,e){return this._matrix[t][e]}},{key:\"transpose\",value:function(){var t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this}},{key:\"matches\",value:function(e){if(9!==e.length)throw new m(\"Should be length 9: \"+e);for(var n=0;n<3;n++)for(var i=0;i<3;i++)if(!t.matches(this._matrix[n][i],e.charAt(3*n+i)))return!1;return!0}},{key:\"add\",value:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))}},{key:\"isDisjoint\",value:function(){return this._matrix[H.INTERIOR][H.INTERIOR]===Lt.FALSE&&this._matrix[H.INTERIOR][H.BOUNDARY]===Lt.FALSE&&this._matrix[H.BOUNDARY][H.INTERIOR]===Lt.FALSE&&this._matrix[H.BOUNDARY][H.BOUNDARY]===Lt.FALSE}},{key:\"isCrosses\",value:function(e,n){return e===Lt.P&&n===Lt.L||e===Lt.P&&n===Lt.A||e===Lt.L&&n===Lt.A?t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&t.isTrue(this._matrix[H.INTERIOR][H.EXTERIOR]):e===Lt.L&&n===Lt.P||e===Lt.A&&n===Lt.P||e===Lt.A&&n===Lt.L?t.isTrue(this._matrix[H.INTERIOR][H.INTERIOR])&&t.isTrue(this._matrix[H.EXTERIOR][H.INTERIOR]):e===Lt.L&&n===Lt.L&&0===this._matrix[H.INTERIOR][H.INTERIOR]}},{key:\"interfaces_\",get:function(){return[I]}}],[{key:\"constructor_\",value:function(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Lt.FALSE);else if(1===arguments.length)if(\"string\"==typeof arguments[0]){var e=arguments[0];t.constructor_.call(this),this.set(e)}else if(arguments[0]instanceof t){var n=arguments[0];t.constructor_.call(this),this._matrix[H.INTERIOR][H.INTERIOR]=n._matrix[H.INTERIOR][H.INTERIOR],this._matrix[H.INTERIOR][H.BOUNDARY]=n._matrix[H.INTERIOR][H.BOUNDARY],this._matrix[H.INTERIOR][H.EXTERIOR]=n._matrix[H.INTERIOR][H.EXTERIOR],this._matrix[H.BOUNDARY][H.INTERIOR]=n._matrix[H.BOUNDARY][H.INTERIOR],this._matrix[H.BOUNDARY][H.BOUNDARY]=n._matrix[H.BOUNDARY][H.BOUNDARY],this._matrix[H.BOUNDARY][H.EXTERIOR]=n._matrix[H.BOUNDARY][H.EXTERIOR],this._matrix[H.EXTERIOR][H.INTERIOR]=n._matrix[H.EXTERIOR][H.INTERIOR],this._matrix[H.EXTERIOR][H.BOUNDARY]=n._matrix[H.EXTERIOR][H.BOUNDARY],this._matrix[H.EXTERIOR][H.EXTERIOR]=n._matrix[H.EXTERIOR][H.EXTERIOR]}}},{key:\"matches\",value:function(){if(Number.isInteger(arguments[0])&&\"string\"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return n===Lt.SYM_DONTCARE||(n===Lt.SYM_TRUE&&(e>=0||e===Lt.TRUE)||(n===Lt.SYM_FALSE&&e===Lt.FALSE||(n===Lt.SYM_P&&e===Lt.P||(n===Lt.SYM_L&&e===Lt.L||n===Lt.SYM_A&&e===Lt.A))))}if(\"string\"==typeof arguments[0]&&\"string\"==typeof arguments[1]){var i=arguments[1];return new t(arguments[0]).matches(i)}}},{key:\"isTrue\",value:function(t){return t>=0||t===Lt.TRUE}}])}(),ti=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"size\",value:function(){return this._size}},{key:\"addAll\",value:function(t){return null===t||0===t.length?null:(this.ensureCapacity(this._size+t.length),mt.arraycopy(t,0,this._data,this._size,t.length),void(this._size+=t.length))}},{key:\"ensureCapacity\",value:function(t){if(t<=this._data.length)return null;var e=Math.max(t,2*this._data.length);this._data=At.copyOf(this._data,e)}},{key:\"toArray\",value:function(){var t=new Array(this._size).fill(null);return mt.arraycopy(this._data,0,t,0,this._size),t}},{key:\"add\",value:function(t){this.ensureCapacity(this._size+1),this._data[this._size]=t,++this._size}}],[{key:\"constructor_\",value:function(){if(this._data=null,this._size=0,0===arguments.length)t.constructor_.call(this,10);else if(1===arguments.length){var e=arguments[0];this._data=new Array(e).fill(null)}}}])}(),ei=function(){function t(){n(this,t)}return s(t,[{key:\"getChainStartIndices\",value:function(t){var e=0,n=new ti(Math.trunc(t.length/2));n.add(e);do{var i=this.findChainEnd(t,e);n.add(i),e=i}while(e<t.length-1);return n.toArray()}},{key:\"findChainEnd\",value:function(t,e){for(var n=je.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){if(je.quadrant(t[i-1],t[i])!==n)break;i++}return i-1}},{key:\"OLDgetChainStartIndices\",value:function(e){var n=0,i=new yt;i.add(n);do{var r=this.findChainEnd(e,n);i.add(r),n=r}while(n<e.length-1);return t.toIntArray(i)}}],[{key:\"toIntArray\",value:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e}}])}(),ni=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"getCoordinates\",value:function(){return this.pts}},{key:\"getMaxX\",value:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n}},{key:\"getMinX\",value:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n}},{key:\"computeIntersectsForChain\",value:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2],o=arguments[3],u=arguments[4],l=arguments[5];if(s-r==1&&u-o==1)return l.addIntersections(this.e,r,a.e,o),null;if(!this.overlaps(r,s,a,o,u))return null;var h=Math.trunc((r+s)/2),c=Math.trunc((o+u)/2);r<h&&(o<c&&this.computeIntersectsForChain(r,h,a,o,c,l),c<u&&this.computeIntersectsForChain(r,h,a,c,u,l)),h<s&&(o<c&&this.computeIntersectsForChain(h,s,a,o,c,l),c<u&&this.computeIntersectsForChain(h,s,a,c,u,l))}}},{key:\"overlaps\",value:function(t,e,n,i,r){return U.intersects(this.pts[t],this.pts[e],n.pts[i],n.pts[r])}},{key:\"getStartIndexes\",value:function(){return this.startIndex}},{key:\"computeIntersects\",value:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)}}],[{key:\"constructor_\",value:function(){this.e=null,this.pts=null,this.startIndex=null;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new ei;this.startIndex=e.getChainStartIndices(this.pts)}}])}(),ii=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"getDepth\",value:function(t,e){return this._depth[t][e]}},{key:\"setDepth\",value:function(t,e,n){this._depth[t][e]=n}},{key:\"isNull\",value:function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(this._depth[e][n]!==t.NULL_VALUE)return!1;return!0}if(1===arguments.length){var i=arguments[0];return this._depth[i][1]===t.NULL_VALUE}if(2===arguments.length){var r=arguments[0],s=arguments[1];return this._depth[r][s]===t.NULL_VALUE}}},{key:\"normalize\",value:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}}},{key:\"getDelta\",value:function(t){return this._depth[t][$.RIGHT]-this._depth[t][$.LEFT]}},{key:\"getLocation\",value:function(t,e){return this._depth[t][e]<=0?H.EXTERIOR:H.INTERIOR}},{key:\"toString\",value:function(){return\"A: \"+this._depth[0][1]+\",\"+this._depth[0][2]+\" B: \"+this._depth[1][1]+\",\"+this._depth[1][2]}},{key:\"add\",value:function(){if(1===arguments.length)for(var e=arguments[0],n=0;n<2;n++)for(var i=1;i<3;i++){var r=e.getLocation(n,i);r!==H.EXTERIOR&&r!==H.INTERIOR||(this.isNull(n,i)?this._depth[n][i]=t.depthAtLocation(r):this._depth[n][i]+=t.depthAtLocation(r))}else if(3===arguments.length){var s=arguments[0],a=arguments[1];arguments[2]===H.INTERIOR&&this._depth[s][a]++}}}],[{key:\"constructor_\",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE}},{key:\"depthAtLocation\",value:function(e){return e===H.EXTERIOR?0:e===H.INTERIOR?1:t.NULL_VALUE}}])}();ii.NULL_VALUE=-1;var ri=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"getDepth\",value:function(){return this._depth}},{key:\"getCollapsedEdge\",value:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new i(t,Ae.toLineLabel(this._label))}},{key:\"isIsolated\",value:function(){return this._isIsolated}},{key:\"getCoordinates\",value:function(){return this.pts}},{key:\"setIsolated\",value:function(t){this._isIsolated=t}},{key:\"setName\",value:function(t){this._name=t}},{key:\"equals\",value:function(t){if(!(t instanceof i))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,r=!0,s=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(e.pts[a])||(n=!1),this.pts[a].equals2D(e.pts[--s])||(r=!1),!n&&!r)return!1;return!0}},{key:\"getCoordinate\",value:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}}},{key:\"print\",value:function(t){t.print(\"edge \"+this._name+\": \"),t.print(\"LINESTRING (\");for(var e=0;e<this.pts.length;e++)e>0&&t.print(\",\"),t.print(this.pts[e].x+\" \"+this.pts[e].y);t.print(\")  \"+this._label+\" \"+this._depthDelta)}},{key:\"computeIM\",value:function(t){i.updateIM(this._label,t)}},{key:\"isCollapsed\",value:function(){return!!this._label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))}},{key:\"isClosed\",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:\"getMaximumSegmentIndex\",value:function(){return this.pts.length-1}},{key:\"getDepthDelta\",value:function(){return this._depthDelta}},{key:\"getNumPoints\",value:function(){return this.pts.length}},{key:\"printReverse\",value:function(t){t.print(\"edge \"+this._name+\": \");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+\" \");t.println(\"\")}},{key:\"getMonotoneChainEdge\",value:function(){return null===this._mce&&(this._mce=new ni(this)),this._mce}},{key:\"getEnvelope\",value:function(){if(null===this._env){this._env=new U;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env}},{key:\"addIntersection\",value:function(t,e,n,i){var r=new X(t.getIntersection(i)),s=e,a=t.getEdgeDistance(n,i),o=s+1;if(o<this.pts.length){var u=this.pts[o];r.equals2D(u)&&(s=o,a=0)}this.eiList.add(r,s,a)}},{key:\"toString\",value:function(){var t=new Jt;t.append(\"edge \"+this._name+\": \"),t.append(\"LINESTRING (\");for(var e=0;e<this.pts.length;e++)e>0&&t.append(\",\"),t.append(this.pts[e].x+\" \"+this.pts[e].y);return t.append(\")  \"+this._label+\" \"+this._depthDelta),t.toString()}},{key:\"isPointwiseEqual\",value:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0}},{key:\"setDepthDelta\",value:function(t){this._depthDelta=t}},{key:\"getEdgeIntersectionList\",value:function(){return this.eiList}},{key:\"addIntersections\",value:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)}}],[{key:\"constructor_\",value:function(){if(this.pts=null,this._env=null,this.eiList=new Qn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ii,this._depthDelta=0,1===arguments.length){var t=arguments[0];i.constructor_.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this._label=n}}},{key:\"updateIM\",value:function(){if(!(2===arguments.length&&arguments[1]instanceof $n&&arguments[0]instanceof Ae))return f(i,\"updateIM\",this).apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,$.ON),t.getLocation(1,$.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,$.LEFT),t.getLocation(1,$.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,$.RIGHT),t.getLocation(1,$.RIGHT),2))}}])}(Ge),si=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"setWorkingPrecisionModel\",value:function(t){this._workingPrecisionModel=t}},{key:\"insertUniqueEdge\",value:function(e){var n=this._edgeList.findEqualEdge(e);if(null!==n){var i=n.getLabel(),r=e.getLabel();n.isPointwiseEqual(e)||(r=new Ae(e.getLabel())).flip(),i.merge(r);var s=t.depthDelta(r),a=n.getDepthDelta()+s;n.setDepthDelta(a)}else this._edgeList.add(e),e.setDepthDelta(t.depthDelta(e.getLabel()))}},{key:\"buildSubgraphs\",value:function(t,e){for(var n=new yt,i=t.iterator();i.hasNext();){var r=i.next(),s=r.getRightmostCoordinate(),a=new Pn(n).getDepth(s);r.computeDepth(a),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}}},{key:\"createSubgraphs\",value:function(t){for(var e=new yt,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new _t;r.create(i),e.add(r)}}return an.sort(e,an.reverseOrder()),e}},{key:\"createEmptyResultGeometry\",value:function(){return this._geomFact.createPolygon()}},{key:\"getNoder\",value:function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new Cn,n=new we;return n.setPrecisionModel(t),e.setSegmentIntersector(new Kn(n)),e}},{key:\"buffer\",value:function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new An(n,this._bufParams),r=new Yn(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new Qe(new Hn),this._graph.addEdges(this._edgeList.getEdges());var s=this.createSubgraphs(this._graph),a=new $e(this._geomFact);this.buildSubgraphs(s,a);var o=a.getPolygons();return o.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(o)}},{key:\"computeNodedEdges\",value:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),s=r.getCoordinates();if(2!==s.length||!s[0].equals2D(s[1])){var a=r.getData(),o=new ri(r.getCoordinates(),new Ae(a));this.insertUniqueEdge(o)}}}},{key:\"setNoder\",value:function(t){this._workingNoder=t}}],[{key:\"constructor_\",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new jn;var t=arguments[0];this._bufParams=t}},{key:\"depthDelta\",value:function(t){var e=t.getLocation(0,$.LEFT),n=t.getLocation(0,$.RIGHT);return e===H.INTERIOR&&n===H.EXTERIOR?1:e===H.EXTERIOR&&n===H.INTERIOR?-1:0}},{key:\"convertSegStrings\",value:function(t){for(var e=new ae,n=new yt;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)}}])}(),ai=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"rescale\",value:function(){if(rt(arguments[0],Z))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&mt.out.println(n)}}},{key:\"scale\",value:function(){if(rt(arguments[0],Z)){for(var t=arguments[0],e=new yt(t.size()),n=t.iterator();n.hasNext();){var i=n.next();e.add(new xn(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],s=new Array(r.length).fill(null),a=0;a<r.length;a++)s[a]=new X(Math.round((r[a].x-this._offsetX)*this._scaleFactor),Math.round((r[a].y-this._offsetY)*this._scaleFactor),r[a].getZ());return jt.removeRepeatedPoints(s)}}},{key:\"isIntegerPrecision\",value:function(){return 1===this._scaleFactor}},{key:\"getNodedSubstrings\",value:function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t}},{key:\"computeNodes\",value:function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)}},{key:\"interfaces_\",get:function(){return[Sn]}}],[{key:\"constructor_\",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],n=arguments[1];t.constructor_.call(this,e,n,0,0)}else if(4===arguments.length){var i=arguments[0],r=arguments[1];this._noder=i,this._scaleFactor=r,this._isScaled=!this.isIntegerPrecision()}}}])}(),oi=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"checkEndPtVertexIntersections\",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),s=1;s<r.length-1;s++)if(r[s].equals(n))throw new D(\"found endpt/interior pt intersection at index \"+s+\" :pt \"+n)}},{key:\"checkInteriorIntersections\",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],s=arguments[1],a=r.getCoordinates(),o=s.getCoordinates(),u=0;u<a.length-1;u++)for(var l=0;l<o.length-1;l++)this.checkInteriorIntersections(r,u,s,l);else if(4===arguments.length){var h=arguments[0],c=arguments[1],f=arguments[2],g=arguments[3];if(h===f&&c===g)return null;var v=h.getCoordinates()[c],y=h.getCoordinates()[c+1],d=f.getCoordinates()[g],_=f.getCoordinates()[g+1];if(this._li.computeIntersection(v,y,d,_),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,v,y)||this.hasInteriorIntersection(this._li,d,_)))throw new D(\"found non-noded intersection at \"+v+\"-\"+y+\" and \"+d+\"-\"+_)}}},{key:\"checkValid\",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:\"checkCollapses\",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])}},{key:\"hasInteriorIntersection\",value:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1}},{key:\"checkCollapse\",value:function(e,n,i){if(e.equals(i))throw new D(\"found non-noded collapse at \"+t.fact.createLineString([e,n,i]))}}],[{key:\"constructor_\",value:function(){this._li=new we,this._segStrings=null;var t=arguments[0];this._segStrings=t}}])}();oi.fact=new ae;var ui=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"intersectsScaled\",value:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),s=Math.max(t.y,e.y),a=this._maxx<n||this._minx>i||this._maxy<r||this._miny>s;if(a)return!1;var o=this.intersectsToleranceSquare(t,e);return G.isTrue(!(a&&o),\"Found bad envelope test\"),o}},{key:\"initCorners\",value:function(t){var e=.5;this._minx=t.x-e,this._maxx=t.x+e,this._miny=t.y-e,this._maxy=t.y+e,this._corner[0]=new X(this._maxx,this._maxy),this._corner[1]=new X(this._minx,this._maxy),this._corner[2]=new X(this._minx,this._miny),this._corner[3]=new X(this._maxx,this._miny)}},{key:\"intersects\",value:function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:\"scale\",value:function(t){return Math.round(t*this._scaleFactor)}},{key:\"getCoordinate\",value:function(){return this._originalPt}},{key:\"copyScaled\",value:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)}},{key:\"getSafeEnvelope\",value:function(){if(null===this._safeEnv){var e=t.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new U(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv}},{key:\"intersectsPixelClosure\",value:function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:\"intersectsToleranceSquare\",value:function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||(!(!n||!i)||(!!t.equals(this._pt)||!!e.equals(this._pt))))))}},{key:\"addSnappedNode\",value:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)}}],[{key:\"constructor_\",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new m(\"Scale factor must be non-zero\");1!==e&&(this._pt=new X(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new X,this._p1Scaled=new X),this.initCorners(this._pt)}}])}();ui.SAFE_ENV_EXPANSION_FACTOR=.75;var li=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"select\",value:function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:\"constructor_\",value:function(){this.selectedSegment=new In}}])}(),hi=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"snap\",value:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],i=arguments[1],r=arguments[2],a=e.getSafeEnvelope(),o=new ci(e,i,r);return this._index.query(a,new(function(){return s((function t(){n(this,t)}),[{key:\"interfaces_\",get:function(){return[ln]}},{key:\"visitItem\",value:function(t){t.select(a,o)}}])}())),o.isNodeAdded()}}}],[{key:\"constructor_\",value:function(){this._index=null;var t=arguments[0];this._index=t}}])}(),ci=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return l(i,t),s(i,[{key:\"isNodeAdded\",value:function(){return this._isNodeAdded}},{key:\"select\",value:function(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof Nn))return f(i,\"select\",this,1).apply(this,arguments);var t=arguments[1],e=arguments[0].getContext();if(this._parentEdge===e&&(t===this._hotPixelVertexIndex||t+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(e,t)}}],[{key:\"constructor_\",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=n}}])}(li);hi.HotPixelSnapAction=ci;var fi=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"processIntersections\",value:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],s=t.getCoordinates()[e+1],a=n.getCoordinates()[i],o=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,s,a,o),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}}},{key:\"isDone\",value:function(){return!1}},{key:\"getInteriorIntersections\",value:function(){return this._interiorIntersections}},{key:\"interfaces_\",get:function(){return[Wn]}}],[{key:\"constructor_\",value:function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new yt}}])}(),gi=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:\"checkCorrectness\",value:function(t){var e=xn.getNodedSubstrings(t),n=new oi(e);try{n.checkValid()}catch(t){if(!(t instanceof p))throw t;t.printStackTrace()}}},{key:\"getNodedSubstrings\",value:function(){return xn.getNodedSubstrings(this._nodedSegStrings)}},{key:\"snapRound\",value:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)}},{key:\"findInteriorIntersections\",value:function(t,e){var n=new fi(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()}},{key:\"computeVertexSnaps\",value:function(){if(rt(arguments[0],Z))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof xn)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var s=new ui(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(s,n,r)&&n.addIntersection(i[r],r)}}},{key:\"computeNodes\",value:function(t){this._nodedSegStrings=t,this._noder=new Cn,this._pointSnapper=new hi(this._noder.getIndex()),this.snapRound(t,this._li)}},{key:\"computeIntersectionSnaps\",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new ui(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}}},{key:\"interfaces_\",get:function(){return[Sn]}}],[{key:\"constructor_\",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new we,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()}}])}(),vi=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:\"bufferFixedPrecision\",value:function(t){var e=new ai(new gi(new ie(1)),t.getScale()),n=new si(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)}},{key:\"bufferReducedPrecision\",value:function(){if(0===arguments.length){for(var e=t.MAX_PRECISION_DIGITS;e>=0;e--){try{this.bufferReducedPrecision(e)}catch(t){if(!(t instanceof gt))throw t;this._saveException=t}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=t.precisionScaleFactor(this._argGeom,this._distance,n),r=new ie(i);this.bufferFixedPrecision(r)}}},{key:\"computeGeometry\",value:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===ie.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()}},{key:\"setQuadrantSegments\",value:function(t){this._bufParams.setQuadrantSegments(t)}},{key:\"bufferOriginalPrecision\",value:function(){try{var t=new si(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof D))throw t;this._saveException=t}}},{key:\"getResultGeometry\",value:function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry}},{key:\"setEndCapStyle\",value:function(t){this._bufParams.setEndCapStyle(t)}}],[{key:\"constructor_\",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new _,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}}},{key:\"bufferOp\",value:function(){if(2===arguments.length){var e=arguments[1];return new t(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof V&&\"number\"==typeof arguments[1]){var n=arguments[1],i=arguments[2],r=new t(arguments[0]);return r.setQuadrantSegments(i),r.getResultGeometry(n)}if(arguments[2]instanceof _&&arguments[0]instanceof V&&\"number\"==typeof arguments[1]){var s=arguments[1];return new t(arguments[0],arguments[2]).getResultGeometry(s)}}else if(4===arguments.length){var a=arguments[1],o=arguments[2],u=arguments[3],l=new t(arguments[0]);return l.setQuadrantSegments(o),l.setEndCapStyle(u),l.getResultGeometry(a)}}},{key:\"precisionScaleFactor\",value:function(t,e,n){var i=t.getEnvelopeInternal(),r=kt.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),s=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,s)}}])}();vi.CAP_ROUND=_.CAP_ROUND,vi.CAP_BUTT=_.CAP_FLAT,vi.CAP_FLAT=_.CAP_FLAT,vi.CAP_SQUARE=_.CAP_SQUARE,vi.MAX_PRECISION_DIGITS=12;var yi=[\"Point\",\"MultiPoint\",\"LineString\",\"MultiLineString\",\"Polygon\",\"MultiPolygon\"],di=function(){return s((function t(e){n(this,t),this.geometryFactory=e||new ae}),[{key:\"read\",value:function(t){var e,n=(e=\"string\"==typeof t?JSON.parse(t):t).type;if(!_i[n])throw new Error(\"Unknown GeoJSON type: \"+e.type);return-1!==yi.indexOf(n)?_i[n].call(this,e.coordinates):\"GeometryCollection\"===n?_i[n].call(this,e.geometries):_i[n].call(this,e)}},{key:\"write\",value:function(t){var e=t.getGeometryType();if(!pi[e])throw new Error(\"Geometry is not supported\");return pi[e].call(this,t)}}])}(),_i={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!_i[i])throw new Error(\"Unknown GeoJSON type: \"+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=_i.bbox.call(this,t.bbox)),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.call(this,t.bbox)),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(i(X,g(r)))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new X(t[0],t[1]),new X(t[2],t[1]),new X(t[2],t[3]),new X(t[0],t[3]),new X(t[0],t[1])])},Point:function(t){var e=i(X,g(t));return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(_i.Point.call(this,t[n]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=_i.coordinates.call(this,t);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(_i.LineString.call(this,t[n]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=_i.coordinates.call(this,t[0]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var s=t[r],a=_i.coordinates.call(this,s),o=this.geometryFactory.createLinearRing(a);i.push(o)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(_i.Polygon.call(this,i))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},pi={coordinate:function(t){var e=[t.x,t.y];return t.z&&e.push(t.z),t.m&&e.push(t.m),e},Point:function(t){return{type:\"Point\",coordinates:pi.coordinate.call(this,t.getCoordinate())}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=pi.Point.call(this,i);e.push(r.coordinates)}return{type:\"MultiPoint\",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(pi.coordinate.call(this,r))}return{type:\"LineString\",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=pi.LineString.call(this,i);e.push(r.coordinates)}return{type:\"MultiLineString\",coordinates:e}},Polygon:function(t){var e=[],n=pi.LineString.call(this,t._shell);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],s=pi.LineString.call(this,r);e.push(s.coordinates)}return{type:\"Polygon\",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=pi.Polygon.call(this,i);e.push(r.coordinates)}return{type:\"MultiPolygon\",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(pi[r].call(this,i))}return{type:\"GeometryCollection\",geometries:e}}};return{BufferOp:vi,GeoJSONReader:function(){return s((function t(e){n(this,t),this.parser=new di(e||new ae)}),[{key:\"read\",value:function(t){return this.parser.read(t)}}])}(),GeoJSONWriter:function(){return s((function t(){n(this,t),this.parser=new di(this.geometryFactory)}),[{key:\"write\",value:function(t){return this.parser.write(t)}}])}()}}));\n//# sourceMappingURL=jsts.min.js.map\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder\";\nimport {areaStream, areaRingSum} from \"./area\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport {abs, degrees, epsilon, radians} from \"./math\";\nimport stream from \"./stream\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose\";\nimport {asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport constant from \"./constant\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math\";\nimport {rotateRadians} from \"./rotation\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"./math\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","import {abs, epsilon} from \"../math\";\nimport clipBuffer from \"./buffer\";\nimport clipLine from \"./line\";\nimport clipPolygon from \"./polygon\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport function clipExtent(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipPolygon(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipExtent(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import adder from \"./adder\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian\";\nimport {asin, atan2, cos, epsilon, pi, quarterPi, sin, tau} from \"./math\";\n\nvar sum = adder();\n\nexport default function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import adder from \"./adder\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","export default function(x) {\n  return x;\n}\n","import adder from \"../adder\";\nimport {abs} from \"../math\";\nimport noop from \"../noop\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import adder from \"../adder\";\nimport {sqrt} from \"../math\";\nimport noop from \"../noop\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","import clipBuffer from \"./buffer\";\nimport clipPolygon from \"./polygon\";\nimport {epsilon, halfPi} from \"../math\";\nimport polygonContains from \"../polygonContains\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(rotate, sink) {\n    var line = clipLine(sink),\n        rotatedStart = rotate.invert(start[0], start[1]),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, rotatedStart);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipPolygon(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      var point = rotate(lambda, phi);\n      if (pointVisible(lambda = point[0], phi = point[1])) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      var point = rotate(lambda, phi);\n      line.point(point[0], point[1]);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      var point = rotate(lambda, phi);\n      ringSink.point(point[0], point[1]);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian\";\nimport {circleStream} from \"../circle\";\nimport {abs, cos, epsilon, pi, sqrt} from \"../math\";\nimport pointEqual from \"../pointEqual\";\nimport clip from \"./index\";\n\nexport default function(radius, delta) {\n  var cr = cos(radius),\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream\";\nimport boundsStream from \"../path/bounds\";\n\nexport function fitExtent(projection, extent, object) {\n  var w = extent[1][0] - extent[0][0],\n      h = extent[1][1] - extent[0][1],\n      clip = projection.clipExtent && projection.clipExtent();\n\n  projection\n      .scale(150)\n      .translate([0, 0]);\n\n  if (clip != null) projection.clipExtent(null);\n\n  geoStream(object, projection.stream(boundsStream));\n\n  var b = boundsStream.result(),\n      k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n      x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n      y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n\n  if (clip != null) projection.clipExtent(clip);\n\n  return projection\n      .scale(k * 150)\n      .translate([x, y]);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n","import {cartesian} from \"../cartesian\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math\";\nimport {transformer} from \"../transform\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian\";\nimport clipCircle from \"../clip/circle\";\nimport {clipExtent} from \"../clip/extent\";\nimport compose from \"../compose\";\nimport identity from \"../identity\";\nimport {degrees, radians, sqrt} from \"../math\";\nimport {rotateRadians} from \"../rotation\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize} from \"./fit\";\nimport resample from \"./resample\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      dx, dy, lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, projectRotate, // rotate\n      theta = null, preclip = clipAntimeridian, // clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // clip extent\n      delta2 = 0.5, projectResample = resample(projectTransform, delta2), // precision\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    point = projectRotate(point[0] * radians, point[1] * radians);\n    return [point[0] * k + dx, dy - point[1] * k];\n  }\n\n  function invert(point) {\n    point = projectRotate.invert((point[0] - dx) / k, (dy - point[1]) / k);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  function projectTransform(x, y) {\n    return x = project(x, y), [x[0] * k + dx, dy - x[1] * k];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(preclip(rotate, projectResample(postclip(cacheStream = stream))));\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians, 6 * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  function recenter() {\n    projectRotate = compose(rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma), project);\n    var center = project(lambda, phi);\n    dx = x - center[0] * k;\n    dy = y + center[1] * k;\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import projection from \"./index\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","// index.js\nimport { center } from \"@turf/center\";\nimport jsts from \"@turf/jsts\";\nimport { geomEach, featureEach } from \"@turf/meta\";\nimport { geoAzimuthalEquidistant } from \"d3-geo\";\nimport {\n  feature,\n  featureCollection,\n  radiansToLength,\n  lengthToRadians,\n  earthRadius\n} from \"@turf/helpers\";\nvar { BufferOp, GeoJSONReader, GeoJSONWriter } = jsts;\nfunction buffer(geojson, radius, options) {\n  options = options || {};\n  var units = options.units || \"kilometers\";\n  var steps = options.steps || 8;\n  if (!geojson) throw new Error(\"geojson is required\");\n  if (typeof options !== \"object\") throw new Error(\"options must be an object\");\n  if (typeof steps !== \"number\") throw new Error(\"steps must be an number\");\n  if (radius === void 0) throw new Error(\"radius is required\");\n  if (steps <= 0) throw new Error(\"steps must be greater than 0\");\n  var results = [];\n  switch (geojson.type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function(geometry) {\n        var buffered = bufferFeature(geometry, radius, units, steps);\n        if (buffered) results.push(buffered);\n      });\n      return featureCollection(results);\n    case \"FeatureCollection\":\n      featureEach(geojson, function(feature2) {\n        var multiBuffered = bufferFeature(feature2, radius, units, steps);\n        if (multiBuffered) {\n          featureEach(multiBuffered, function(buffered) {\n            if (buffered) results.push(buffered);\n          });\n        }\n      });\n      return featureCollection(results);\n  }\n  return bufferFeature(geojson, radius, units, steps);\n}\nfunction bufferFeature(geojson, radius, units, steps) {\n  var properties = geojson.properties || {};\n  var geometry = geojson.type === \"Feature\" ? geojson.geometry : geojson;\n  if (geometry.type === \"GeometryCollection\") {\n    var results = [];\n    geomEach(geojson, function(geometry2) {\n      var buffered2 = bufferFeature(geometry2, radius, units, steps);\n      if (buffered2) results.push(buffered2);\n    });\n    return featureCollection(results);\n  }\n  var projection = defineProjection(geometry);\n  var projected = {\n    type: geometry.type,\n    coordinates: projectCoords(geometry.coordinates, projection)\n  };\n  var reader = new GeoJSONReader();\n  var geom = reader.read(projected);\n  var distance = radiansToLength(lengthToRadians(radius, units), \"meters\");\n  var buffered = BufferOp.bufferOp(geom, distance, steps);\n  var writer = new GeoJSONWriter();\n  buffered = writer.write(buffered);\n  if (coordsIsNaN(buffered.coordinates)) return void 0;\n  var result = {\n    type: buffered.type,\n    coordinates: unprojectCoords(buffered.coordinates, projection)\n  };\n  return feature(result, properties);\n}\nfunction coordsIsNaN(coords) {\n  if (Array.isArray(coords[0])) return coordsIsNaN(coords[0]);\n  return isNaN(coords[0]);\n}\nfunction projectCoords(coords, proj) {\n  if (typeof coords[0] !== \"object\") return proj(coords);\n  return coords.map(function(coord) {\n    return projectCoords(coord, proj);\n  });\n}\nfunction unprojectCoords(coords, proj) {\n  if (typeof coords[0] !== \"object\") return proj.invert(coords);\n  return coords.map(function(coord) {\n    return unprojectCoords(coord, proj);\n  });\n}\nfunction defineProjection(geojson) {\n  var coords = center(geojson).geometry.coordinates;\n  var rotation = [-coords[0], -coords[1]];\n  return geoAzimuthalEquidistant().rotate(rotation).scale(earthRadius);\n}\nvar turf_buffer_default = buffer;\nexport {\n  buffer,\n  turf_buffer_default as default\n};\n//# sourceMappingURL=index.js.map","import { FeatureData } from '@/core/features/feature-data.ts';\nimport {\n  type AnyMapInstance,\n  BaseMapAdapter,\n  type GeoJsonImportFeature,\n  type GeoJsonShapeFeature,\n  type LngLat,\n  type LngLatDiff,\n} from '@/main.ts';\nimport { eachCoordinateWithPath, getAllGeoJsonCoordinates, getGeoJsonFirstPoint } from '@/utils/geojson.ts';\nimport { booleanPointInPolygon } from '@turf/boolean-point-in-polygon';\nimport lineIntersect from '@turf/line-intersect';\nimport rewind from '@turf/rewind';\nimport type { Feature, GeoJSON, MultiPolygon, Polygon, Position } from 'geojson';\nimport { cloneDeep } from 'lodash-es';\nimport { isLineBasedGeoJsonFeature, isPointBasedGeoJsonFeature } from '../../tests/types.ts';\nimport buffer from '@turf/buffer';\nimport distance from '@turf/distance';\n\n\nexport const moveGeoJson = (\n  geoJson: GeoJsonShapeFeature,\n  lngLatDiff: LngLatDiff,\n) => {\n  eachCoordinateWithPath(geoJson, (position) => {\n    const lngLat = position.coordinate;\n    lngLat[0] += lngLatDiff.lng;\n    lngLat[1] += lngLatDiff.lat;\n  });\n\n  return geoJson;\n};\n\nexport const getBufferedOuterPolygon = (\n  mapAdapter: BaseMapAdapter<AnyMapInstance>,\n  polygonGeoJson: Feature<Polygon | MultiPolygon>,\n): Feature<Polygon | MultiPolygon> | null => {\n  const FRACTION = 10e-5;\n  const bounds = mapAdapter.getBounds();\n  const widthMeters = distance(bounds[0], bounds[1], { units: 'meters' });\n\n  return buffer(polygonGeoJson, widthMeters * FRACTION, { units: 'meters' }) || null;\n};\n\nexport const getMovedGeoJson = (featureData: FeatureData, lngLatDiff: LngLatDiff) => {\n  const featureGeoJson = cloneDeep(featureData.getGeoJson() as GeoJsonShapeFeature);\n  moveGeoJson(featureGeoJson, lngLatDiff);\n  return featureGeoJson;\n};\n\nexport const moveFeatureData = (featureData: FeatureData, lngLatDiff: LngLatDiff): void => {\n  const featureGeoJson = getMovedGeoJson(featureData, lngLatDiff);\n  if (featureData.shapeProperties.center) {\n    featureData.shapeProperties.center[0] += lngLatDiff.lng;\n    featureData.shapeProperties.center[1] += lngLatDiff.lat;\n  }\n  // Set the updated data back to the source\n  featureData.updateGeoJsonGeometry(featureGeoJson.geometry);\n};\n\nexport const getAllFeatureCoordinates = (featureData: FeatureData): Array<Position> => {\n  const shapeGeoJson = featureData.getGeoJson() as GeoJSON;\n  return getAllGeoJsonCoordinates(shapeGeoJson);\n};\n\nexport const allFeaturePointsInPolygon = (\n  featureGeoJson: Feature,\n  containerGeoJson: Feature<Polygon | MultiPolygon>,\n): boolean => {\n  try {\n    eachCoordinateWithPath(featureGeoJson, (position) => {\n      if (!booleanPointInPolygon(position.coordinate, containerGeoJson)) {\n        throw new Error('stop');\n      }\n    });\n  } catch {\n    return false;\n  }\n\n  return true;\n};\n\nexport const isGeoJsonFeatureInPolygon = (\n  featureGeoJson: Feature,\n  containerGeoJson: Feature<Polygon | MultiPolygon>,\n): boolean => {\n  const allPointsInPolygon = allFeaturePointsInPolygon(featureGeoJson, containerGeoJson);\n  if (isPointBasedGeoJsonFeature(featureGeoJson)) {\n    return allPointsInPolygon;\n  }\n\n  if (allPointsInPolygon && isLineBasedGeoJsonFeature(featureGeoJson)) {\n    return !lineIntersect(\n      featureGeoJson,\n      containerGeoJson,\n      { ignoreSelfIntersections: true },\n    ).features.length;\n  }\n  return false;\n};\n\nexport const getFeatureFirstPoint = (featureData: FeatureData): LngLat | null => {\n  const shapeGeoJson = featureData.getGeoJson();\n  if (typeof shapeGeoJson !== 'object') {\n    return null;\n  }\n\n  return getGeoJsonFirstPoint(shapeGeoJson);\n};\n\nexport const fixGeoJsonFeature = (\n  feature: GeoJsonImportFeature,\n): GeoJsonImportFeature | null => {\n  if (isLineBasedGeoJsonFeature(feature)) {\n    const resultFeature = rewind(feature, { mutate: false });\n    if (resultFeature.type === 'Feature' && isLineBasedGeoJsonFeature(resultFeature)) {\n      return {\n        ...resultFeature,\n        properties: feature.properties || {},\n      };\n    }\n  }\n\n  if (isPointBasedGeoJsonFeature(feature)) {\n    return feature;\n  }\n\n  return null;\n};\n","import type { Geoman } from '@/main.ts';\nimport type { GmFwdEventNameWithPrefix, GmFwdSystemEventNameWithPrefix } from '@/types/events/forwarder/index.ts';\nimport type { GmEventName, GmPrefix } from '@/types/events/index.ts';\nimport type { FeatureId, FeatureSourceName } from '@/types/features.ts';\nimport type { GeoJsonImportFeature, GMEvent } from '@/types/index.ts';\nimport type { Feature } from 'geojson';\n\nexport type LngLat = [number, number];\nexport type ScreenPoint = [number, number];\n\nexport const pointerEvents = [\n  'click',\n  'dblclick',\n  'mousedown',\n  'mouseup',\n  'mousemove',\n  'mouseenter',\n  'mouseleave',\n  'mouseover',\n  'mouseout',\n  'contextmenu',\n  'touchstart',\n  'touchend',\n  'touchmove',\n  'touchcancel',\n] as const;\n\nexport type PointerEventName = typeof pointerEvents[number];\n\nexport const baseMapEventNames = [\n  'load',\n] as const;\n\nexport type BaseMapEventName = typeof baseMapEventNames[number];\n\nexport const gmServiceEventNames = [\n  'loaded',\n] as const;\nexport type GmServiceEventName = typeof gmServiceEventNames[number];\nexport type GmServiceEventNameWithPrefix = `${GmPrefix}:${GmServiceEventName}`;\n\n\nexport type MapEventName = PointerEventName | BaseMapEventName;\n\nexport type AnyEventName =\n  | GmEventName\n  | MapEventName\n  | GmFwdEventNameWithPrefix\n  | GmFwdSystemEventNameWithPrefix\n  | GmServiceEventNameWithPrefix;\n\nexport type AnyEvent = MapEvent | GMEvent;\n\nexport type BaseEventListener = (event: AnyEvent) => void;\n\nexport type MapEvent = unknown;\n\nexport type MapPointerEvent = {\n  type: PointerEventName;\n  originalEvent: MouseEvent;\n  point: {\n    x: number;\n    y: number;\n  };\n  lngLat: {\n    lng: number;\n    lat: number;\n    toArray(): LngLat;\n  };\n};\n\nexport type GeoJsonFeatureData = {\n  id: FeatureId | undefined,\n  sourceName: FeatureSourceName,\n  geoJson: GeoJsonImportFeature,\n};\n\nexport type MapTypes = {\n  maplibre: object;\n};\n\nexport type AnyMapInstance = MapTypes[keyof MapTypes];\n\nexport type BaseControlsPosition = 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\nexport type CursorType = 'move' | 'pointer' | 'grab' | 'crosshair' | '';\n\nexport type MapInstanceWithGeoman<T = AnyMapInstance> = {\n  gm: Geoman;\n} & T;\n\nexport type GeoJsonSourceDiff = {\n  remove?: Array<FeatureId>;\n  add?: Array<Feature>;\n  update?: Array<Feature>;\n};\n\nexport type GeoJsonDiffStorage = {\n  add: Array<Feature>;\n  update: Array<Feature>;\n  remove: Array<FeatureId>;\n};\n\nexport type BaseFitBoundsOptions = {\n  padding?: number;\n};\n\nexport type AnchorPosition =\n  | 'center'\n  | 'top'\n  | 'bottom'\n  | 'left'\n  | 'right'\n  | 'top-left'\n  | 'top-right'\n  | 'bottom-left'\n  | 'bottom-right';\n\nexport type BaseDomMarkerOptions = {\n  element: HTMLElement;\n  draggable?: boolean;\n  anchor?: AnchorPosition;\n};\n\nexport type BasePopupOptions = {\n  offset: number;\n  closeOnClick: boolean;\n  closeButton: boolean;\n  focusAfterOpen: boolean;\n  anchor: AnchorPosition;\n  className: string;\n};\n\nexport interface MapWithOnceMethod {\n  once(\n    type: string,\n    listener: (ev: unknown) => void,\n  ): this;\n}\n\nexport const mapInteractions = [\n  'scrollZoom',\n  'boxZoom',\n  'dragRotate',\n  'dragPan',\n  'keyboard',\n  'doubleClickZoom',\n  'touchZoomRotate',\n  'touchPitch',\n] as const;\n\nexport type MapInteraction = typeof mapInteractions[number];\n\nexport type * from '@/types/map/layers.ts';\n","import type { AnyEvent, BaseMapEventName, MapPointerEvent, MapWithOnceMethod, PointerEventName } from '@/main.ts';\nimport { baseMapEventNames, pointerEvents } from '@/types/map/index.ts';\nimport log from 'loglevel';\n\n\nexport function isPointerEventName(key: string): key is PointerEventName {\n  return pointerEvents.includes(key as PointerEventName);\n}\n\nexport function isBaseMapEventName(key: string): key is BaseMapEventName {\n  return baseMapEventNames.includes(key as BaseMapEventName);\n}\n\nexport const hasMapOnceMethod = (map: unknown): map is MapWithOnceMethod => {\n  return !!(\n    map\n    && typeof map === 'object'\n    && 'once' in map\n    && typeof (map as MapWithOnceMethod).once === 'function'\n  );\n};\n\nexport const isMapPointerEvent = (\n  event: AnyEvent,\n  options: { warning: boolean } = { warning: false },\n): event is MapPointerEvent => {\n  if (!event) {\n    if (options.warning) {\n      log.warn('Empty event', event);\n    }\n    return false;\n  }\n\n  const isCursorEvent = (\n    typeof event === 'object'\n    && 'lngLat' in event\n    && 'point' in event\n    && 'type' in event\n    && 'originalEvent' in event\n    && typeof event.type === 'string'\n    && pointerEvents.includes(event.type as PointerEventName)\n  );\n\n  if (!isCursorEvent && options.warning) {\n    log.warn('Not a pointer event', event);\n  }\n\n  return isCursorEvent;\n};\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport type { BaseLayer } from '@/core/map/base/layer.ts';\nimport { BaseSource } from '@/core/map/base/source.ts';\nimport type {\n  AnyEvent,\n  FeatureId,\n  FeatureShape,\n  FeatureSourceName,\n  FeatureStore,\n  ForEachFeatureDataCallbackFn,\n  GeoJsonDiffStorage,\n  GeoJsonImportFeature,\n  GeoJsonImportFeatureCollection,\n  GeoJsonShapeFeature,\n  GeoJsonShapeFeatureCollection,\n  GeoJsonSourceDiff,\n  Geoman,\n  GMDrawShapeCreatedEvent,\n  LngLat,\n  MarkerData,\n  PartialLayerStyle,\n  ScreenPoint,\n  ShapeName,\n  SourcesStorage,\n  SourceUpdateMethods,\n  UpdateStorage,\n} from '@/main.ts';\nimport { shapeNames } from '@/modes/draw/base.ts';\nimport { fixGeoJsonFeature } from '@/utils/features.ts';\nimport { getGeoJsonBounds } from '@/utils/geojson.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\nimport { includesWithType, typedKeys, typedValues } from '@/utils/typing.ts';\nimport type { Feature, FeatureCollection, GeoJSON, Geometry, LineString, MultiPolygon, Polygon } from 'geojson';\nimport { cloneDeep, debounce, throttle } from 'lodash-es';\nimport log from 'loglevel';\n\n\nexport const SOURCES = {\n  main: `${gmPrefix}_main`,\n  temporary: `${gmPrefix}_temporary`,\n  standby: `${gmPrefix}_standby`,\n} as const;\n\nexport const FEATURE_ID_PROPERTY = '_gmid' as const;\n\nexport class Features {\n  gm: Geoman;\n\n  featureCounter: number = 0;\n  featureStore: FeatureStore = new Map<FeatureId, FeatureData>();\n  featureStoreAllowedSources: Array<FeatureSourceName> = [SOURCES.main, SOURCES.temporary];\n  autoUpdatesEnabled: boolean = true;\n  diffUpdatesEnabled: boolean = true;\n\n  sources: SourcesStorage;\n  defaultSourceName: FeatureSourceName = SOURCES.main;\n  updateStorage: UpdateStorage;\n  delayedSourceUpdateMethods: SourceUpdateMethods;\n  layers: Array<BaseLayer>;\n\n  constructor(gm: Geoman) {\n    this.gm = gm;\n\n    this.sources = Object.fromEntries(\n      typedValues(SOURCES).map((name) => [name, null]),\n    ) as SourcesStorage;\n\n    this.updateStorage = Object.fromEntries(\n      typedValues(SOURCES).map((name) => [\n        name,\n        { add: [] as Array<Feature>, remove: [] as Array<FeatureId>, update: [] as Array<Feature> },\n      ]),\n    ) as UpdateStorage;\n\n    this.delayedSourceUpdateMethods = Object.fromEntries(\n      typedValues(SOURCES).map((sourceName) => [\n        sourceName,\n        {\n          throttled: this.getDelayedSourceUpdateMethod({\n            sourceName,\n            type: 'throttled',\n          }),\n          debounced: this.getDelayedSourceUpdateMethod({\n            sourceName,\n            type: 'debounced',\n          }),\n        } as { debounced: () => void, throttled: () => void },\n      ]),\n    ) as SourceUpdateMethods;\n\n    this.layers = [];\n  }\n\n  init() {\n    if (Object.values(this.sources).some((source) => source !== null)) {\n      log.warn('features.init(): features are already initialized');\n      return;\n    }\n\n    typedKeys(this.sources).forEach((sourceName) => {\n      this.sources[sourceName] = this.createSource(sourceName);\n    });\n\n    this.layers = this.createLayers();\n  }\n\n  get forEach() {\n    return this.filteredForEach((featureData) => !featureData.temporary);\n  }\n\n  get tmpForEach() {\n    return this.filteredForEach((featureData) => featureData.temporary);\n  }\n\n  getNewFeatureId(): FeatureId {\n    this.featureCounter += 1;\n    return `feature-${this.featureCounter}`;\n  }\n\n  filteredForEach(filterFn: (featureData: FeatureData) => boolean) {\n    return (callbackfn: ForEachFeatureDataCallbackFn): void => {\n      this.featureStore.forEach((featureData, featureId, featureStore) => {\n        if (filterFn(featureData)) {\n          callbackfn(featureData, featureId, featureStore);\n        }\n      });\n    };\n  }\n\n  has(sourceName: keyof SourcesStorage, featureId: FeatureId): boolean {\n    const featureData = this.featureStore.get(featureId);\n    return !!featureData && featureData?.source === this.sources[sourceName];\n  }\n\n  get(sourceName: keyof SourcesStorage, featureId: FeatureId): FeatureData | null {\n    const featureData = this.featureStore.get(featureId) || null;\n\n    if (featureData?.source === this.sources[sourceName]) {\n      return featureData;\n    }\n    return null;\n  }\n\n  add(featureData: FeatureData) {\n    if (this.featureStore.has(featureData.id)) {\n      log.error(`features.add: feature with the id \"${featureData.id}\" already exists`);\n      return;\n    }\n\n    if (this.featureStoreAllowedSources.includes(featureData.source.id as FeatureSourceName)) {\n      this.featureStore.set(featureData.id, featureData);\n    }\n  }\n\n  setDefaultSourceName(sourceName: FeatureSourceName) {\n    this.defaultSourceName = sourceName;\n  }\n\n  getDelayedSourceUpdateMethod(\n    { sourceName, type }: {\n      sourceName: FeatureSourceName,\n      type: 'throttled' | 'debounced',\n    },\n  ) {\n    if (type === 'throttled') {\n      return throttle(\n        () => this.updateSourceByStorage(sourceName),\n        2 * this.gm.options.settings.throttlingDelay,\n        { leading: false, trailing: true },\n      );\n    } else if (type === 'debounced') {\n      return debounce(\n        () => this.updateSourceByStorage(sourceName),\n        2 * this.gm.options.settings.throttlingDelay,\n        { leading: true, trailing: false },\n      );\n    } else {\n      throw new Error('Features: getDelayedSourceUpdateMethod: invalid type');\n    }\n  }\n\n  updateSourceByStorage(sourceName: FeatureSourceName) {\n    const source = this.sources[sourceName];\n    const updateStorage = this.updateStorage[sourceName];\n\n    const updatesAvailable = Object.values(updateStorage).some((item) => item.length);\n\n    if (source && updatesAvailable) {\n      source.updateData(updateStorage);\n      this.resetDiffStorage(sourceName);\n    }\n  }\n\n  resetDiffStorage(sourceName: FeatureSourceName) {\n    const updateStorage = this.updateStorage[sourceName];\n\n    updateStorage.add = [];\n    updateStorage.remove = [];\n    updateStorage.update = [];\n  }\n\n  withAtomicSourcesUpdate<T>(callback: () => T): T {\n    try {\n      this.autoUpdatesEnabled = false;\n      return callback();\n    } finally {\n      typedValues(SOURCES).forEach((sourceName) => {\n        this.updateSourceByStorage(sourceName);\n      });\n      this.autoUpdatesEnabled = true;\n    }\n  }\n\n  updateSourceData({ diff, sourceName }: {\n    diff: GeoJsonSourceDiff,\n    sourceName: FeatureSourceName,\n  }) {\n    if (this.gm.features.diffUpdatesEnabled) {\n      this.updateSourceDataWithDiff({ diff, sourceName });\n    } else {\n      this.setSourceData({ diff, sourceName });\n    }\n  }\n\n  updateSourceDataWithDiff({ diff, sourceName }: {\n    diff: GeoJsonSourceDiff,\n    sourceName: FeatureSourceName\n  }) {\n    const updateStorage: GeoJsonDiffStorage = this.updateStorage[sourceName];\n\n    if (diff.add) {\n      updateStorage.add = updateStorage.add.concat(diff.add);\n    }\n    if (diff.update) {\n      updateStorage.update = updateStorage.update.concat(diff.update);\n    }\n    if (diff.remove) {\n      updateStorage.remove = updateStorage.remove.concat(diff.remove);\n    }\n\n    if (this.gm.features.autoUpdatesEnabled) {\n      this.delayedSourceUpdateMethods[sourceName].throttled();\n      this.delayedSourceUpdateMethods[sourceName].debounced();\n    }\n  }\n\n  setSourceData({ sourceName }: {\n    diff: GeoJsonSourceDiff,\n    sourceName: FeatureSourceName,\n  }) {\n    log.warn('Review this Features.setSourceData() method');\n    const fcGeoJson = this.getSourceGeoJson(sourceName);\n    fcGeoJson.features = fcGeoJson.features.filter((feature) => !!feature);\n    this.setSourceGeoJson({ geoJson: fcGeoJson, sourceName });\n  }\n\n  createSource(sourceName: FeatureSourceName) {\n    const source = this.gm.mapAdapter.addSource(\n      sourceName,\n      {\n        type: 'FeatureCollection',\n        features: [],\n      },\n    );\n\n    if (source) {\n      return source;\n    }\n\n    throw new Error(`Features: failed to create the source: \"${sourceName}\"`);\n  }\n\n  delete(featureIdOrFeatureData: FeatureData | FeatureId) {\n    let featureData: FeatureData | null;\n\n    if (featureIdOrFeatureData instanceof FeatureData) {\n      featureData = featureIdOrFeatureData;\n    } else {\n      featureData = this.featureStore.get(featureIdOrFeatureData) || null;\n    }\n\n    if (featureData) {\n      featureData.removeMarkers();\n      featureData.removeGeoJson();\n      this.featureStore.delete(featureData.id);\n    } else {\n      log.error(`features.delete: feature \"${featureIdOrFeatureData}\" not found`);\n    }\n  }\n\n  getFeatureByMouseEvent({ event, sourceNames }: {\n    event: AnyEvent,\n    sourceNames: Array<FeatureSourceName>,\n  }): FeatureData | null {\n    if (!isMapPointerEvent(event, { warning: true })) {\n      return null;\n    }\n\n    const point: ScreenPoint = [event.point.x, event.point.y];\n    const features = this.gm.mapAdapter.queryFeaturesByScreenCoordinates({\n      queryCoordinates: point,\n      sourceNames,\n    });\n    return features.length ? features[0] : null;\n  }\n\n  getFeaturesByGeoJsonBounds({ geoJson, sourceNames }: {\n    geoJson: Feature<Polygon | MultiPolygon | LineString>,\n    sourceNames: Array<FeatureSourceName>,\n  }): Array<FeatureData> {\n    const coordBounds = getGeoJsonBounds(geoJson);\n    const polygonScreenBounds = this.gm.mapAdapter.coordBoundsToScreenBounds(coordBounds);\n\n    return this.getFeaturesByScreenBounds({ bounds: polygonScreenBounds, sourceNames });\n  }\n\n  getFeaturesByScreenBounds({ bounds, sourceNames }: {\n    bounds: [ScreenPoint, ScreenPoint],\n    sourceNames: Array<FeatureSourceName>,\n  }) {\n    return this.gm.mapAdapter.queryFeaturesByScreenCoordinates({\n      queryCoordinates: bounds,\n      sourceNames,\n    });\n  }\n\n  createFeature(\n    { featureId, shapeGeoJson, parent, sourceName, imported }: {\n      featureId?: FeatureId,\n      shapeGeoJson: GeoJsonShapeFeature,\n      parent?: FeatureData,\n      sourceName: FeatureSourceName,\n      imported?: boolean\n    },\n  ): FeatureData | null {\n    const source = this.sources[sourceName];\n    if (!source) {\n      log.error('Features.createFeature Missing source for feature creation');\n      return null;\n    }\n\n    const id = featureId\n      || shapeGeoJson.properties[FEATURE_ID_PROPERTY]\n      || this.getNewFeatureId();\n\n    if (this.featureStore.get(id)) {\n      log.error(\n        `Features.createFeature: feature with the id \"${id}\" already exists`,\n        this.featureStore.get(id),\n      );\n      return null;\n    }\n\n    const featureData = new FeatureData({\n      gm: this.gm,\n      id,\n      parent: parent || null,\n      source,\n      geoJsonShapeFeature: cloneDeep(shapeGeoJson),\n    });\n\n    this.add(featureData);\n    if (!featureData.temporary && !imported) {\n      this.fireFeatureCreatedEvent(featureData);\n    }\n    this.featureCounter += 1;\n    return featureData;\n  }\n\n  importGeoJson(geoJson: GeoJsonImportFeatureCollection | GeoJsonImportFeature) {\n    const features = 'features' in geoJson ? geoJson.features : [geoJson];\n    const result = {\n      stats: {\n        total: 0,\n        success: 0,\n        failed: 0,\n      },\n      addedFeatures: [] as Array<FeatureData>,\n    };\n\n    features.forEach((feature) => {\n      let featureData: FeatureData | null = null;\n      result.stats.total += 1;\n\n      const fixedFeature = fixGeoJsonFeature(feature);\n      if (fixedFeature) {\n        featureData = this.importGeoJsonFeature(fixedFeature);\n      }\n\n      if (featureData) {\n        result.addedFeatures.push(featureData);\n        result.stats.success += 1;\n      } else {\n        result.stats.failed += 1;\n      }\n    });\n\n    return result;\n  }\n\n  importGeoJsonFeature(shapeGeoJson: GeoJsonImportFeature): FeatureData | null {\n    // add an externally created GeoJSON\n    const sourceName: FeatureSourceName = this.defaultSourceName;\n\n    const shape = this.getFeatureShapeByGeoJson(shapeGeoJson);\n    if (!shape) {\n      log.error('features.addGeoJsonFeature: unknown shape', shape);\n      return null;\n    }\n\n    const featureId = shapeGeoJson.id || `${sourceName}-feature-${this.featureCounter}`;\n\n    return this.createFeature({\n      featureId: shapeGeoJson.id as FeatureId | undefined,\n      shapeGeoJson: {\n        ...shapeGeoJson,\n        properties: {\n          ...shapeGeoJson.properties,\n          [FEATURE_ID_PROPERTY]: featureId,\n          shape,\n        },\n      },\n      sourceName,\n      imported: true,\n    });\n  }\n\n  getAll(): FeatureCollection {\n    return this.exportGeoJson();\n  }\n\n  exportGeoJson(\n    { allowedShapes }: {\n      allowedShapes?: Array<FeatureShape>\n    } = { allowedShapes: undefined },\n  ): GeoJsonShapeFeatureCollection {\n    return this.asGeoJsonFeatureCollection({\n      sourceNames: [SOURCES.main, SOURCES.standby],\n      shapeTypes: allowedShapes ? allowedShapes : [...shapeNames],\n    });\n  }\n\n  getSourceGeoJson(sourceName: FeatureSourceName): GeoJsonShapeFeatureCollection {\n    const source = this.sources[sourceName];\n    if (!source) {\n      throw new Error(`getSourceGeoJson: missing source \"${sourceName}\"`);\n    }\n    return source.getGeoJson();\n  }\n\n  setSourceGeoJson({ geoJson, sourceName }: {\n    geoJson: GeoJSON,\n    sourceName: FeatureSourceName,\n  }) {\n    const source = this.sources[sourceName];\n    if (!source) {\n      throw new Error(`setSourceGeoJson: missing source \"${sourceName}\"`);\n    }\n    source.setGeoJson(geoJson);\n  }\n\n  asGeoJsonFeatureCollection(\n    { shapeTypes, sourceNames }: {\n      shapeTypes?: Array<FeatureShape>,\n      sourceNames: Array<FeatureSourceName>,\n    },\n  ): GeoJsonShapeFeatureCollection {\n    const resultFeatureCollection: GeoJsonShapeFeatureCollection = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    sourceNames.forEach((sourceName) => {\n      const source = this.sources[sourceName];\n\n      if (source) {\n        const sourceFeatureCollection = source.getGeoJson();\n\n        sourceFeatureCollection.features\n          .filter((feature) => !!feature)\n          .forEach((feature) => {\n            if (shapeTypes === undefined || shapeTypes.includes(feature.properties.shape)) {\n              resultFeatureCollection.features.push(feature);\n            }\n          });\n      }\n    });\n\n    return resultFeatureCollection;\n  }\n\n  convertSourceToGm(inputSource: BaseSource): Array<FeatureData> {\n    // adds an externally created source to the features store\n    // the method converts the source/layers to internal format\n    // original source/layers are removed\n\n    const features: Array<FeatureData> = [];\n    const shapeGeoJson = inputSource.getGeoJson();\n    const sourceGeoJsonFeatures = 'features' in shapeGeoJson ? shapeGeoJson.features : [shapeGeoJson];\n    const baseSource = this.gm.mapAdapter.getSource(inputSource.id);\n    baseSource.remove({ removeLayers: false });\n\n    sourceGeoJsonFeatures.forEach((sourceFeature) => {\n      const featureData = this.addGeoJsonFeature({\n        shapeGeoJson: sourceFeature as GeoJsonImportFeature,\n        defaultSource: true,\n      });\n\n      if (featureData) {\n        features.push(featureData);\n      }\n    });\n    return features;\n  }\n\n  addGeoJsonFeature({ shapeGeoJson, sourceName, defaultSource }: {\n    shapeGeoJson: GeoJsonImportFeature,\n    sourceName?: FeatureSourceName,\n    defaultSource?: boolean,\n  }): FeatureData | null {\n    let targetSourceName: FeatureSourceName | null;\n    if (defaultSource) {\n      targetSourceName = this.defaultSourceName;\n      if (sourceName) {\n        log.warn('features.addGeoJsonFeature: default source is set, sourceName is ignored');\n      }\n    } else {\n      targetSourceName = sourceName || null;\n    }\n\n    if (!targetSourceName) {\n      log.error('features.addGeoJsonFeature: missing sourceName');\n      return null;\n    }\n\n    const shape = this.getFeatureShapeByGeoJson(shapeGeoJson);\n\n    if (!shape) {\n      log.error('features.addGeoJsonFeature: unknown shape', shape);\n      return null;\n    }\n\n    return this.createFeature({\n      featureId: shapeGeoJson.id as FeatureId | undefined,\n      shapeGeoJson: {\n        ...shapeGeoJson,\n        properties: { ...shapeGeoJson.properties, shape },\n      },\n      sourceName: targetSourceName,\n    });\n  }\n\n  createLayers(): Array<BaseLayer> {\n    const layers: Array<BaseLayer> = [];\n\n    typedKeys(this.gm.options.layerStyles).forEach((shapeName) => {\n      typedKeys(this.gm.options.layerStyles[shapeName]).forEach((sourceName) => {\n        const styles = this.gm.options.layerStyles[shapeName][sourceName];\n        styles.forEach((partialStyle) => {\n          const layer = this.createGenericLayer({\n            layerId: `${sourceName}-${shapeName}-${partialStyle.type}-layer`,\n            partialStyle,\n            shape: shapeName,\n            sourceName,\n          });\n\n          if (layer) {\n            layers.push(layer);\n          }\n        });\n      });\n    });\n\n    return layers;\n  }\n\n  createGenericLayer({ layerId, sourceName, partialStyle, shape }: {\n    layerId: string,\n    partialStyle: PartialLayerStyle,\n    shape: FeatureShape,\n    sourceName: FeatureSourceName,\n  }): BaseLayer | null {\n    const layerOptions = {\n      ...partialStyle,\n      id: layerId,\n      source: sourceName,\n      filter: [\n        'in',\n        ['get', 'shape'],\n        ['literal', [shape]],\n      ],\n    };\n\n    return this.gm.mapAdapter.addLayer(layerOptions);\n  }\n\n  getFeatureShapeByGeoJson(shapeGeoJson: GeoJsonImportFeature): ShapeName | null {\n    const SHAPE_MAP: { [key in Geometry['type']]?: ShapeName } = {\n      Point: 'marker',\n      LineString: 'line',\n      Polygon: 'polygon',\n      MultiPolygon: 'polygon',\n    };\n\n    const properties = shapeGeoJson.properties;\n    if (properties?.shape && shapeNames.includes(properties?.shape)) {\n      return properties?.shape;\n    }\n\n    return SHAPE_MAP[shapeGeoJson.geometry.type] || null;\n  }\n\n  createMarkerFeature(\n    { parentFeature, coordinate, type, sourceName }: {\n      type: MarkerData['type'],\n      coordinate: LngLat,\n      parentFeature: FeatureData,\n      sourceName: FeatureSourceName,\n    },\n  ) {\n    return this.createFeature({\n      sourceName,\n      parent: parentFeature,\n      shapeGeoJson: {\n        type: 'Feature',\n        geometry: {\n          type: 'Point',\n          coordinates: coordinate,\n        },\n        properties: {\n          shape: `${type}_marker`,\n        },\n      },\n    });\n  }\n\n  updateMarkerFeaturePosition(markerFeatureData: FeatureData, coordinates: LngLat) {\n    markerFeatureData.updateGeoJsonGeometry({\n      type: 'Point',\n      coordinates,\n    });\n  }\n\n  fireFeatureCreatedEvent(featureData: FeatureData) {\n    if (includesWithType(featureData.shape, shapeNames)) {\n      const payload: GMDrawShapeCreatedEvent = {\n        level: 'system',\n        type: 'draw',\n        mode: featureData.shape,\n        action: 'feature_created',\n        featureData,\n      };\n      this.gm.events.fire(`${gmPrefix}:draw`, payload);\n    }\n  }\n}\n","import type { PartialLayerStyle, StyleVariables } from '@/main.ts';\n\n\nexport const getCircleMarkerStyles = (\n  styleVariables: StyleVariables,\n): Array<PartialLayerStyle> => {\n  return [\n    {\n      type: 'circle',\n      paint: {\n        'circle-radius': styleVariables.circleMarkerRadius,\n        'circle-color': styleVariables.fillColor,\n        'circle-opacity': styleVariables.fillOpacity,\n        'circle-stroke-color': styleVariables.lineColor,\n        'circle-stroke-width': styleVariables.lineWidth,\n        'circle-stroke-opacity': styleVariables.lineOpacity,\n      },\n    },\n  ];\n};\n","import type { PartialLayerStyle, StyleVariables } from '@/main.ts';\n\n\nexport const getControlMarkerStyles = (\n  styleVariables: StyleVariables,\n): Array<PartialLayerStyle> => {\n  return [\n    {\n      type: 'circle',\n      paint: {\n        'circle-radius': 7,\n        'circle-color': '#ffffff',\n        'circle-opacity': 1,\n        'circle-stroke-color': styleVariables.lineColor,\n        'circle-stroke-width': 2,\n        'circle-stroke-opacity': 1,\n      },\n    },\n  ];\n};\n","import type { PartialLayerStyle, StyleVariables } from '@/main.ts';\n\n\nexport const getLineStyles = (\n  styleVariables: StyleVariables,\n): Array<PartialLayerStyle> => {\n  return [\n    {\n      type: 'line',\n      paint: {\n        'line-color': styleVariables.lineColor,\n        'line-opacity': styleVariables.lineOpacity,\n        'line-width': styleVariables.lineWidth,\n      },\n    },\n  ];\n};\n","import type { PartialLayerStyle } from '@/main.ts';\n\nexport const getMarkerStyles = (): Array<PartialLayerStyle> => {\n  return [\n    {\n      type: 'symbol',\n      layout: {\n        'icon-image': 'default-marker',\n        'icon-size': 0.18,\n        'icon-allow-overlap': true,\n        'icon-anchor': 'bottom',\n      },\n    },\n  ];\n};\n","import type { PartialLayerStyle, StyleVariables } from '@/main.ts';\n\n\nexport const getPolygonStyles = (\n  styleVariables: StyleVariables,\n): Array<PartialLayerStyle> => {\n  return [\n    {\n      type: 'fill',\n      paint: {\n        'fill-color': styleVariables.fillColor,\n        'fill-opacity': styleVariables.fillOpacity,\n      },\n    },\n    {\n      type: 'line',\n      paint: {\n        'line-color': styleVariables.lineColor,\n        'line-opacity': styleVariables.lineOpacity,\n        'line-width': styleVariables.lineWidth,\n      },\n    },\n  ];\n};\n","import type { PartialLayerStyle, StyleVariables } from '@/main.ts';\n\n\nexport const getSecondaryControlMarkerStyles = (\n  styleVariables: StyleVariables,\n): Array<PartialLayerStyle> => {\n  return [\n    {\n      type: 'circle',\n      paint: {\n        'circle-radius': 6,\n        'circle-color': '#ffffff',\n        'circle-opacity': 0.6,\n        'circle-stroke-color': styleVariables.lineColor,\n        'circle-stroke-width': 2,\n        'circle-stroke-opacity': 1,\n      },\n    },\n  ];\n};\n","import type { PartialLayerStyle } from '@/main.ts';\n\nexport const getSnapGuideStyles = (): Array<PartialLayerStyle> => {\n  return [\n    {\n      type: 'line',\n      paint: {\n        'line-color': '#00979f',\n        'line-width': 1.8,\n        'line-dasharray': [2, 1],\n      },\n    },\n  ];\n};\n","import type { PartialLayerStyle } from '@/main.ts';\n\n\nexport const getTextMarkerStyles = (): Array<PartialLayerStyle> => {\n  return [\n    {\n      type: 'symbol',\n      layout: {\n        'text-field': ['get', 'text'],\n        'text-justify': 'center',\n      },\n      paint: {\n        'text-color': 'black',\n        'text-halo-color': '#fff',\n        'text-halo-width': 2,\n      },\n    },\n  ];\n};\n","import { SOURCES } from '@/core/features/index.ts';\nimport type { SourceStyles } from '@/main.ts';\n\nexport const defaultRegularStyle = {\n  lineColor: '#278cda',\n  lineOpacity: 0.8,\n  lineWidth: 3,\n  fillColor: '#4fb3ff',\n  fillOpacity: 0.4,\n  circleMarkerRadius: 10,\n};\n\nexport const defaultTmpStyle = {\n  ...defaultRegularStyle,\n  lineColor: '#ff5600',\n};\n\n\nexport const sourceStyles: SourceStyles = {\n  [SOURCES.main]: {\n    lineColor: '#278cda',\n    lineOpacity: 0.8,\n    lineWidth: 3,\n    fillColor: '#4fb3ff',\n    fillOpacity: 0.4,\n    circleMarkerRadius: 10,\n  },\n  [SOURCES.temporary]: {\n    lineColor: '#ff5600',\n    lineOpacity: 0.8,\n    lineWidth: 3,\n    fillColor: '#4fb3ff',\n    fillOpacity: 0.4,\n    circleMarkerRadius: 10,\n  },\n  [SOURCES.standby]: {\n    lineColor: '#787878',\n    lineOpacity: 0.8,\n    lineWidth: 3,\n    fillColor: '#a5a5a5',\n    fillOpacity: 0.4,\n    circleMarkerRadius: 10,\n  },\n};\n","import { SOURCES } from '@/core/features/index.ts';\nimport { getCircleMarkerStyles } from '@/core/options/layers/shapes/circle-marker.ts';\nimport { getControlMarkerStyles } from '@/core/options/layers/shapes/control-marker.ts';\nimport { getLineStyles } from '@/core/options/layers/shapes/line.ts';\nimport { getMarkerStyles } from '@/core/options/layers/shapes/marker.ts';\nimport { getPolygonStyles } from '@/core/options/layers/shapes/polygon.ts';\nimport { getSecondaryControlMarkerStyles } from '@/core/options/layers/shapes/secondary-marker.ts';\nimport { getSnapGuideStyles } from '@/core/options/layers/shapes/snap-guides.ts';\nimport { getTextMarkerStyles } from '@/core/options/layers/shapes/text-marker.ts';\nimport { sourceStyles } from '@/core/options/layers/variables.ts';\nimport type { FeatureShape, LayerStyle } from '@/main.ts';\n\nconst styles: { [key in FeatureShape]: LayerStyle } = {\n  line: {\n    [SOURCES.main]: getLineStyles(sourceStyles[SOURCES.main]),\n    [SOURCES.temporary]: getLineStyles(sourceStyles[SOURCES.temporary]),\n    [SOURCES.standby]: getLineStyles(sourceStyles[SOURCES.standby]),\n  },\n  circle: {\n    [SOURCES.main]: getPolygonStyles(sourceStyles[SOURCES.main]),\n    [SOURCES.temporary]: getPolygonStyles(sourceStyles[SOURCES.temporary]),\n    [SOURCES.standby]: getPolygonStyles(sourceStyles[SOURCES.standby]),\n  },\n  rectangle: {\n    [SOURCES.main]: getPolygonStyles(sourceStyles[SOURCES.main]),\n    [SOURCES.temporary]: getPolygonStyles(sourceStyles[SOURCES.temporary]),\n    [SOURCES.standby]: getPolygonStyles(sourceStyles[SOURCES.standby]),\n  },\n  polygon: {\n    [SOURCES.main]: getPolygonStyles(sourceStyles[SOURCES.main]),\n    [SOURCES.temporary]: getPolygonStyles(sourceStyles[SOURCES.temporary]),\n    [SOURCES.standby]: getPolygonStyles(sourceStyles[SOURCES.standby]),\n  },\n  marker: {\n    [SOURCES.temporary]: getMarkerStyles(),\n    [SOURCES.main]: getMarkerStyles(),\n    [SOURCES.standby]: getMarkerStyles(),\n  },\n  circle_marker: {\n    [SOURCES.main]: getCircleMarkerStyles(sourceStyles[SOURCES.main]),\n    [SOURCES.temporary]: getCircleMarkerStyles(sourceStyles[SOURCES.temporary]),\n    [SOURCES.standby]: getCircleMarkerStyles(sourceStyles[SOURCES.standby]),\n  },\n  text_marker: {\n    [SOURCES.main]: getTextMarkerStyles(),\n    [SOURCES.temporary]: getTextMarkerStyles(),\n    [SOURCES.standby]: getTextMarkerStyles(),\n  },\n  dom_marker: {\n    // not a geojson source, layers aren't required\n    [SOURCES.main]: [],\n    [SOURCES.temporary]: [],\n    [SOURCES.standby]: [],\n  },\n  center_marker: {\n    [SOURCES.main]: getControlMarkerStyles(sourceStyles[SOURCES.main]),\n    [SOURCES.temporary]: getControlMarkerStyles(sourceStyles[SOURCES.temporary]),\n    [SOURCES.standby]: getControlMarkerStyles(sourceStyles[SOURCES.standby]),\n  },\n  vertex_marker: {\n    [SOURCES.main]: getControlMarkerStyles(sourceStyles[SOURCES.main]),\n    [SOURCES.temporary]: getControlMarkerStyles(sourceStyles[SOURCES.temporary]),\n    [SOURCES.standby]: getControlMarkerStyles(sourceStyles[SOURCES.standby]),\n  },\n  edge_marker: {\n    [SOURCES.main]: getSecondaryControlMarkerStyles(sourceStyles[SOURCES.main]),\n    [SOURCES.temporary]: getSecondaryControlMarkerStyles(sourceStyles[SOURCES.temporary]),\n    [SOURCES.standby]: getSecondaryControlMarkerStyles(sourceStyles[SOURCES.standby]),\n  },\n  snap_guide: {\n    // todo: check which sources can't display snap guides (and other shapes) and remove layers\n    [SOURCES.main]: getSnapGuideStyles(),\n    [SOURCES.temporary]: getSnapGuideStyles(),\n    [SOURCES.standby]: getSnapGuideStyles(),\n  },\n};\n\nexport default styles;\n","import { controlIcons } from '@/core/options/icons.ts';\nimport defaultLayerStyles from '@/core/options/layers/style.ts';\nimport type { GmOptionsData } from '@/main.ts';\n\n\nexport const defaultOptions: GmOptionsData = {\n  settings: {\n    throttlingDelay: 10,\n    controlsPosition: 'top-left',\n  },\n  layerStyles: defaultLayerStyles,\n  controls: {\n    draw: {\n      marker: {\n        title: 'Marker',\n        icon: controlIcons.marker,\n        uiEnabled: true,\n        active: false,\n      },\n      circle_marker: {\n        title: 'Circle Marker',\n        icon: controlIcons.circle_marker,\n        uiEnabled: true,\n        active: false,\n      },\n      text_marker: {\n        title: 'Text Marker',\n        icon: controlIcons.text_marker,\n        uiEnabled: true,\n        active: false,\n      },\n      circle: {\n        title: 'Circle',\n        icon: controlIcons.circle,\n        uiEnabled: true,\n        active: false,\n      },\n      line: {\n        title: 'Line',\n        icon: controlIcons.line,\n        uiEnabled: true,\n        active: false,\n      },\n      rectangle: {\n        title: 'Rectangle',\n        icon: controlIcons.rectangle,\n        uiEnabled: true,\n        active: false,\n      },\n      polygon: {\n        title: 'Polygon',\n        icon: controlIcons.polygon,\n        uiEnabled: true,\n        active: false,\n      },\n    },\n    edit: {\n      drag: {\n        title: 'Drag',\n        icon: controlIcons.drag,\n        uiEnabled: true,\n        active: false,\n      },\n      change: {\n        title: 'Change',\n        icon: controlIcons.change,\n        uiEnabled: true,\n        active: false,\n      },\n      rotate: {\n        title: 'Rotate',\n        icon: controlIcons.rotate,\n        uiEnabled: true,\n        active: false,\n      },\n\n      cut: {\n        title: 'Cut',\n        icon: controlIcons.cut,\n        uiEnabled: true,\n        active: false,\n      },\n\n      delete: {\n        title: 'Delete',\n        icon: controlIcons.delete,\n        uiEnabled: true,\n        active: false,\n      },\n    },\n    helper: {\n      shape_markers: {\n        title: 'Shape markers',\n        icon: null,\n        uiEnabled: true,\n        active: false,\n      },\n      snapping: {\n        title: 'Snapping',\n        icon: controlIcons.snapping,\n        uiEnabled: true,\n        active: false,\n      },\n\n      zoom_to_features: {\n        title: 'Zoom to features',\n        icon: controlIcons.zoom_to_features,\n        uiEnabled: true,\n        active: false,\n      },\n    },\n  },\n};\n","import { defaultOptions } from '@/core/options/defaults/free.ts';\nimport type { GmOptionsData } from '@/types/index.ts';\nimport { cloneDeep } from 'lodash-es';\n\n\nexport const getDefaultOptions = (): GmOptionsData => {\n  return cloneDeep(defaultOptions);\n};\n","export default false;\n","// Store the references to globals in case someone tries to monkey patch these, causing the below\n// to de-opt (this occurs often when using popular extensions).\nexport var is_array = Array.isArray;\nexport var index_of = Array.prototype.indexOf;\nexport var array_from = Array.from;\nexport var object_keys = Object.keys;\nexport var define_property = Object.defineProperty;\nexport var get_descriptor = Object.getOwnPropertyDescriptor;\nexport var get_descriptors = Object.getOwnPropertyDescriptors;\nexport var object_prototype = Object.prototype;\nexport var array_prototype = Array.prototype;\nexport var get_prototype_of = Object.getPrototypeOf;\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\nexport const noop = () => {};\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n\n/**\n * @template [T=any]\n * @param {any} value\n * @returns {value is PromiseLike<T>}\n */\nexport function is_promise(value) {\n\treturn typeof value?.then === 'function';\n}\n\n/** @param {Function} fn */\nexport function run(fn) {\n\treturn fn();\n}\n\n/** @param {Array<() => void>} arr */\nexport function run_all(arr) {\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tarr[i]();\n\t}\n}\n\n/**\n * TODO replace with Promise.withResolvers once supported widely enough\n * @template T\n */\nexport function deferred() {\n\t/** @type {(value: T) => void} */\n\tvar resolve;\n\n\t/** @type {(reason: any) => void} */\n\tvar reject;\n\n\t/** @type {Promise<T>} */\n\tvar promise = new Promise((res, rej) => {\n\t\tresolve = res;\n\t\treject = rej;\n\t});\n\n\t// @ts-expect-error\n\treturn { promise, resolve, reject };\n}\n\n/**\n * @template V\n * @param {V} value\n * @param {V | (() => V)} fallback\n * @param {boolean} [lazy]\n * @returns {V}\n */\nexport function fallback(value, fallback, lazy = false) {\n\treturn value === undefined\n\t\t? lazy\n\t\t\t? /** @type {() => V} */ (fallback)()\n\t\t\t: /** @type {V} */ (fallback)\n\t\t: value;\n}\n","export const DERIVED = 1 << 1;\nexport const EFFECT = 1 << 2;\nexport const RENDER_EFFECT = 1 << 3;\nexport const BLOCK_EFFECT = 1 << 4;\nexport const BRANCH_EFFECT = 1 << 5;\nexport const ROOT_EFFECT = 1 << 6;\nexport const BOUNDARY_EFFECT = 1 << 7;\nexport const UNOWNED = 1 << 8;\nexport const DISCONNECTED = 1 << 9;\nexport const CLEAN = 1 << 10;\nexport const DIRTY = 1 << 11;\nexport const MAYBE_DIRTY = 1 << 12;\nexport const INERT = 1 << 13;\nexport const DESTROYED = 1 << 14;\nexport const EFFECT_RAN = 1 << 15;\n/** 'Transparent' effects do not create a transition boundary */\nexport const EFFECT_TRANSPARENT = 1 << 16;\n/** Svelte 4 legacy mode props need to be handled with deriveds and be recognized elsewhere, hence the dedicated flag */\nexport const LEGACY_DERIVED_PROP = 1 << 17;\nexport const INSPECT_EFFECT = 1 << 18;\nexport const HEAD_EFFECT = 1 << 19;\nexport const EFFECT_HAS_DERIVED = 1 << 20;\n\nexport const STATE_SYMBOL = Symbol('$state');\nexport const STATE_SYMBOL_METADATA = Symbol('$state metadata');\nexport const LEGACY_PROPS = Symbol('legacy props');\nexport const LOADING_ATTR_SYMBOL = Symbol('');\n","import { run_all } from '../../shared/utils.js';\n\n// Fallback for when requestIdleCallback is not available\nconst request_idle_callback =\n\ttypeof requestIdleCallback === 'undefined'\n\t\t? (/** @type {() => void} */ cb) => setTimeout(cb, 1)\n\t\t: requestIdleCallback;\n\n/** @type {Array<() => void>} */\nlet micro_tasks = [];\n\n/** @type {Array<() => void>} */\nlet idle_tasks = [];\n\nfunction run_micro_tasks() {\n\tvar tasks = micro_tasks;\n\tmicro_tasks = [];\n\trun_all(tasks);\n}\n\nfunction run_idle_tasks() {\n\tvar tasks = idle_tasks;\n\tidle_tasks = [];\n\trun_all(tasks);\n}\n\n/**\n * @param {() => void} fn\n */\nexport function queue_micro_task(fn) {\n\tif (micro_tasks.length === 0) {\n\t\tqueueMicrotask(run_micro_tasks);\n\t}\n\n\tmicro_tasks.push(fn);\n}\n\n/**\n * @param {() => void} fn\n */\nexport function queue_idle_task(fn) {\n\tif (idle_tasks.length === 0) {\n\t\trequest_idle_callback(run_idle_tasks);\n\t}\n\n\tidle_tasks.push(fn);\n}\n\n/**\n * Synchronously run any queued tasks.\n */\nexport function flush_tasks() {\n\tif (micro_tasks.length > 0) {\n\t\trun_micro_tasks();\n\t}\n\n\tif (idle_tasks.length > 0) {\n\t\trun_idle_tasks();\n\t}\n}\n","/** @import { Equals } from '#client' */\n/** @type {Equals} */\nexport function equals(value) {\n\treturn value === this.v;\n}\n\n/**\n * @param {unknown} a\n * @param {unknown} b\n * @returns {boolean}\n */\nexport function safe_not_equal(a, b) {\n\treturn a != a\n\t\t? b == b\n\t\t: a !== b || (a !== null && typeof a === 'object') || typeof a === 'function';\n}\n\n/**\n * @param {unknown} a\n * @param {unknown} b\n * @returns {boolean}\n */\nexport function not_equal(a, b) {\n\treturn a !== b;\n}\n\n/** @type {Equals} */\nexport function safe_equals(value) {\n\treturn !safe_not_equal(value, this.v);\n}\n","/* This file is generated by scripts/process-messages/index.js. Do not edit! */\n\nimport { DEV } from 'esm-env';\n\n/**\n * Using `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\n * @returns {never}\n */\nexport function bind_invalid_checkbox_value() {\n\tif (DEV) {\n\t\tconst error = new Error(`bind_invalid_checkbox_value\\nUsing \\`bind:value\\` together with a checkbox input is not allowed. Use \\`bind:checked\\` instead\\nhttps://svelte.dev/e/bind_invalid_checkbox_value`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/bind_invalid_checkbox_value`);\n\t}\n}\n\n/**\n * Component %component% has an export named `%key%` that a consumer component is trying to access using `bind:%key%`, which is disallowed. Instead, use `bind:this` (e.g. `<%name% bind:this={component} />`) and then access the property on the bound component instance (e.g. `component.%key%`)\n * @param {string} component\n * @param {string} key\n * @param {string} name\n * @returns {never}\n */\nexport function bind_invalid_export(component, key, name) {\n\tif (DEV) {\n\t\tconst error = new Error(`bind_invalid_export\\nComponent ${component} has an export named \\`${key}\\` that a consumer component is trying to access using \\`bind:${key}\\`, which is disallowed. Instead, use \\`bind:this\\` (e.g. \\`<${name} bind:this={component} />\\`) and then access the property on the bound component instance (e.g. \\`component.${key}\\`)\\nhttps://svelte.dev/e/bind_invalid_export`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/bind_invalid_export`);\n\t}\n}\n\n/**\n * A component is attempting to bind to a non-bindable property `%key%` belonging to %component% (i.e. `<%name% bind:%key%={...}>`). To mark a property as bindable: `let { %key% = $bindable() } = $props()`\n * @param {string} key\n * @param {string} component\n * @param {string} name\n * @returns {never}\n */\nexport function bind_not_bindable(key, component, name) {\n\tif (DEV) {\n\t\tconst error = new Error(`bind_not_bindable\\nA component is attempting to bind to a non-bindable property \\`${key}\\` belonging to ${component} (i.e. \\`<${name} bind:${key}={...}>\\`). To mark a property as bindable: \\`let { ${key} = $bindable() } = $props()\\`\\nhttps://svelte.dev/e/bind_not_bindable`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/bind_not_bindable`);\n\t}\n}\n\n/**\n * %parent% called `%method%` on an instance of %component%, which is no longer valid in Svelte 5\n * @param {string} parent\n * @param {string} method\n * @param {string} component\n * @returns {never}\n */\nexport function component_api_changed(parent, method, component) {\n\tif (DEV) {\n\t\tconst error = new Error(`component_api_changed\\n${parent} called \\`${method}\\` on an instance of ${component}, which is no longer valid in Svelte 5\\nhttps://svelte.dev/e/component_api_changed`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/component_api_changed`);\n\t}\n}\n\n/**\n * Attempted to instantiate %component% with `new %name%`, which is no longer valid in Svelte 5. If this component is not under your control, set the `compatibility.componentApi` compiler option to `4` to keep it working.\n * @param {string} component\n * @param {string} name\n * @returns {never}\n */\nexport function component_api_invalid_new(component, name) {\n\tif (DEV) {\n\t\tconst error = new Error(`component_api_invalid_new\\nAttempted to instantiate ${component} with \\`new ${name}\\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \\`compatibility.componentApi\\` compiler option to \\`4\\` to keep it working.\\nhttps://svelte.dev/e/component_api_invalid_new`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/component_api_invalid_new`);\n\t}\n}\n\n/**\n * A derived value cannot reference itself recursively\n * @returns {never}\n */\nexport function derived_references_self() {\n\tif (DEV) {\n\t\tconst error = new Error(`derived_references_self\\nA derived value cannot reference itself recursively\\nhttps://svelte.dev/e/derived_references_self`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/derived_references_self`);\n\t}\n}\n\n/**\n * Keyed each block has duplicate key `%value%` at indexes %a% and %b%\n * @param {string} a\n * @param {string} b\n * @param {string | undefined | null} [value]\n * @returns {never}\n */\nexport function each_key_duplicate(a, b, value) {\n\tif (DEV) {\n\t\tconst error = new Error(`each_key_duplicate\\n${value ? `Keyed each block has duplicate key \\`${value}\\` at indexes ${a} and ${b}` : `Keyed each block has duplicate key at indexes ${a} and ${b}`}\\nhttps://svelte.dev/e/each_key_duplicate`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/each_key_duplicate`);\n\t}\n}\n\n/**\n * `%rune%` cannot be used inside an effect cleanup function\n * @param {string} rune\n * @returns {never}\n */\nexport function effect_in_teardown(rune) {\n\tif (DEV) {\n\t\tconst error = new Error(`effect_in_teardown\\n\\`${rune}\\` cannot be used inside an effect cleanup function\\nhttps://svelte.dev/e/effect_in_teardown`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/effect_in_teardown`);\n\t}\n}\n\n/**\n * Effect cannot be created inside a `$derived` value that was not itself created inside an effect\n * @returns {never}\n */\nexport function effect_in_unowned_derived() {\n\tif (DEV) {\n\t\tconst error = new Error(`effect_in_unowned_derived\\nEffect cannot be created inside a \\`$derived\\` value that was not itself created inside an effect\\nhttps://svelte.dev/e/effect_in_unowned_derived`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/effect_in_unowned_derived`);\n\t}\n}\n\n/**\n * `%rune%` can only be used inside an effect (e.g. during component initialisation)\n * @param {string} rune\n * @returns {never}\n */\nexport function effect_orphan(rune) {\n\tif (DEV) {\n\t\tconst error = new Error(`effect_orphan\\n\\`${rune}\\` can only be used inside an effect (e.g. during component initialisation)\\nhttps://svelte.dev/e/effect_orphan`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/effect_orphan`);\n\t}\n}\n\n/**\n * Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops\n * @returns {never}\n */\nexport function effect_update_depth_exceeded() {\n\tif (DEV) {\n\t\tconst error = new Error(`effect_update_depth_exceeded\\nMaximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops\\nhttps://svelte.dev/e/effect_update_depth_exceeded`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/effect_update_depth_exceeded`);\n\t}\n}\n\n/**\n * Failed to hydrate the application\n * @returns {never}\n */\nexport function hydration_failed() {\n\tif (DEV) {\n\t\tconst error = new Error(`hydration_failed\\nFailed to hydrate the application\\nhttps://svelte.dev/e/hydration_failed`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/hydration_failed`);\n\t}\n}\n\n/**\n * Could not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\n * @returns {never}\n */\nexport function invalid_snippet() {\n\tif (DEV) {\n\t\tconst error = new Error(`invalid_snippet\\nCould not \\`{@render}\\` snippet due to the expression being \\`null\\` or \\`undefined\\`. Consider using optional chaining \\`{@render snippet?.()}\\`\\nhttps://svelte.dev/e/invalid_snippet`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/invalid_snippet`);\n\t}\n}\n\n/**\n * `%name%(...)` cannot be used in runes mode\n * @param {string} name\n * @returns {never}\n */\nexport function lifecycle_legacy_only(name) {\n\tif (DEV) {\n\t\tconst error = new Error(`lifecycle_legacy_only\\n\\`${name}(...)\\` cannot be used in runes mode\\nhttps://svelte.dev/e/lifecycle_legacy_only`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/lifecycle_legacy_only`);\n\t}\n}\n\n/**\n * Cannot do `bind:%key%={undefined}` when `%key%` has a fallback value\n * @param {string} key\n * @returns {never}\n */\nexport function props_invalid_value(key) {\n\tif (DEV) {\n\t\tconst error = new Error(`props_invalid_value\\nCannot do \\`bind:${key}={undefined}\\` when \\`${key}\\` has a fallback value\\nhttps://svelte.dev/e/props_invalid_value`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/props_invalid_value`);\n\t}\n}\n\n/**\n * Rest element properties of `$props()` such as `%property%` are readonly\n * @param {string} property\n * @returns {never}\n */\nexport function props_rest_readonly(property) {\n\tif (DEV) {\n\t\tconst error = new Error(`props_rest_readonly\\nRest element properties of \\`$props()\\` such as \\`${property}\\` are readonly\\nhttps://svelte.dev/e/props_rest_readonly`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/props_rest_readonly`);\n\t}\n}\n\n/**\n * The `%rune%` rune is only available inside `.svelte` and `.svelte.js/ts` files\n * @param {string} rune\n * @returns {never}\n */\nexport function rune_outside_svelte(rune) {\n\tif (DEV) {\n\t\tconst error = new Error(`rune_outside_svelte\\nThe \\`${rune}\\` rune is only available inside \\`.svelte\\` and \\`.svelte.js/ts\\` files\\nhttps://svelte.dev/e/rune_outside_svelte`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/rune_outside_svelte`);\n\t}\n}\n\n/**\n * Property descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\n * @returns {never}\n */\nexport function state_descriptors_fixed() {\n\tif (DEV) {\n\t\tconst error = new Error(`state_descriptors_fixed\\nProperty descriptors defined on \\`$state\\` objects must contain \\`value\\` and always be \\`enumerable\\`, \\`configurable\\` and \\`writable\\`.\\nhttps://svelte.dev/e/state_descriptors_fixed`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/state_descriptors_fixed`);\n\t}\n}\n\n/**\n * Cannot set prototype of `$state` object\n * @returns {never}\n */\nexport function state_prototype_fixed() {\n\tif (DEV) {\n\t\tconst error = new Error(`state_prototype_fixed\\nCannot set prototype of \\`$state\\` object\\nhttps://svelte.dev/e/state_prototype_fixed`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/state_prototype_fixed`);\n\t}\n}\n\n/**\n * Reading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state\n * @returns {never}\n */\nexport function state_unsafe_local_read() {\n\tif (DEV) {\n\t\tconst error = new Error(`state_unsafe_local_read\\nReading state that was created inside the same derived is forbidden. Consider using \\`untrack\\` to read locally created state\\nhttps://svelte.dev/e/state_unsafe_local_read`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/state_unsafe_local_read`);\n\t}\n}\n\n/**\n * Updating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\n * @returns {never}\n */\nexport function state_unsafe_mutation() {\n\tif (DEV) {\n\t\tconst error = new Error(`state_unsafe_mutation\\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without \\`$state\\`\\nhttps://svelte.dev/e/state_unsafe_mutation`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/state_unsafe_mutation`);\n\t}\n}","export let legacy_mode_flag = false;\nexport let tracing_mode_flag = false;\n\nexport function enable_legacy_mode_flag() {\n\tlegacy_mode_flag = true;\n}\n\nexport function enable_tracing_mode_flag() {\n\ttracing_mode_flag = true;\n}\n","export const EACH_ITEM_REACTIVE = 1;\nexport const EACH_INDEX_REACTIVE = 1 << 1;\n/** See EachBlock interface metadata.is_controlled for an explanation what this is */\nexport const EACH_IS_CONTROLLED = 1 << 2;\nexport const EACH_IS_ANIMATED = 1 << 3;\nexport const EACH_ITEM_IMMUTABLE = 1 << 4;\n\nexport const PROPS_IS_IMMUTABLE = 1;\nexport const PROPS_IS_RUNES = 1 << 1;\nexport const PROPS_IS_UPDATED = 1 << 2;\nexport const PROPS_IS_BINDABLE = 1 << 3;\nexport const PROPS_IS_LAZY_INITIAL = 1 << 4;\n\nexport const TRANSITION_IN = 1;\nexport const TRANSITION_OUT = 1 << 1;\nexport const TRANSITION_GLOBAL = 1 << 2;\n\nexport const TEMPLATE_FRAGMENT = 1;\nexport const TEMPLATE_USE_IMPORT_NODE = 1 << 1;\n\nexport const HYDRATION_START = '[';\n/** used to indicate that an `{:else}...` block was rendered */\nexport const HYDRATION_START_ELSE = '[!';\nexport const HYDRATION_END = ']';\nexport const HYDRATION_ERROR = {};\n\nexport const ELEMENT_IS_NAMESPACED = 1;\nexport const ELEMENT_PRESERVE_ATTRIBUTE_CASE = 1 << 1;\n\nexport const UNINITIALIZED = Symbol();\n\n// Dev-time component properties\nexport const FILENAME = Symbol('filename');\nexport const HMR = Symbol('hmr');\n\nexport const NAMESPACE_SVG = 'http://www.w3.org/2000/svg';\nexport const NAMESPACE_MATHML = 'http://www.w3.org/1998/Math/MathML';\n\n// we use a list of ignorable runtime warnings because not every runtime warning\n// can be ignored and we want to keep the validation for svelte-ignore in place\nexport const IGNORABLE_RUNTIME_WARNINGS = /** @type {const} */ ([\n\t'state_snapshot_uncloneable',\n\t'binding_property_non_reactive',\n\t'hydration_attribute_changed',\n\t'hydration_html_changed',\n\t'ownership_invalid_binding',\n\t'ownership_invalid_mutation'\n]);\n\n/**\n * Whitespace inside one of these elements will not result in\n * a whitespace node being created in any circumstances. (This\n * list is almost certainly very incomplete)\n * TODO this is currently unused\n */\nexport const ELEMENTS_WITHOUT_TEXT = ['audio', 'datalist', 'dl', 'optgroup', 'select', 'video'];\n","/* This file is generated by scripts/process-messages/index.js. Do not edit! */\n\nimport { DEV } from 'esm-env';\n\n/**\n * Cannot use `{@render children(...)}` if the parent component uses `let:` directives. Consider using a named snippet instead\n * @returns {never}\n */\nexport function invalid_default_snippet() {\n\tif (DEV) {\n\t\tconst error = new Error(`invalid_default_snippet\\nCannot use \\`{@render children(...)}\\` if the parent component uses \\`let:\\` directives. Consider using a named snippet instead\\nhttps://svelte.dev/e/invalid_default_snippet`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/invalid_default_snippet`);\n\t}\n}\n\n/**\n * `%name%(...)` can only be used during component initialisation\n * @param {string} name\n * @returns {never}\n */\nexport function lifecycle_outside_component(name) {\n\tif (DEV) {\n\t\tconst error = new Error(`lifecycle_outside_component\\n\\`${name}(...)\\` can only be used during component initialisation\\nhttps://svelte.dev/e/lifecycle_outside_component`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/lifecycle_outside_component`);\n\t}\n}\n\n/**\n * `%name%` is not a store with a `subscribe` method\n * @param {string} name\n * @returns {never}\n */\nexport function store_invalid_shape(name) {\n\tif (DEV) {\n\t\tconst error = new Error(`store_invalid_shape\\n\\`${name}\\` is not a store with a \\`subscribe\\` method\\nhttps://svelte.dev/e/store_invalid_shape`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/store_invalid_shape`);\n\t}\n}\n\n/**\n * The `this` prop on `<svelte:element>` must be a string, if defined\n * @returns {never}\n */\nexport function svelte_element_invalid_this_value() {\n\tif (DEV) {\n\t\tconst error = new Error(`svelte_element_invalid_this_value\\nThe \\`this\\` prop on \\`<svelte:element>\\` must be a string, if defined\\nhttps://svelte.dev/e/svelte_element_invalid_this_value`);\n\n\t\terror.name = 'Svelte error';\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/svelte_element_invalid_this_value`);\n\t}\n}","/** @import { ComponentContext } from '#client' */\n\nimport { DEV } from 'esm-env';\nimport { add_owner } from './dev/ownership.js';\nimport { lifecycle_outside_component } from '../shared/errors.js';\nimport { source } from './reactivity/sources.js';\nimport {\n\tactive_effect,\n\tactive_reaction,\n\tset_active_effect,\n\tset_active_reaction,\n\tuntrack\n} from './runtime.js';\nimport { effect } from './reactivity/effects.js';\nimport { legacy_mode_flag } from '../flags/index.js';\n\n/** @type {ComponentContext | null} */\nexport let component_context = null;\n\n/** @param {ComponentContext | null} context */\nexport function set_component_context(context) {\n\tcomponent_context = context;\n}\n\n/**\n * The current component function. Different from current component context:\n * ```html\n * <!-- App.svelte -->\n * <Foo>\n *   <Bar /> <!-- context == Foo.svelte, function == App.svelte -->\n * </Foo>\n * ```\n * @type {ComponentContext['function']}\n */\nexport let dev_current_component_function = null;\n\n/** @param {ComponentContext['function']} fn */\nexport function set_dev_current_component_function(fn) {\n\tdev_current_component_function = fn;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\tconst context_map = get_or_init_context_map('getContext');\n\tconst result = /** @type {T} */ (context_map.get(key));\n\treturn result;\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tconst context_map = get_or_init_context_map('setContext');\n\n\tif (DEV) {\n\t\t// When state is put into context, we treat as if it's global from now on.\n\t\t// We do for performance reasons (it's for example very expensive to call\n\t\t// getContext on a big object many times when part of a list component)\n\t\t// and danger of false positives.\n\t\tuntrack(() => add_owner(context, null, true));\n\t}\n\n\tcontext_map.set(key, context);\n\treturn context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\tconst context_map = get_or_init_context_map('hasContext');\n\treturn context_map.has(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\tconst context_map = get_or_init_context_map('getAllContexts');\n\treturn /** @type {T} */ (context_map);\n}\n\n/**\n * @param {Record<string, unknown>} props\n * @param {any} runes\n * @param {Function} [fn]\n * @returns {void}\n */\nexport function push(props, runes = false, fn) {\n\tcomponent_context = {\n\t\tp: component_context,\n\t\tc: null,\n\t\te: null,\n\t\tm: false,\n\t\ts: props,\n\t\tx: null,\n\t\tl: null\n\t};\n\n\tif (legacy_mode_flag && !runes) {\n\t\tcomponent_context.l = {\n\t\t\ts: null,\n\t\t\tu: null,\n\t\t\tr1: [],\n\t\t\tr2: source(false)\n\t\t};\n\t}\n\n\tif (DEV) {\n\t\t// component function\n\t\tcomponent_context.function = fn;\n\t\tdev_current_component_function = fn;\n\t}\n}\n\n/**\n * @template {Record<string, any>} T\n * @param {T} [component]\n * @returns {T}\n */\nexport function pop(component) {\n\tconst context_stack_item = component_context;\n\tif (context_stack_item !== null) {\n\t\tif (component !== undefined) {\n\t\t\tcontext_stack_item.x = component;\n\t\t}\n\t\tconst component_effects = context_stack_item.e;\n\t\tif (component_effects !== null) {\n\t\t\tvar previous_effect = active_effect;\n\t\t\tvar previous_reaction = active_reaction;\n\t\t\tcontext_stack_item.e = null;\n\t\t\ttry {\n\t\t\t\tfor (var i = 0; i < component_effects.length; i++) {\n\t\t\t\t\tvar component_effect = component_effects[i];\n\t\t\t\t\tset_active_effect(component_effect.effect);\n\t\t\t\t\tset_active_reaction(component_effect.reaction);\n\t\t\t\t\teffect(component_effect.fn);\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tset_active_effect(previous_effect);\n\t\t\t\tset_active_reaction(previous_reaction);\n\t\t\t}\n\t\t}\n\t\tcomponent_context = context_stack_item.p;\n\t\tif (DEV) {\n\t\t\tdev_current_component_function = context_stack_item.p?.function ?? null;\n\t\t}\n\t\tcontext_stack_item.m = true;\n\t}\n\t// Micro-optimization: Don't set .a above to the empty object\n\t// so it can be garbage-collected when the return here is unused\n\treturn component || /** @type {T} */ ({});\n}\n\n/** @returns {boolean} */\nexport function is_runes() {\n\treturn !legacy_mode_flag || (component_context !== null && component_context.l === null);\n}\n\n/**\n * @param {string} name\n * @returns {Map<unknown, unknown>}\n */\nfunction get_or_init_context_map(name) {\n\tif (component_context === null) {\n\t\tlifecycle_outside_component(name);\n\t}\n\n\treturn (component_context.c ??= new Map(get_parent_context(component_context) || undefined));\n}\n\n/**\n * @param {ComponentContext} component_context\n * @returns {Map<unknown, unknown> | null}\n */\nfunction get_parent_context(component_context) {\n\tlet parent = component_context.p;\n\twhile (parent !== null) {\n\t\tconst context_map = parent.c;\n\t\tif (context_map !== null) {\n\t\t\treturn context_map;\n\t\t}\n\t\tparent = parent.p;\n\t}\n\treturn null;\n}\n","/** @import { Derived, Effect, Reaction, Source, Value } from '#client' */\nimport { DEV } from 'esm-env';\nimport {\n\tactive_reaction,\n\tactive_effect,\n\tuntracked_writes,\n\tget,\n\tschedule_effect,\n\tset_untracked_writes,\n\tset_signal_status,\n\tuntrack,\n\tincrement_write_version,\n\tupdate_effect,\n\tderived_sources,\n\tset_derived_sources,\n\tcheck_dirtiness,\n\tuntracking\n} from '../runtime.js';\nimport { equals, safe_equals } from './equality.js';\nimport {\n\tCLEAN,\n\tDERIVED,\n\tDIRTY,\n\tBRANCH_EFFECT,\n\tINSPECT_EFFECT,\n\tUNOWNED,\n\tMAYBE_DIRTY,\n\tBLOCK_EFFECT,\n\tROOT_EFFECT\n} from '../constants.js';\nimport * as e from '../errors.js';\nimport { legacy_mode_flag, tracing_mode_flag } from '../../flags/index.js';\nimport { get_stack } from '../dev/tracing.js';\nimport { component_context, is_runes } from '../context.js';\n\nexport let inspect_effects = new Set();\n\n/**\n * @param {Set<any>} v\n */\nexport function set_inspect_effects(v) {\n\tinspect_effects = v;\n}\n\n/**\n * @template V\n * @param {V} v\n * @param {Error | null} [stack]\n * @returns {Source<V>}\n */\nexport function source(v, stack) {\n\t/** @type {Value} */\n\tvar signal = {\n\t\tf: 0, // TODO ideally we could skip this altogether, but it causes type errors\n\t\tv,\n\t\treactions: null,\n\t\tequals,\n\t\trv: 0,\n\t\twv: 0\n\t};\n\n\tif (DEV && tracing_mode_flag) {\n\t\tsignal.created = stack ?? get_stack('CreatedAt');\n\t\tsignal.debug = null;\n\t}\n\n\treturn signal;\n}\n\n/**\n * @template V\n * @param {V} v\n */\nexport function state(v) {\n\treturn push_derived_source(source(v));\n}\n\n/**\n * @template V\n * @param {V} initial_value\n * @param {boolean} [immutable]\n * @returns {Source<V>}\n */\n/*#__NO_SIDE_EFFECTS__*/\nexport function mutable_source(initial_value, immutable = false) {\n\tconst s = source(initial_value);\n\tif (!immutable) {\n\t\ts.equals = safe_equals;\n\t}\n\n\t// bind the signal to the component context, in case we need to\n\t// track updates to trigger beforeUpdate/afterUpdate callbacks\n\tif (legacy_mode_flag && component_context !== null && component_context.l !== null) {\n\t\t(component_context.l.s ??= []).push(s);\n\t}\n\n\treturn s;\n}\n\n/**\n * @template V\n * @param {V} v\n * @param {boolean} [immutable]\n * @returns {Source<V>}\n */\nexport function mutable_state(v, immutable = false) {\n\treturn push_derived_source(mutable_source(v, immutable));\n}\n\n/**\n * @template V\n * @param {Source<V>} source\n */\n/*#__NO_SIDE_EFFECTS__*/\nfunction push_derived_source(source) {\n\tif (active_reaction !== null && !untracking && (active_reaction.f & DERIVED) !== 0) {\n\t\tif (derived_sources === null) {\n\t\t\tset_derived_sources([source]);\n\t\t} else {\n\t\t\tderived_sources.push(source);\n\t\t}\n\t}\n\n\treturn source;\n}\n\n/**\n * @template V\n * @param {Value<V>} source\n * @param {V} value\n */\nexport function mutate(source, value) {\n\tset(\n\t\tsource,\n\t\tuntrack(() => get(source))\n\t);\n\treturn value;\n}\n\n/**\n * @template V\n * @param {Source<V>} source\n * @param {V} value\n * @returns {V}\n */\nexport function set(source, value) {\n\tif (\n\t\tactive_reaction !== null &&\n\t\t!untracking &&\n\t\tis_runes() &&\n\t\t(active_reaction.f & (DERIVED | BLOCK_EFFECT)) !== 0 &&\n\t\t// If the source was created locally within the current derived, then\n\t\t// we allow the mutation.\n\t\t(derived_sources === null || !derived_sources.includes(source))\n\t) {\n\t\te.state_unsafe_mutation();\n\t}\n\n\treturn internal_set(source, value);\n}\n\n/**\n * @template V\n * @param {Source<V>} source\n * @param {V} value\n * @returns {V}\n */\nexport function internal_set(source, value) {\n\tif (!source.equals(value)) {\n\t\tvar old_value = source.v;\n\t\tsource.v = value;\n\t\tsource.wv = increment_write_version();\n\n\t\tif (DEV && tracing_mode_flag) {\n\t\t\tsource.updated = get_stack('UpdatedAt');\n\t\t\tif (active_effect != null) {\n\t\t\t\tsource.trace_need_increase = true;\n\t\t\t\tsource.trace_v ??= old_value;\n\t\t\t}\n\t\t}\n\n\t\tmark_reactions(source, DIRTY);\n\n\t\t// It's possible that the current reaction might not have up-to-date dependencies\n\t\t// whilst it's actively running. So in the case of ensuring it registers the reaction\n\t\t// properly for itself, we need to ensure the current effect actually gets\n\t\t// scheduled. i.e: `$effect(() => x++)`\n\t\tif (\n\t\t\tis_runes() &&\n\t\t\tactive_effect !== null &&\n\t\t\t(active_effect.f & CLEAN) !== 0 &&\n\t\t\t(active_effect.f & (BRANCH_EFFECT | ROOT_EFFECT)) === 0\n\t\t) {\n\t\t\tif (untracked_writes === null) {\n\t\t\t\tset_untracked_writes([source]);\n\t\t\t} else {\n\t\t\t\tuntracked_writes.push(source);\n\t\t\t}\n\t\t}\n\n\t\tif (DEV && inspect_effects.size > 0) {\n\t\t\tconst inspects = Array.from(inspect_effects);\n\n\t\t\tfor (const effect of inspects) {\n\t\t\t\t// Mark clean inspect-effects as maybe dirty and then check their dirtiness\n\t\t\t\t// instead of just updating the effects - this way we avoid overfiring.\n\t\t\t\tif ((effect.f & CLEAN) !== 0) {\n\t\t\t\t\tset_signal_status(effect, MAYBE_DIRTY);\n\t\t\t\t}\n\t\t\t\tif (check_dirtiness(effect)) {\n\t\t\t\t\tupdate_effect(effect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinspect_effects.clear();\n\t\t}\n\t}\n\n\treturn value;\n}\n\n/**\n * @template {number | bigint} T\n * @param {Source<T>} source\n * @param {1 | -1} [d]\n * @returns {T}\n */\nexport function update(source, d = 1) {\n\tvar value = get(source);\n\tvar result = d === 1 ? value++ : value--;\n\n\tset(source, value);\n\n\t// @ts-expect-error\n\treturn result;\n}\n\n/**\n * @template {number | bigint} T\n * @param {Source<T>} source\n * @param {1 | -1} [d]\n * @returns {T}\n */\nexport function update_pre(source, d = 1) {\n\tvar value = get(source);\n\n\t// @ts-expect-error\n\treturn set(source, d === 1 ? ++value : --value);\n}\n\n/**\n * @param {Value} signal\n * @param {number} status should be DIRTY or MAYBE_DIRTY\n * @returns {void}\n */\nfunction mark_reactions(signal, status) {\n\tvar reactions = signal.reactions;\n\tif (reactions === null) return;\n\n\tvar runes = is_runes();\n\tvar length = reactions.length;\n\n\tfor (var i = 0; i < length; i++) {\n\t\tvar reaction = reactions[i];\n\t\tvar flags = reaction.f;\n\n\t\t// Skip any effects that are already dirty\n\t\tif ((flags & DIRTY) !== 0) continue;\n\n\t\t// In legacy mode, skip the current effect to prevent infinite loops\n\t\tif (!runes && reaction === active_effect) continue;\n\n\t\t// Inspect effects need to run immediately, so that the stack trace makes sense\n\t\tif (DEV && (flags & INSPECT_EFFECT) !== 0) {\n\t\t\tinspect_effects.add(reaction);\n\t\t\tcontinue;\n\t\t}\n\n\t\tset_signal_status(reaction, status);\n\n\t\t// If the signal a) was previously clean or b) is an unowned derived, then mark it\n\t\tif ((flags & (CLEAN | UNOWNED)) !== 0) {\n\t\t\tif ((flags & DERIVED) !== 0) {\n\t\t\t\tmark_reactions(/** @type {Derived} */ (reaction), MAYBE_DIRTY);\n\t\t\t} else {\n\t\t\t\tschedule_effect(/** @type {Effect} */ (reaction));\n\t\t\t}\n\t\t}\n\t}\n}\n","/** @import { Derived, Effect } from '#client' */\nimport { DEV } from 'esm-env';\nimport { CLEAN, DERIVED, DIRTY, EFFECT_HAS_DERIVED, MAYBE_DIRTY, UNOWNED } from '../constants.js';\nimport {\n\tactive_reaction,\n\tactive_effect,\n\tset_signal_status,\n\tskip_reaction,\n\tupdate_reaction,\n\tincrement_write_version,\n\tset_active_effect\n} from '../runtime.js';\nimport { equals, safe_equals } from './equality.js';\nimport * as e from '../errors.js';\nimport { destroy_effect } from './effects.js';\nimport { inspect_effects, set_inspect_effects } from './sources.js';\nimport { get_stack } from '../dev/tracing.js';\nimport { tracing_mode_flag } from '../../flags/index.js';\nimport { component_context } from '../context.js';\n\n/**\n * @template V\n * @param {() => V} fn\n * @returns {Derived<V>}\n */\n/*#__NO_SIDE_EFFECTS__*/\nexport function derived(fn) {\n\tvar flags = DERIVED | DIRTY;\n\tvar parent_derived =\n\t\tactive_reaction !== null && (active_reaction.f & DERIVED) !== 0\n\t\t\t? /** @type {Derived} */ (active_reaction)\n\t\t\t: null;\n\n\tif (active_effect === null || (parent_derived !== null && (parent_derived.f & UNOWNED) !== 0)) {\n\t\tflags |= UNOWNED;\n\t} else {\n\t\t// Since deriveds are evaluated lazily, any effects created inside them are\n\t\t// created too late to ensure that the parent effect is added to the tree\n\t\tactive_effect.f |= EFFECT_HAS_DERIVED;\n\t}\n\n\t/** @type {Derived<V>} */\n\tconst signal = {\n\t\tctx: component_context,\n\t\tdeps: null,\n\t\teffects: null,\n\t\tequals,\n\t\tf: flags,\n\t\tfn,\n\t\treactions: null,\n\t\trv: 0,\n\t\tv: /** @type {V} */ (null),\n\t\twv: 0,\n\t\tparent: parent_derived ?? active_effect\n\t};\n\n\tif (DEV && tracing_mode_flag) {\n\t\tsignal.created = get_stack('CreatedAt');\n\t}\n\n\treturn signal;\n}\n\n/**\n * @template V\n * @param {() => V} fn\n * @returns {Derived<V>}\n */\n/*#__NO_SIDE_EFFECTS__*/\nexport function derived_safe_equal(fn) {\n\tconst signal = derived(fn);\n\tsignal.equals = safe_equals;\n\treturn signal;\n}\n\n/**\n * @param {Derived} derived\n * @returns {void}\n */\nexport function destroy_derived_effects(derived) {\n\tvar effects = derived.effects;\n\n\tif (effects !== null) {\n\t\tderived.effects = null;\n\n\t\tfor (var i = 0; i < effects.length; i += 1) {\n\t\t\tdestroy_effect(/** @type {Effect} */ (effects[i]));\n\t\t}\n\t}\n}\n\n/**\n * The currently updating deriveds, used to detect infinite recursion\n * in dev mode and provide a nicer error than 'too much recursion'\n * @type {Derived[]}\n */\nlet stack = [];\n\n/**\n * @param {Derived} derived\n * @returns {Effect | null}\n */\nfunction get_derived_parent_effect(derived) {\n\tvar parent = derived.parent;\n\twhile (parent !== null) {\n\t\tif ((parent.f & DERIVED) === 0) {\n\t\t\treturn /** @type {Effect} */ (parent);\n\t\t}\n\t\tparent = parent.parent;\n\t}\n\treturn null;\n}\n\n/**\n * @template T\n * @param {Derived} derived\n * @returns {T}\n */\nfunction execute_derived(derived) {\n\tvar value;\n\tvar prev_active_effect = active_effect;\n\n\tset_active_effect(get_derived_parent_effect(derived));\n\n\tif (DEV) {\n\t\tlet prev_inspect_effects = inspect_effects;\n\t\tset_inspect_effects(new Set());\n\t\ttry {\n\t\t\tif (stack.includes(derived)) {\n\t\t\t\te.derived_references_self();\n\t\t\t}\n\n\t\t\tstack.push(derived);\n\n\t\t\tdestroy_derived_effects(derived);\n\t\t\tvalue = update_reaction(derived);\n\t\t} finally {\n\t\t\tset_active_effect(prev_active_effect);\n\t\t\tset_inspect_effects(prev_inspect_effects);\n\t\t\tstack.pop();\n\t\t}\n\t} else {\n\t\ttry {\n\t\t\tdestroy_derived_effects(derived);\n\t\t\tvalue = update_reaction(derived);\n\t\t} finally {\n\t\t\tset_active_effect(prev_active_effect);\n\t\t}\n\t}\n\n\treturn value;\n}\n\n/**\n * @param {Derived} derived\n * @returns {void}\n */\nexport function update_derived(derived) {\n\tvar value = execute_derived(derived);\n\tvar status =\n\t\t(skip_reaction || (derived.f & UNOWNED) !== 0) && derived.deps !== null ? MAYBE_DIRTY : CLEAN;\n\n\tset_signal_status(derived, status);\n\n\tif (!derived.equals(value)) {\n\t\tderived.v = value;\n\t\tderived.wv = increment_write_version();\n\t}\n}\n","/** @import { TemplateNode } from '#client' */\n\nimport {\n\tHYDRATION_END,\n\tHYDRATION_ERROR,\n\tHYDRATION_START,\n\tHYDRATION_START_ELSE\n} from '../../../constants.js';\nimport * as w from '../warnings.js';\nimport { get_next_sibling } from './operations.js';\n\n/**\n * Use this variable to guard everything related to hydration code so it can be treeshaken out\n * if the user doesn't use the `hydrate` method and these code paths are therefore not needed.\n */\nexport let hydrating = false;\n\n/** @param {boolean} value */\nexport function set_hydrating(value) {\n\thydrating = value;\n}\n\n/**\n * The node that is currently being hydrated. This starts out as the first node inside the opening\n * <!--[--> comment, and updates each time a component calls `$.child(...)` or `$.sibling(...)`.\n * When entering a block (e.g. `{#if ...}`), `hydrate_node` is the block opening comment; by the\n * time we leave the block it is the closing comment, which serves as the block's anchor.\n * @type {TemplateNode}\n */\nexport let hydrate_node;\n\n/** @param {TemplateNode} node */\nexport function set_hydrate_node(node) {\n\tif (node === null) {\n\t\tw.hydration_mismatch();\n\t\tthrow HYDRATION_ERROR;\n\t}\n\n\treturn (hydrate_node = node);\n}\n\nexport function hydrate_next() {\n\treturn set_hydrate_node(/** @type {TemplateNode} */ (get_next_sibling(hydrate_node)));\n}\n\n/** @param {TemplateNode} node */\nexport function reset(node) {\n\tif (!hydrating) return;\n\n\t// If the node has remaining siblings, something has gone wrong\n\tif (get_next_sibling(hydrate_node) !== null) {\n\t\tw.hydration_mismatch();\n\t\tthrow HYDRATION_ERROR;\n\t}\n\n\thydrate_node = node;\n}\n\n/**\n * @param {HTMLTemplateElement} template\n */\nexport function hydrate_template(template) {\n\tif (hydrating) {\n\t\t// @ts-expect-error TemplateNode doesn't include DocumentFragment, but it's actually fine\n\t\thydrate_node = template.content;\n\t}\n}\n\nexport function next(count = 1) {\n\tif (hydrating) {\n\t\tvar i = count;\n\t\tvar node = hydrate_node;\n\n\t\twhile (i--) {\n\t\t\tnode = /** @type {TemplateNode} */ (get_next_sibling(node));\n\t\t}\n\n\t\thydrate_node = node;\n\t}\n}\n\n/**\n * Removes all nodes starting at `hydrate_node` up until the next hydration end comment\n */\nexport function remove_nodes() {\n\tvar depth = 0;\n\tvar node = hydrate_node;\n\n\twhile (true) {\n\t\tif (node.nodeType === 8) {\n\t\t\tvar data = /** @type {Comment} */ (node).data;\n\n\t\t\tif (data === HYDRATION_END) {\n\t\t\t\tif (depth === 0) return node;\n\t\t\t\tdepth -= 1;\n\t\t\t} else if (data === HYDRATION_START || data === HYDRATION_START_ELSE) {\n\t\t\t\tdepth += 1;\n\t\t\t}\n\t\t}\n\n\t\tvar next = /** @type {TemplateNode} */ (get_next_sibling(node));\n\t\tnode.remove();\n\t\tnode = next;\n\t}\n}\n","/** @import { ProxyMetadata, Source } from '#client' */\nimport { DEV } from 'esm-env';\nimport { get, active_effect } from './runtime.js';\nimport { component_context } from './context.js';\nimport {\n\tarray_prototype,\n\tget_descriptor,\n\tget_prototype_of,\n\tis_array,\n\tobject_prototype\n} from '../shared/utils.js';\nimport { check_ownership, widen_ownership } from './dev/ownership.js';\nimport { source, set } from './reactivity/sources.js';\nimport { STATE_SYMBOL, STATE_SYMBOL_METADATA } from './constants.js';\nimport { UNINITIALIZED } from '../../constants.js';\nimport * as e from './errors.js';\nimport { get_stack } from './dev/tracing.js';\nimport { tracing_mode_flag } from '../flags/index.js';\n\n/**\n * @template T\n * @param {T} value\n * @param {ProxyMetadata | null} [parent]\n * @param {Source<T>} [prev] dev mode only\n * @returns {T}\n */\nexport function proxy(value, parent = null, prev) {\n\t/** @type {Error | null} */\n\tvar stack = null;\n\tif (DEV && tracing_mode_flag) {\n\t\tstack = get_stack('CreatedAt');\n\t}\n\t// if non-proxyable, or is already a proxy, return `value`\n\tif (typeof value !== 'object' || value === null || STATE_SYMBOL in value) {\n\t\treturn value;\n\t}\n\n\tconst prototype = get_prototype_of(value);\n\n\tif (prototype !== object_prototype && prototype !== array_prototype) {\n\t\treturn value;\n\t}\n\n\t/** @type {Map<any, Source<any>>} */\n\tvar sources = new Map();\n\tvar is_proxied_array = is_array(value);\n\tvar version = source(0);\n\n\tif (is_proxied_array) {\n\t\t// We need to create the length source eagerly to ensure that\n\t\t// mutations to the array are properly synced with our proxy\n\t\tsources.set('length', source(/** @type {any[]} */ (value).length, stack));\n\t}\n\n\t/** @type {ProxyMetadata} */\n\tvar metadata;\n\n\tif (DEV) {\n\t\tmetadata = {\n\t\t\tparent,\n\t\t\towners: null\n\t\t};\n\n\t\tif (prev) {\n\t\t\t// Reuse owners from previous state; necessary because reassignment is not guaranteed to have correct component context.\n\t\t\t// If no previous proxy exists we play it safe and assume ownerless state\n\t\t\t// @ts-expect-error\n\t\t\tconst prev_owners = prev.v?.[STATE_SYMBOL_METADATA]?.owners;\n\t\t\tmetadata.owners = prev_owners ? new Set(prev_owners) : null;\n\t\t} else {\n\t\t\tmetadata.owners =\n\t\t\t\tparent === null\n\t\t\t\t\t? component_context !== null\n\t\t\t\t\t\t? new Set([component_context.function])\n\t\t\t\t\t\t: null\n\t\t\t\t\t: new Set();\n\t\t}\n\t}\n\n\treturn new Proxy(/** @type {any} */ (value), {\n\t\tdefineProperty(_, prop, descriptor) {\n\t\t\tif (\n\t\t\t\t!('value' in descriptor) ||\n\t\t\t\tdescriptor.configurable === false ||\n\t\t\t\tdescriptor.enumerable === false ||\n\t\t\t\tdescriptor.writable === false\n\t\t\t) {\n\t\t\t\t// we disallow non-basic descriptors, because unless they are applied to the\n\t\t\t\t// target object — which we avoid, so that state can be forked — we will run\n\t\t\t\t// afoul of the various invariants\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/getOwnPropertyDescriptor#invariants\n\t\t\t\te.state_descriptors_fixed();\n\t\t\t}\n\n\t\t\tvar s = sources.get(prop);\n\n\t\t\tif (s === undefined) {\n\t\t\t\ts = source(descriptor.value, stack);\n\t\t\t\tsources.set(prop, s);\n\t\t\t} else {\n\t\t\t\tset(s, proxy(descriptor.value, metadata));\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\tdeleteProperty(target, prop) {\n\t\t\tvar s = sources.get(prop);\n\n\t\t\tif (s === undefined) {\n\t\t\t\tif (prop in target) {\n\t\t\t\t\tsources.set(prop, source(UNINITIALIZED, stack));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// When working with arrays, we need to also ensure we update the length when removing\n\t\t\t\t// an indexed property\n\t\t\t\tif (is_proxied_array && typeof prop === 'string') {\n\t\t\t\t\tvar ls = /** @type {Source<number>} */ (sources.get('length'));\n\t\t\t\t\tvar n = Number(prop);\n\n\t\t\t\t\tif (Number.isInteger(n) && n < ls.v) {\n\t\t\t\t\t\tset(ls, n);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tset(s, UNINITIALIZED);\n\t\t\t\tupdate_version(version);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\tget(target, prop, receiver) {\n\t\t\tif (DEV && prop === STATE_SYMBOL_METADATA) {\n\t\t\t\treturn metadata;\n\t\t\t}\n\n\t\t\tif (prop === STATE_SYMBOL) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tvar s = sources.get(prop);\n\t\t\tvar exists = prop in target;\n\n\t\t\t// create a source, but only if it's an own property and not a prototype property\n\t\t\tif (s === undefined && (!exists || get_descriptor(target, prop)?.writable)) {\n\t\t\t\ts = source(proxy(exists ? target[prop] : UNINITIALIZED, metadata), stack);\n\t\t\t\tsources.set(prop, s);\n\t\t\t}\n\n\t\t\tif (s !== undefined) {\n\t\t\t\tvar v = get(s);\n\n\t\t\t\t// In case of something like `foo = bar.map(...)`, foo would have ownership\n\t\t\t\t// of the array itself, while the individual items would have ownership\n\t\t\t\t// of the component that created bar. That means if we later do `foo[0].baz = 42`,\n\t\t\t\t// we could get a false-positive ownership violation, since the two proxies\n\t\t\t\t// are not connected to each other via the parent metadata relationship.\n\t\t\t\t// For this reason, we need to widen the ownership of the children\n\t\t\t\t// upon access when we detect they are not connected.\n\t\t\t\tif (DEV) {\n\t\t\t\t\t/** @type {ProxyMetadata | undefined} */\n\t\t\t\t\tvar prop_metadata = v?.[STATE_SYMBOL_METADATA];\n\t\t\t\t\tif (prop_metadata && prop_metadata?.parent !== metadata) {\n\t\t\t\t\t\twiden_ownership(metadata, prop_metadata);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn v === UNINITIALIZED ? undefined : v;\n\t\t\t}\n\n\t\t\treturn Reflect.get(target, prop, receiver);\n\t\t},\n\n\t\tgetOwnPropertyDescriptor(target, prop) {\n\t\t\tvar descriptor = Reflect.getOwnPropertyDescriptor(target, prop);\n\n\t\t\tif (descriptor && 'value' in descriptor) {\n\t\t\t\tvar s = sources.get(prop);\n\t\t\t\tif (s) descriptor.value = get(s);\n\t\t\t} else if (descriptor === undefined) {\n\t\t\t\tvar source = sources.get(prop);\n\t\t\t\tvar value = source?.v;\n\n\t\t\t\tif (source !== undefined && value !== UNINITIALIZED) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\twritable: true\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn descriptor;\n\t\t},\n\n\t\thas(target, prop) {\n\t\t\tif (DEV && prop === STATE_SYMBOL_METADATA) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (prop === STATE_SYMBOL) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar s = sources.get(prop);\n\t\t\tvar has = (s !== undefined && s.v !== UNINITIALIZED) || Reflect.has(target, prop);\n\n\t\t\tif (\n\t\t\t\ts !== undefined ||\n\t\t\t\t(active_effect !== null && (!has || get_descriptor(target, prop)?.writable))\n\t\t\t) {\n\t\t\t\tif (s === undefined) {\n\t\t\t\t\ts = source(has ? proxy(target[prop], metadata) : UNINITIALIZED, stack);\n\t\t\t\t\tsources.set(prop, s);\n\t\t\t\t}\n\n\t\t\t\tvar value = get(s);\n\t\t\t\tif (value === UNINITIALIZED) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn has;\n\t\t},\n\n\t\tset(target, prop, value, receiver) {\n\t\t\tvar s = sources.get(prop);\n\t\t\tvar has = prop in target;\n\n\t\t\t// variable.length = value -> clear all signals with index >= value\n\t\t\tif (is_proxied_array && prop === 'length') {\n\t\t\t\tfor (var i = value; i < /** @type {Source<number>} */ (s).v; i += 1) {\n\t\t\t\t\tvar other_s = sources.get(i + '');\n\t\t\t\t\tif (other_s !== undefined) {\n\t\t\t\t\t\tset(other_s, UNINITIALIZED);\n\t\t\t\t\t} else if (i in target) {\n\t\t\t\t\t\t// If the item exists in the original, we need to create a uninitialized source,\n\t\t\t\t\t\t// else a later read of the property would result in a source being created with\n\t\t\t\t\t\t// the value of the original item at that index.\n\t\t\t\t\t\tother_s = source(UNINITIALIZED, stack);\n\t\t\t\t\t\tsources.set(i + '', other_s);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we haven't yet created a source for this property, we need to ensure\n\t\t\t// we do so otherwise if we read it later, then the write won't be tracked and\n\t\t\t// the heuristics of effects will be different vs if we had read the proxied\n\t\t\t// object property before writing to that property.\n\t\t\tif (s === undefined) {\n\t\t\t\tif (!has || get_descriptor(target, prop)?.writable) {\n\t\t\t\t\ts = source(undefined, stack);\n\t\t\t\t\tset(s, proxy(value, metadata));\n\t\t\t\t\tsources.set(prop, s);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thas = s.v !== UNINITIALIZED;\n\t\t\t\tset(s, proxy(value, metadata));\n\t\t\t}\n\n\t\t\tif (DEV) {\n\t\t\t\t/** @type {ProxyMetadata | undefined} */\n\t\t\t\tvar prop_metadata = value?.[STATE_SYMBOL_METADATA];\n\t\t\t\tif (prop_metadata && prop_metadata?.parent !== metadata) {\n\t\t\t\t\twiden_ownership(metadata, prop_metadata);\n\t\t\t\t}\n\t\t\t\tcheck_ownership(metadata);\n\t\t\t}\n\n\t\t\tvar descriptor = Reflect.getOwnPropertyDescriptor(target, prop);\n\n\t\t\t// Set the new value before updating any signals so that any listeners get the new value\n\t\t\tif (descriptor?.set) {\n\t\t\t\tdescriptor.set.call(receiver, value);\n\t\t\t}\n\n\t\t\tif (!has) {\n\t\t\t\t// If we have mutated an array directly, we might need to\n\t\t\t\t// signal that length has also changed. Do it before updating metadata\n\t\t\t\t// to ensure that iterating over the array as a result of a metadata update\n\t\t\t\t// will not cause the length to be out of sync.\n\t\t\t\tif (is_proxied_array && typeof prop === 'string') {\n\t\t\t\t\tvar ls = /** @type {Source<number>} */ (sources.get('length'));\n\t\t\t\t\tvar n = Number(prop);\n\n\t\t\t\t\tif (Number.isInteger(n) && n >= ls.v) {\n\t\t\t\t\t\tset(ls, n + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdate_version(version);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\townKeys(target) {\n\t\t\tget(version);\n\n\t\t\tvar own_keys = Reflect.ownKeys(target).filter((key) => {\n\t\t\t\tvar source = sources.get(key);\n\t\t\t\treturn source === undefined || source.v !== UNINITIALIZED;\n\t\t\t});\n\n\t\t\tfor (var [key, source] of sources) {\n\t\t\t\tif (source.v !== UNINITIALIZED && !(key in target)) {\n\t\t\t\t\town_keys.push(key);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn own_keys;\n\t\t},\n\n\t\tsetPrototypeOf() {\n\t\t\te.state_prototype_fixed();\n\t\t}\n\t});\n}\n\n/**\n * @param {Source<number>} signal\n * @param {1 | -1} [d]\n */\nfunction update_version(signal, d = 1) {\n\tset(signal, signal.v + d);\n}\n\n/**\n * @param {any} value\n */\nexport function get_proxied_value(value) {\n\tif (value !== null && typeof value === 'object' && STATE_SYMBOL in value) {\n\t\treturn value[STATE_SYMBOL];\n\t}\n\n\treturn value;\n}\n\n/**\n * @param {any} a\n * @param {any} b\n */\nexport function is(a, b) {\n\treturn Object.is(get_proxied_value(a), get_proxied_value(b));\n}\n","/** @import { TemplateNode } from '#client' */\nimport { hydrate_node, hydrating, set_hydrate_node } from './hydration.js';\nimport { DEV } from 'esm-env';\nimport { init_array_prototype_warnings } from '../dev/equality.js';\nimport { get_descriptor } from '../../shared/utils.js';\n\n// export these for reference in the compiled code, making global name deduplication unnecessary\n/** @type {Window} */\nexport var $window;\n\n/** @type {Document} */\nexport var $document;\n\n/** @type {boolean} */\nexport var is_firefox;\n\n/** @type {() => Node | null} */\nvar first_child_getter;\n/** @type {() => Node | null} */\nvar next_sibling_getter;\n\n/**\n * Initialize these lazily to avoid issues when using the runtime in a server context\n * where these globals are not available while avoiding a separate server entry point\n */\nexport function init_operations() {\n\tif ($window !== undefined) {\n\t\treturn;\n\t}\n\n\t$window = window;\n\t$document = document;\n\tis_firefox = /Firefox/.test(navigator.userAgent);\n\n\tvar element_prototype = Element.prototype;\n\tvar node_prototype = Node.prototype;\n\n\t// @ts-ignore\n\tfirst_child_getter = get_descriptor(node_prototype, 'firstChild').get;\n\t// @ts-ignore\n\tnext_sibling_getter = get_descriptor(node_prototype, 'nextSibling').get;\n\n\t// the following assignments improve perf of lookups on DOM nodes\n\t// @ts-expect-error\n\telement_prototype.__click = undefined;\n\t// @ts-expect-error\n\telement_prototype.__className = undefined;\n\t// @ts-expect-error\n\telement_prototype.__attributes = null;\n\t// @ts-expect-error\n\telement_prototype.__styles = null;\n\t// @ts-expect-error\n\telement_prototype.__e = undefined;\n\n\t// @ts-expect-error\n\tText.prototype.__t = undefined;\n\n\tif (DEV) {\n\t\t// @ts-expect-error\n\t\telement_prototype.__svelte_meta = null;\n\n\t\tinit_array_prototype_warnings();\n\t}\n}\n\n/**\n * @param {string} value\n * @returns {Text}\n */\nexport function create_text(value = '') {\n\treturn document.createTextNode(value);\n}\n\n/**\n * @template {Node} N\n * @param {N} node\n * @returns {Node | null}\n */\n/*@__NO_SIDE_EFFECTS__*/\nexport function get_first_child(node) {\n\treturn first_child_getter.call(node);\n}\n\n/**\n * @template {Node} N\n * @param {N} node\n * @returns {Node | null}\n */\n/*@__NO_SIDE_EFFECTS__*/\nexport function get_next_sibling(node) {\n\treturn next_sibling_getter.call(node);\n}\n\n/**\n * Don't mark this as side-effect-free, hydration needs to walk all nodes\n * @template {Node} N\n * @param {N} node\n * @param {boolean} is_text\n * @returns {Node | null}\n */\nexport function child(node, is_text) {\n\tif (!hydrating) {\n\t\treturn get_first_child(node);\n\t}\n\n\tvar child = /** @type {TemplateNode} */ (get_first_child(hydrate_node));\n\n\t// Child can be null if we have an element with a single child, like `<p>{text}</p>`, where `text` is empty\n\tif (child === null) {\n\t\tchild = hydrate_node.appendChild(create_text());\n\t} else if (is_text && child.nodeType !== 3) {\n\t\tvar text = create_text();\n\t\tchild?.before(text);\n\t\tset_hydrate_node(text);\n\t\treturn text;\n\t}\n\n\tset_hydrate_node(child);\n\treturn child;\n}\n\n/**\n * Don't mark this as side-effect-free, hydration needs to walk all nodes\n * @param {DocumentFragment | TemplateNode[]} fragment\n * @param {boolean} is_text\n * @returns {Node | null}\n */\nexport function first_child(fragment, is_text) {\n\tif (!hydrating) {\n\t\t// when not hydrating, `fragment` is a `DocumentFragment` (the result of calling `open_frag`)\n\t\tvar first = /** @type {DocumentFragment} */ (get_first_child(/** @type {Node} */ (fragment)));\n\n\t\t// TODO prevent user comments with the empty string when preserveComments is true\n\t\tif (first instanceof Comment && first.data === '') return get_next_sibling(first);\n\n\t\treturn first;\n\t}\n\n\t// if an {expression} is empty during SSR, there might be no\n\t// text node to hydrate — we must therefore create one\n\tif (is_text && hydrate_node?.nodeType !== 3) {\n\t\tvar text = create_text();\n\n\t\thydrate_node?.before(text);\n\t\tset_hydrate_node(text);\n\t\treturn text;\n\t}\n\n\treturn hydrate_node;\n}\n\n/**\n * Don't mark this as side-effect-free, hydration needs to walk all nodes\n * @param {TemplateNode} node\n * @param {number} count\n * @param {boolean} is_text\n * @returns {Node | null}\n */\nexport function sibling(node, count = 1, is_text = false) {\n\tlet next_sibling = hydrating ? hydrate_node : node;\n\tvar last_sibling;\n\n\twhile (count--) {\n\t\tlast_sibling = next_sibling;\n\t\tnext_sibling = /** @type {TemplateNode} */ (get_next_sibling(next_sibling));\n\t}\n\n\tif (!hydrating) {\n\t\treturn next_sibling;\n\t}\n\n\tvar type = next_sibling?.nodeType;\n\n\t// if a sibling {expression} is empty during SSR, there might be no\n\t// text node to hydrate — we must therefore create one\n\tif (is_text && type !== 3) {\n\t\tvar text = create_text();\n\t\t// If the next sibling is `null` and we're handling text then it's because\n\t\t// the SSR content was empty for the text, so we need to generate a new text\n\t\t// node and insert it after the last sibling\n\t\tif (next_sibling === null) {\n\t\t\tlast_sibling?.after(text);\n\t\t} else {\n\t\t\tnext_sibling.before(text);\n\t\t}\n\t\tset_hydrate_node(text);\n\t\treturn text;\n\t}\n\n\tset_hydrate_node(next_sibling);\n\treturn /** @type {TemplateNode} */ (next_sibling);\n}\n\n/**\n * @template {Node} N\n * @param {N} node\n * @returns {void}\n */\nexport function clear_text_content(node) {\n\tnode.textContent = '';\n}\n","/** @import { ComponentContext, Derived, Effect, Reaction, Signal, Source, Value } from '#client' */\nimport { DEV } from 'esm-env';\nimport { define_property, get_descriptors, get_prototype_of, index_of } from '../shared/utils.js';\nimport {\n\tdestroy_block_effect_children,\n\tdestroy_effect_children,\n\texecute_effect_teardown,\n\tunlink_effect\n} from './reactivity/effects.js';\nimport {\n\tEFFECT,\n\tDIRTY,\n\tMAYBE_DIRTY,\n\tCLEAN,\n\tDERIVED,\n\tUNOWNED,\n\tDESTROYED,\n\tINERT,\n\tBRANCH_EFFECT,\n\tSTATE_SYMBOL,\n\tBLOCK_EFFECT,\n\tROOT_EFFECT,\n\tLEGACY_DERIVED_PROP,\n\tDISCONNECTED,\n\tBOUNDARY_EFFECT\n} from './constants.js';\nimport { flush_tasks } from './dom/task.js';\nimport { internal_set } from './reactivity/sources.js';\nimport { destroy_derived_effects, update_derived } from './reactivity/deriveds.js';\nimport * as e from './errors.js';\nimport { FILENAME } from '../../constants.js';\nimport { tracing_mode_flag } from '../flags/index.js';\nimport { tracing_expressions, get_stack } from './dev/tracing.js';\nimport {\n\tcomponent_context,\n\tdev_current_component_function,\n\tis_runes,\n\tset_component_context,\n\tset_dev_current_component_function\n} from './context.js';\nimport { is_firefox } from './dom/operations.js';\n\n// Used for DEV time error handling\n/** @param {WeakSet<Error>} value */\nconst handled_errors = new WeakSet();\nlet is_throwing_error = false;\n\nlet is_flushing = false;\n\n/** @type {Effect | null} */\nlet last_scheduled_effect = null;\n\nlet is_updating_effect = false;\n\nexport let is_destroying_effect = false;\n\n/** @param {boolean} value */\nexport function set_is_destroying_effect(value) {\n\tis_destroying_effect = value;\n}\n\n// Handle effect queues\n\n/** @type {Effect[]} */\nlet queued_root_effects = [];\n\n/** @type {Effect[]} Stack of effects, dev only */\nlet dev_effect_stack = [];\n// Handle signal reactivity tree dependencies and reactions\n\n/** @type {null | Reaction} */\nexport let active_reaction = null;\n\nexport let untracking = false;\n\n/** @param {null | Reaction} reaction */\nexport function set_active_reaction(reaction) {\n\tactive_reaction = reaction;\n}\n\n/** @type {null | Effect} */\nexport let active_effect = null;\n\n/** @param {null | Effect} effect */\nexport function set_active_effect(effect) {\n\tactive_effect = effect;\n}\n\n/**\n * When sources are created within a derived, we record them so that we can safely allow\n * local mutations to these sources without the side-effect error being invoked unnecessarily.\n * @type {null | Source[]}\n */\nexport let derived_sources = null;\n\n/**\n * @param {Source[] | null} sources\n */\nexport function set_derived_sources(sources) {\n\tderived_sources = sources;\n}\n\n/**\n * The dependencies of the reaction that is currently being executed. In many cases,\n * the dependencies are unchanged between runs, and so this will be `null` unless\n * and until a new dependency is accessed — we track this via `skipped_deps`\n * @type {null | Value[]}\n */\nlet new_deps = null;\n\nlet skipped_deps = 0;\n\n/**\n * Tracks writes that the effect it's executed in doesn't listen to yet,\n * so that the dependency can be added to the effect later on if it then reads it\n * @type {null | Source[]}\n */\nexport let untracked_writes = null;\n\n/** @param {null | Source[]} value */\nexport function set_untracked_writes(value) {\n\tuntracked_writes = value;\n}\n\n/**\n * @type {number} Used by sources and deriveds for handling updates.\n * Version starts from 1 so that unowned deriveds differentiate between a created effect and a run one for tracing\n **/\nlet write_version = 1;\n\n/** @type {number} Used to version each read of a source of derived to avoid duplicating depedencies inside a reaction */\nlet read_version = 0;\n\n// If we are working with a get() chain that has no active container,\n// to prevent memory leaks, we skip adding the reaction.\nexport let skip_reaction = false;\n// Handle collecting all signals which are read during a specific time frame\n/** @type {Set<Value> | null} */\nexport let captured_signals = null;\n\n/** @param {Set<Value> | null} value */\nexport function set_captured_signals(value) {\n\tcaptured_signals = value;\n}\n\nexport function increment_write_version() {\n\treturn ++write_version;\n}\n\n/**\n * Determines whether a derived or effect is dirty.\n * If it is MAYBE_DIRTY, will set the status to CLEAN\n * @param {Reaction} reaction\n * @returns {boolean}\n */\nexport function check_dirtiness(reaction) {\n\tvar flags = reaction.f;\n\n\tif ((flags & DIRTY) !== 0) {\n\t\treturn true;\n\t}\n\n\tif ((flags & MAYBE_DIRTY) !== 0) {\n\t\tvar dependencies = reaction.deps;\n\t\tvar is_unowned = (flags & UNOWNED) !== 0;\n\n\t\tif (dependencies !== null) {\n\t\t\tvar i;\n\t\t\tvar dependency;\n\t\t\tvar is_disconnected = (flags & DISCONNECTED) !== 0;\n\t\t\tvar is_unowned_connected = is_unowned && active_effect !== null && !skip_reaction;\n\t\t\tvar length = dependencies.length;\n\n\t\t\t// If we are working with a disconnected or an unowned signal that is now connected (due to an active effect)\n\t\t\t// then we need to re-connect the reaction to the dependency\n\t\t\tif (is_disconnected || is_unowned_connected) {\n\t\t\t\tvar derived = /** @type {Derived} */ (reaction);\n\t\t\t\tvar parent = derived.parent;\n\n\t\t\t\tfor (i = 0; i < length; i++) {\n\t\t\t\t\tdependency = dependencies[i];\n\n\t\t\t\t\t// We always re-add all reactions (even duplicates) if the derived was\n\t\t\t\t\t// previously disconnected, however we don't if it was unowned as we\n\t\t\t\t\t// de-duplicate dependencies in that case\n\t\t\t\t\tif (is_disconnected || !dependency?.reactions?.includes(derived)) {\n\t\t\t\t\t\t(dependency.reactions ??= []).push(derived);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (is_disconnected) {\n\t\t\t\t\tderived.f ^= DISCONNECTED;\n\t\t\t\t}\n\t\t\t\t// If the unowned derived is now fully connected to the graph again (it's unowned and reconnected, has a parent\n\t\t\t\t// and the parent is not unowned), then we can mark it as connected again, removing the need for the unowned\n\t\t\t\t// flag\n\t\t\t\tif (is_unowned_connected && parent !== null && (parent.f & UNOWNED) === 0) {\n\t\t\t\t\tderived.f ^= UNOWNED;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < length; i++) {\n\t\t\t\tdependency = dependencies[i];\n\n\t\t\t\tif (check_dirtiness(/** @type {Derived} */ (dependency))) {\n\t\t\t\t\tupdate_derived(/** @type {Derived} */ (dependency));\n\t\t\t\t}\n\n\t\t\t\tif (dependency.wv > reaction.wv) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Unowned signals should never be marked as clean unless they\n\t\t// are used within an active_effect without skip_reaction\n\t\tif (!is_unowned || (active_effect !== null && !skip_reaction)) {\n\t\t\tset_signal_status(reaction, CLEAN);\n\t\t}\n\t}\n\n\treturn false;\n}\n\n/**\n * @param {unknown} error\n * @param {Effect} effect\n */\nfunction propagate_error(error, effect) {\n\t/** @type {Effect | null} */\n\tvar current = effect;\n\n\twhile (current !== null) {\n\t\tif ((current.f & BOUNDARY_EFFECT) !== 0) {\n\t\t\ttry {\n\t\t\t\t// @ts-expect-error\n\t\t\t\tcurrent.fn(error);\n\t\t\t\treturn;\n\t\t\t} catch {\n\t\t\t\t// Remove boundary flag from effect\n\t\t\t\tcurrent.f ^= BOUNDARY_EFFECT;\n\t\t\t}\n\t\t}\n\n\t\tcurrent = current.parent;\n\t}\n\n\tis_throwing_error = false;\n\tthrow error;\n}\n\n/**\n * @param {Effect} effect\n */\nfunction should_rethrow_error(effect) {\n\treturn (\n\t\t(effect.f & DESTROYED) === 0 &&\n\t\t(effect.parent === null || (effect.parent.f & BOUNDARY_EFFECT) === 0)\n\t);\n}\n\nexport function reset_is_throwing_error() {\n\tis_throwing_error = false;\n}\n\n/**\n * @param {unknown} error\n * @param {Effect} effect\n * @param {Effect | null} previous_effect\n * @param {ComponentContext | null} component_context\n */\nexport function handle_error(error, effect, previous_effect, component_context) {\n\tif (is_throwing_error) {\n\t\tif (previous_effect === null) {\n\t\t\tis_throwing_error = false;\n\t\t}\n\n\t\tif (should_rethrow_error(effect)) {\n\t\t\tthrow error;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tif (previous_effect !== null) {\n\t\tis_throwing_error = true;\n\t}\n\n\tif (\n\t\t!DEV ||\n\t\tcomponent_context === null ||\n\t\t!(error instanceof Error) ||\n\t\thandled_errors.has(error)\n\t) {\n\t\tpropagate_error(error, effect);\n\t\treturn;\n\t}\n\n\thandled_errors.add(error);\n\n\tconst component_stack = [];\n\n\tconst effect_name = effect.fn?.name;\n\n\tif (effect_name) {\n\t\tcomponent_stack.push(effect_name);\n\t}\n\n\t/** @type {ComponentContext | null} */\n\tlet current_context = component_context;\n\n\twhile (current_context !== null) {\n\t\tif (DEV) {\n\t\t\t/** @type {string} */\n\t\t\tvar filename = current_context.function?.[FILENAME];\n\n\t\t\tif (filename) {\n\t\t\t\tconst file = filename.split('/').pop();\n\t\t\t\tcomponent_stack.push(file);\n\t\t\t}\n\t\t}\n\n\t\tcurrent_context = current_context.p;\n\t}\n\n\tconst indent = is_firefox ? '  ' : '\\t';\n\tdefine_property(error, 'message', {\n\t\tvalue: error.message + `\\n${component_stack.map((name) => `\\n${indent}in ${name}`).join('')}\\n`\n\t});\n\tdefine_property(error, 'component_stack', {\n\t\tvalue: component_stack\n\t});\n\n\tconst stack = error.stack;\n\n\t// Filter out internal files from callstack\n\tif (stack) {\n\t\tconst lines = stack.split('\\n');\n\t\tconst new_lines = [];\n\t\tfor (let i = 0; i < lines.length; i++) {\n\t\t\tconst line = lines[i];\n\t\t\tif (line.includes('svelte/src/internal')) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tnew_lines.push(line);\n\t\t}\n\t\tdefine_property(error, 'stack', {\n\t\t\tvalue: new_lines.join('\\n')\n\t\t});\n\t}\n\n\tpropagate_error(error, effect);\n\n\tif (should_rethrow_error(effect)) {\n\t\tthrow error;\n\t}\n}\n\n/**\n * @param {Value} signal\n * @param {Effect} effect\n * @param {boolean} [root]\n */\nfunction schedule_possible_effect_self_invalidation(signal, effect, root = true) {\n\tvar reactions = signal.reactions;\n\tif (reactions === null) return;\n\n\tfor (var i = 0; i < reactions.length; i++) {\n\t\tvar reaction = reactions[i];\n\t\tif ((reaction.f & DERIVED) !== 0) {\n\t\t\tschedule_possible_effect_self_invalidation(/** @type {Derived} */ (reaction), effect, false);\n\t\t} else if (effect === reaction) {\n\t\t\tif (root) {\n\t\t\t\tset_signal_status(reaction, DIRTY);\n\t\t\t} else if ((reaction.f & CLEAN) !== 0) {\n\t\t\t\tset_signal_status(reaction, MAYBE_DIRTY);\n\t\t\t}\n\t\t\tschedule_effect(/** @type {Effect} */ (reaction));\n\t\t}\n\t}\n}\n\n/**\n * @template V\n * @param {Reaction} reaction\n * @returns {V}\n */\nexport function update_reaction(reaction) {\n\tvar previous_deps = new_deps;\n\tvar previous_skipped_deps = skipped_deps;\n\tvar previous_untracked_writes = untracked_writes;\n\tvar previous_reaction = active_reaction;\n\tvar previous_skip_reaction = skip_reaction;\n\tvar prev_derived_sources = derived_sources;\n\tvar previous_component_context = component_context;\n\tvar previous_untracking = untracking;\n\tvar flags = reaction.f;\n\n\tnew_deps = /** @type {null | Value[]} */ (null);\n\tskipped_deps = 0;\n\tuntracked_writes = null;\n\tskip_reaction =\n\t\t(flags & UNOWNED) !== 0 && (untracking || !is_updating_effect || active_reaction === null);\n\tactive_reaction = (flags & (BRANCH_EFFECT | ROOT_EFFECT)) === 0 ? reaction : null;\n\n\tderived_sources = null;\n\tset_component_context(reaction.ctx);\n\tuntracking = false;\n\tread_version++;\n\n\ttry {\n\t\tvar result = /** @type {Function} */ (0, reaction.fn)();\n\t\tvar deps = reaction.deps;\n\n\t\tif (new_deps !== null) {\n\t\t\tvar i;\n\n\t\t\tremove_reactions(reaction, skipped_deps);\n\n\t\t\tif (deps !== null && skipped_deps > 0) {\n\t\t\t\tdeps.length = skipped_deps + new_deps.length;\n\t\t\t\tfor (i = 0; i < new_deps.length; i++) {\n\t\t\t\t\tdeps[skipped_deps + i] = new_deps[i];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treaction.deps = deps = new_deps;\n\t\t\t}\n\n\t\t\tif (!skip_reaction) {\n\t\t\t\tfor (i = skipped_deps; i < deps.length; i++) {\n\t\t\t\t\t(deps[i].reactions ??= []).push(reaction);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (deps !== null && skipped_deps < deps.length) {\n\t\t\tremove_reactions(reaction, skipped_deps);\n\t\t\tdeps.length = skipped_deps;\n\t\t}\n\n\t\t// If we're inside an effect and we have untracked writes, then we need to\n\t\t// ensure that if any of those untracked writes result in re-invalidation\n\t\t// of the current effect, then that happens accordingly\n\t\tif (\n\t\t\tis_runes() &&\n\t\t\tuntracked_writes !== null &&\n\t\t\t!untracking &&\n\t\t\tdeps !== null &&\n\t\t\t(reaction.f & (DERIVED | MAYBE_DIRTY | DIRTY)) === 0\n\t\t) {\n\t\t\tfor (i = 0; i < /** @type {Source[]} */ (untracked_writes).length; i++) {\n\t\t\t\tschedule_possible_effect_self_invalidation(\n\t\t\t\t\tuntracked_writes[i],\n\t\t\t\t\t/** @type {Effect} */ (reaction)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// If we are returning to an previous reaction then\n\t\t// we need to increment the read version to ensure that\n\t\t// any dependencies in this reaction aren't marked with\n\t\t// the same version\n\t\tif (previous_reaction !== null) {\n\t\t\tread_version++;\n\t\t}\n\n\t\treturn result;\n\t} finally {\n\t\tnew_deps = previous_deps;\n\t\tskipped_deps = previous_skipped_deps;\n\t\tuntracked_writes = previous_untracked_writes;\n\t\tactive_reaction = previous_reaction;\n\t\tskip_reaction = previous_skip_reaction;\n\t\tderived_sources = prev_derived_sources;\n\t\tset_component_context(previous_component_context);\n\t\tuntracking = previous_untracking;\n\t}\n}\n\n/**\n * @template V\n * @param {Reaction} signal\n * @param {Value<V>} dependency\n * @returns {void}\n */\nfunction remove_reaction(signal, dependency) {\n\tlet reactions = dependency.reactions;\n\tif (reactions !== null) {\n\t\tvar index = index_of.call(reactions, signal);\n\t\tif (index !== -1) {\n\t\t\tvar new_length = reactions.length - 1;\n\t\t\tif (new_length === 0) {\n\t\t\t\treactions = dependency.reactions = null;\n\t\t\t} else {\n\t\t\t\t// Swap with last element and then remove.\n\t\t\t\treactions[index] = reactions[new_length];\n\t\t\t\treactions.pop();\n\t\t\t}\n\t\t}\n\t}\n\t// If the derived has no reactions, then we can disconnect it from the graph,\n\t// allowing it to either reconnect in the future, or be GC'd by the VM.\n\tif (\n\t\treactions === null &&\n\t\t(dependency.f & DERIVED) !== 0 &&\n\t\t// Destroying a child effect while updating a parent effect can cause a dependency to appear\n\t\t// to be unused, when in fact it is used by the currently-updating parent. Checking `new_deps`\n\t\t// allows us to skip the expensive work of disconnecting and immediately reconnecting it\n\t\t(new_deps === null || !new_deps.includes(dependency))\n\t) {\n\t\tset_signal_status(dependency, MAYBE_DIRTY);\n\t\t// If we are working with a derived that is owned by an effect, then mark it as being\n\t\t// disconnected.\n\t\tif ((dependency.f & (UNOWNED | DISCONNECTED)) === 0) {\n\t\t\tdependency.f ^= DISCONNECTED;\n\t\t}\n\t\t// Disconnect any reactions owned by this reaction\n\t\tdestroy_derived_effects(/** @type {Derived} **/ (dependency));\n\t\tremove_reactions(/** @type {Derived} **/ (dependency), 0);\n\t}\n}\n\n/**\n * @param {Reaction} signal\n * @param {number} start_index\n * @returns {void}\n */\nexport function remove_reactions(signal, start_index) {\n\tvar dependencies = signal.deps;\n\tif (dependencies === null) return;\n\n\tfor (var i = start_index; i < dependencies.length; i++) {\n\t\tremove_reaction(signal, dependencies[i]);\n\t}\n}\n\n/**\n * @param {Effect} effect\n * @returns {void}\n */\nexport function update_effect(effect) {\n\tvar flags = effect.f;\n\n\tif ((flags & DESTROYED) !== 0) {\n\t\treturn;\n\t}\n\n\tset_signal_status(effect, CLEAN);\n\n\tvar previous_effect = active_effect;\n\tvar previous_component_context = component_context;\n\tvar was_updating_effect = is_updating_effect;\n\n\tactive_effect = effect;\n\tis_updating_effect = true;\n\n\tif (DEV) {\n\t\tvar previous_component_fn = dev_current_component_function;\n\t\tset_dev_current_component_function(effect.component_function);\n\t}\n\n\ttry {\n\t\tif ((flags & BLOCK_EFFECT) !== 0) {\n\t\t\tdestroy_block_effect_children(effect);\n\t\t} else {\n\t\t\tdestroy_effect_children(effect);\n\t\t}\n\n\t\texecute_effect_teardown(effect);\n\t\tvar teardown = update_reaction(effect);\n\t\teffect.teardown = typeof teardown === 'function' ? teardown : null;\n\t\teffect.wv = write_version;\n\n\t\tvar deps = effect.deps;\n\n\t\t// In DEV, we need to handle a case where $inspect.trace() might\n\t\t// incorrectly state a source dependency has not changed when it has.\n\t\t// That's beacuse that source was changed by the same effect, causing\n\t\t// the versions to match. We can avoid this by incrementing the version\n\t\tif (DEV && tracing_mode_flag && (effect.f & DIRTY) !== 0 && deps !== null) {\n\t\t\tfor (let i = 0; i < deps.length; i++) {\n\t\t\t\tvar dep = deps[i];\n\t\t\t\tif (dep.trace_need_increase) {\n\t\t\t\t\tdep.wv = increment_write_version();\n\t\t\t\t\tdep.trace_need_increase = undefined;\n\t\t\t\t\tdep.trace_v = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (DEV) {\n\t\t\tdev_effect_stack.push(effect);\n\t\t}\n\t} catch (error) {\n\t\thandle_error(error, effect, previous_effect, previous_component_context || effect.ctx);\n\t} finally {\n\t\tis_updating_effect = was_updating_effect;\n\t\tactive_effect = previous_effect;\n\n\t\tif (DEV) {\n\t\t\tset_dev_current_component_function(previous_component_fn);\n\t\t}\n\t}\n}\n\nfunction log_effect_stack() {\n\t// eslint-disable-next-line no-console\n\tconsole.error(\n\t\t'Last ten effects were: ',\n\t\tdev_effect_stack.slice(-10).map((d) => d.fn)\n\t);\n\tdev_effect_stack = [];\n}\n\nfunction infinite_loop_guard() {\n\ttry {\n\t\te.effect_update_depth_exceeded();\n\t} catch (error) {\n\t\tif (DEV) {\n\t\t\t// stack is garbage, ignore. Instead add a console.error message.\n\t\t\tdefine_property(error, 'stack', {\n\t\t\t\tvalue: ''\n\t\t\t});\n\t\t}\n\t\t// Try and handle the error so it can be caught at a boundary, that's\n\t\t// if there's an effect available from when it was last scheduled\n\t\tif (last_scheduled_effect !== null) {\n\t\t\tif (DEV) {\n\t\t\t\ttry {\n\t\t\t\t\thandle_error(error, last_scheduled_effect, null, null);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Only log the effect stack if the error is re-thrown\n\t\t\t\t\tlog_effect_stack();\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandle_error(error, last_scheduled_effect, null, null);\n\t\t\t}\n\t\t} else {\n\t\t\tif (DEV) {\n\t\t\t\tlog_effect_stack();\n\t\t\t}\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nfunction flush_queued_root_effects() {\n\ttry {\n\t\tvar flush_count = 0;\n\n\t\twhile (queued_root_effects.length > 0) {\n\t\t\tif (flush_count++ > 1000) {\n\t\t\t\tinfinite_loop_guard();\n\t\t\t}\n\n\t\t\tvar root_effects = queued_root_effects;\n\t\t\tvar length = root_effects.length;\n\n\t\t\tqueued_root_effects = [];\n\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar root = root_effects[i];\n\n\t\t\t\tif ((root.f & CLEAN) === 0) {\n\t\t\t\t\troot.f ^= CLEAN;\n\t\t\t\t}\n\n\t\t\t\tvar collected_effects = process_effects(root);\n\t\t\t\tflush_queued_effects(collected_effects);\n\t\t\t}\n\t\t}\n\t} finally {\n\t\tis_flushing = false;\n\n\t\tlast_scheduled_effect = null;\n\t\tif (DEV) {\n\t\t\tdev_effect_stack = [];\n\t\t}\n\t}\n}\n\n/**\n * @param {Array<Effect>} effects\n * @returns {void}\n */\nfunction flush_queued_effects(effects) {\n\tvar length = effects.length;\n\tif (length === 0) return;\n\n\tfor (var i = 0; i < length; i++) {\n\t\tvar effect = effects[i];\n\n\t\tif ((effect.f & (DESTROYED | INERT)) === 0) {\n\t\t\ttry {\n\t\t\t\tif (check_dirtiness(effect)) {\n\t\t\t\t\tupdate_effect(effect);\n\n\t\t\t\t\t// Effects with no dependencies or teardown do not get added to the effect tree.\n\t\t\t\t\t// Deferred effects (e.g. `$effect(...)`) _are_ added to the tree because we\n\t\t\t\t\t// don't know if we need to keep them until they are executed. Doing the check\n\t\t\t\t\t// here (rather than in `update_effect`) allows us to skip the work for\n\t\t\t\t\t// immediate effects.\n\t\t\t\t\tif (effect.deps === null && effect.first === null && effect.nodes_start === null) {\n\t\t\t\t\t\tif (effect.teardown === null) {\n\t\t\t\t\t\t\t// remove this effect from the graph\n\t\t\t\t\t\t\tunlink_effect(effect);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// keep the effect in the graph, but free up some memory\n\t\t\t\t\t\t\teffect.fn = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\thandle_error(error, effect, null, effect.ctx);\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @param {Effect} signal\n * @returns {void}\n */\nexport function schedule_effect(signal) {\n\tif (!is_flushing) {\n\t\tis_flushing = true;\n\t\tqueueMicrotask(flush_queued_root_effects);\n\t}\n\n\tvar effect = (last_scheduled_effect = signal);\n\n\twhile (effect.parent !== null) {\n\t\teffect = effect.parent;\n\t\tvar flags = effect.f;\n\n\t\tif ((flags & (ROOT_EFFECT | BRANCH_EFFECT)) !== 0) {\n\t\t\tif ((flags & CLEAN) === 0) return;\n\t\t\teffect.f ^= CLEAN;\n\t\t}\n\t}\n\n\tqueued_root_effects.push(effect);\n}\n\n/**\n *\n * This function both runs render effects and collects user effects in topological order\n * from the starting effect passed in. Effects will be collected when they match the filtered\n * bitwise flag passed in only. The collected effects array will be populated with all the user\n * effects to be flushed.\n *\n * @param {Effect} root\n * @returns {Effect[]}\n */\nfunction process_effects(root) {\n\t/** @type {Effect[]} */\n\tvar effects = [];\n\n\tvar effect = root.first;\n\n\twhile (effect !== null) {\n\t\tvar flags = effect.f;\n\t\tvar is_branch = (flags & BRANCH_EFFECT) !== 0;\n\t\tvar is_skippable_branch = is_branch && (flags & CLEAN) !== 0;\n\n\t\tif (!is_skippable_branch && (flags & INERT) === 0) {\n\t\t\tif ((flags & EFFECT) !== 0) {\n\t\t\t\teffects.push(effect);\n\t\t\t} else if (is_branch) {\n\t\t\t\teffect.f ^= CLEAN;\n\t\t\t} else {\n\t\t\t\t// Ensure we set the effect to be the active reaction\n\t\t\t\t// to ensure that unowned deriveds are correctly tracked\n\t\t\t\t// because we're flushing the current effect\n\t\t\t\tvar previous_active_reaction = active_reaction;\n\t\t\t\ttry {\n\t\t\t\t\tactive_reaction = effect;\n\t\t\t\t\tif (check_dirtiness(effect)) {\n\t\t\t\t\t\tupdate_effect(effect);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\thandle_error(error, effect, null, effect.ctx);\n\t\t\t\t} finally {\n\t\t\t\t\tactive_reaction = previous_active_reaction;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar child = effect.first;\n\n\t\t\tif (child !== null) {\n\t\t\t\teffect = child;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\tvar parent = effect.parent;\n\t\teffect = effect.next;\n\n\t\twhile (effect === null && parent !== null) {\n\t\t\teffect = parent.next;\n\t\t\tparent = parent.parent;\n\t\t}\n\t}\n\n\treturn effects;\n}\n\n/**\n * Synchronously flush any pending updates.\n * Returns void if no callback is provided, otherwise returns the result of calling the callback.\n * @template [T=void]\n * @param {(() => T) | undefined} [fn]\n * @returns {T}\n */\nexport function flushSync(fn) {\n\tvar result;\n\n\tif (fn) {\n\t\tis_flushing = true;\n\t\tflush_queued_root_effects();\n\t\tresult = fn();\n\t}\n\n\tflush_tasks();\n\n\twhile (queued_root_effects.length > 0) {\n\t\tis_flushing = true;\n\t\tflush_queued_root_effects();\n\t\tflush_tasks();\n\t}\n\n\treturn /** @type {T} */ (result);\n}\n\n/**\n * Returns a promise that resolves once any pending state changes have been applied.\n * @returns {Promise<void>}\n */\nexport async function tick() {\n\tawait Promise.resolve();\n\t// By calling flushSync we guarantee that any pending state changes are applied after one tick.\n\t// TODO look into whether we can make flushing subsequent updates synchronously in the future.\n\tflushSync();\n}\n\n/**\n * @template V\n * @param {Value<V>} signal\n * @returns {V}\n */\nexport function get(signal) {\n\tvar flags = signal.f;\n\tvar is_derived = (flags & DERIVED) !== 0;\n\n\tif (captured_signals !== null) {\n\t\tcaptured_signals.add(signal);\n\t}\n\n\t// Register the dependency on the current reaction signal.\n\tif (active_reaction !== null && !untracking) {\n\t\tif (derived_sources !== null && derived_sources.includes(signal)) {\n\t\t\te.state_unsafe_local_read();\n\t\t}\n\t\tvar deps = active_reaction.deps;\n\t\tif (signal.rv < read_version) {\n\t\t\tsignal.rv = read_version;\n\t\t\t// If the signal is accessing the same dependencies in the same\n\t\t\t// order as it did last time, increment `skipped_deps`\n\t\t\t// rather than updating `new_deps`, which creates GC cost\n\t\t\tif (new_deps === null && deps !== null && deps[skipped_deps] === signal) {\n\t\t\t\tskipped_deps++;\n\t\t\t} else if (new_deps === null) {\n\t\t\t\tnew_deps = [signal];\n\t\t\t} else if (!skip_reaction || !new_deps.includes(signal)) {\n\t\t\t\t// Normally we can push duplicated dependencies to `new_deps`, but if we're inside\n\t\t\t\t// an unowned derived because skip_reaction is true, then we need to ensure that\n\t\t\t\t// we don't have duplicates\n\t\t\t\tnew_deps.push(signal);\n\t\t\t}\n\t\t}\n\t} else if (\n\t\tis_derived &&\n\t\t/** @type {Derived} */ (signal).deps === null &&\n\t\t/** @type {Derived} */ (signal).effects === null\n\t) {\n\t\tvar derived = /** @type {Derived} */ (signal);\n\t\tvar parent = derived.parent;\n\n\t\tif (parent !== null && (parent.f & UNOWNED) === 0) {\n\t\t\t// If the derived is owned by another derived then mark it as unowned\n\t\t\t// as the derived value might have been referenced in a different context\n\t\t\t// since and thus its parent might not be its true owner anymore\n\t\t\tderived.f ^= UNOWNED;\n\t\t}\n\t}\n\n\tif (is_derived) {\n\t\tderived = /** @type {Derived} */ (signal);\n\n\t\tif (check_dirtiness(derived)) {\n\t\t\tupdate_derived(derived);\n\t\t}\n\t}\n\n\tif (\n\t\tDEV &&\n\t\ttracing_mode_flag &&\n\t\ttracing_expressions !== null &&\n\t\tactive_reaction !== null &&\n\t\ttracing_expressions.reaction === active_reaction\n\t) {\n\t\t// Used when mapping state between special blocks like `each`\n\t\tif (signal.debug) {\n\t\t\tsignal.debug();\n\t\t} else if (signal.created) {\n\t\t\tvar entry = tracing_expressions.entries.get(signal);\n\n\t\t\tif (entry === undefined) {\n\t\t\t\tentry = { read: [] };\n\t\t\t\ttracing_expressions.entries.set(signal, entry);\n\t\t\t}\n\n\t\t\tentry.read.push(get_stack('TracedAt'));\n\t\t}\n\t}\n\n\treturn signal.v;\n}\n\n/**\n * Like `get`, but checks for `undefined`. Used for `var` declarations because they can be accessed before being declared\n * @template V\n * @param {Value<V> | undefined} signal\n * @returns {V | undefined}\n */\nexport function safe_get(signal) {\n\treturn signal && get(signal);\n}\n\n/**\n * Capture an array of all the signals that are read when `fn` is called\n * @template T\n * @param {() => T} fn\n */\nfunction capture_signals(fn) {\n\tvar previous_captured_signals = captured_signals;\n\tcaptured_signals = new Set();\n\n\tvar captured = captured_signals;\n\tvar signal;\n\n\ttry {\n\t\tuntrack(fn);\n\t\tif (previous_captured_signals !== null) {\n\t\t\tfor (signal of captured_signals) {\n\t\t\t\tprevious_captured_signals.add(signal);\n\t\t\t}\n\t\t}\n\t} finally {\n\t\tcaptured_signals = previous_captured_signals;\n\t}\n\n\treturn captured;\n}\n\n/**\n * Invokes a function and captures all signals that are read during the invocation,\n * then invalidates them.\n * @param {() => any} fn\n */\nexport function invalidate_inner_signals(fn) {\n\tvar captured = capture_signals(() => untrack(fn));\n\n\tfor (var signal of captured) {\n\t\t// Go one level up because derived signals created as part of props in legacy mode\n\t\tif ((signal.f & LEGACY_DERIVED_PROP) !== 0) {\n\t\t\tfor (const dep of /** @type {Derived} */ (signal).deps || []) {\n\t\t\t\tif ((dep.f & DERIVED) === 0) {\n\t\t\t\t\t// Use internal_set instead of set here and below to avoid mutation validation\n\t\t\t\t\tinternal_set(dep, dep.v);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tinternal_set(signal, signal.v);\n\t\t}\n\t}\n}\n\n/**\n * When used inside a [`$derived`](https://svelte.dev/docs/svelte/$derived) or [`$effect`](https://svelte.dev/docs/svelte/$effect),\n * any state read inside `fn` will not be treated as a dependency.\n *\n * ```ts\n * $effect(() => {\n *   // this will run when `data` changes, but not when `time` changes\n *   save(data, {\n *     timestamp: untrack(() => time)\n *   });\n * });\n * ```\n * @template T\n * @param {() => T} fn\n * @returns {T}\n */\nexport function untrack(fn) {\n\tvar previous_untracking = untracking;\n\ttry {\n\t\tuntracking = true;\n\t\treturn fn();\n\t} finally {\n\t\tuntracking = previous_untracking;\n\t}\n}\n\nconst STATUS_MASK = ~(DIRTY | MAYBE_DIRTY | CLEAN);\n\n/**\n * @param {Signal} signal\n * @param {number} status\n * @returns {void}\n */\nexport function set_signal_status(signal, status) {\n\tsignal.f = (signal.f & STATUS_MASK) | status;\n}\n\n/**\n * @param {Record<string, unknown>} obj\n * @param {string[]} keys\n * @returns {Record<string, unknown>}\n */\nexport function exclude_from_object(obj, keys) {\n\t/** @type {Record<string, unknown>} */\n\tvar result = {};\n\n\tfor (var key in obj) {\n\t\tif (!keys.includes(key)) {\n\t\t\tresult[key] = obj[key];\n\t\t}\n\t}\n\n\treturn result;\n}\n\n/**\n * Possibly traverse an object and read all its properties so that they're all reactive in case this is `$state`.\n * Does only check first level of an object for performance reasons (heuristic should be good for 99% of all cases).\n * @param {any} value\n * @returns {void}\n */\nexport function deep_read_state(value) {\n\tif (typeof value !== 'object' || !value || value instanceof EventTarget) {\n\t\treturn;\n\t}\n\n\tif (STATE_SYMBOL in value) {\n\t\tdeep_read(value);\n\t} else if (!Array.isArray(value)) {\n\t\tfor (let key in value) {\n\t\t\tconst prop = value[key];\n\t\t\tif (typeof prop === 'object' && prop && STATE_SYMBOL in prop) {\n\t\t\t\tdeep_read(prop);\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Deeply traverse an object and read all its properties\n * so that they're all reactive in case this is `$state`\n * @param {any} value\n * @param {Set<any>} visited\n * @returns {void}\n */\nexport function deep_read(value, visited = new Set()) {\n\tif (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t// We don't want to traverse DOM elements\n\t\t!(value instanceof EventTarget) &&\n\t\t!visited.has(value)\n\t) {\n\t\tvisited.add(value);\n\t\t// When working with a possible SvelteDate, this\n\t\t// will ensure we capture changes to it.\n\t\tif (value instanceof Date) {\n\t\t\tvalue.getTime();\n\t\t}\n\t\tfor (let key in value) {\n\t\t\ttry {\n\t\t\t\tdeep_read(value[key], visited);\n\t\t\t} catch (e) {\n\t\t\t\t// continue\n\t\t\t}\n\t\t}\n\t\tconst proto = get_prototype_of(value);\n\t\tif (\n\t\t\tproto !== Object.prototype &&\n\t\t\tproto !== Array.prototype &&\n\t\t\tproto !== Map.prototype &&\n\t\t\tproto !== Set.prototype &&\n\t\t\tproto !== Date.prototype\n\t\t) {\n\t\t\tconst descriptors = get_descriptors(proto);\n\t\t\tfor (let key in descriptors) {\n\t\t\t\tconst get = descriptors[key].get;\n\t\t\t\tif (get) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tget.call(value);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// continue\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/** @import { ComponentContext, ComponentContextLegacy, Derived, Effect, TemplateNode, TransitionManager } from '#client' */\nimport {\n\tcheck_dirtiness,\n\tactive_effect,\n\tactive_reaction,\n\tupdate_effect,\n\tget,\n\tis_destroying_effect,\n\tremove_reactions,\n\tschedule_effect,\n\tset_active_reaction,\n\tset_is_destroying_effect,\n\tset_signal_status,\n\tuntrack,\n\tuntracking\n} from '../runtime.js';\nimport {\n\tDIRTY,\n\tBRANCH_EFFECT,\n\tRENDER_EFFECT,\n\tEFFECT,\n\tDESTROYED,\n\tINERT,\n\tEFFECT_RAN,\n\tBLOCK_EFFECT,\n\tROOT_EFFECT,\n\tEFFECT_TRANSPARENT,\n\tDERIVED,\n\tUNOWNED,\n\tCLEAN,\n\tINSPECT_EFFECT,\n\tHEAD_EFFECT,\n\tMAYBE_DIRTY,\n\tEFFECT_HAS_DERIVED,\n\tBOUNDARY_EFFECT\n} from '../constants.js';\nimport { set } from './sources.js';\nimport * as e from '../errors.js';\nimport { DEV } from 'esm-env';\nimport { define_property } from '../../shared/utils.js';\nimport { get_next_sibling } from '../dom/operations.js';\nimport { derived } from './deriveds.js';\nimport { component_context, dev_current_component_function } from '../context.js';\n\n/**\n * @param {'$effect' | '$effect.pre' | '$inspect'} rune\n */\nexport function validate_effect(rune) {\n\tif (active_effect === null && active_reaction === null) {\n\t\te.effect_orphan(rune);\n\t}\n\n\tif (active_reaction !== null && (active_reaction.f & UNOWNED) !== 0 && active_effect === null) {\n\t\te.effect_in_unowned_derived();\n\t}\n\n\tif (is_destroying_effect) {\n\t\te.effect_in_teardown(rune);\n\t}\n}\n\n/**\n * @param {Effect} effect\n * @param {Effect} parent_effect\n */\nfunction push_effect(effect, parent_effect) {\n\tvar parent_last = parent_effect.last;\n\tif (parent_last === null) {\n\t\tparent_effect.last = parent_effect.first = effect;\n\t} else {\n\t\tparent_last.next = effect;\n\t\teffect.prev = parent_last;\n\t\tparent_effect.last = effect;\n\t}\n}\n\n/**\n * @param {number} type\n * @param {null | (() => void | (() => void))} fn\n * @param {boolean} sync\n * @param {boolean} push\n * @returns {Effect}\n */\nfunction create_effect(type, fn, sync, push = true) {\n\tvar is_root = (type & ROOT_EFFECT) !== 0;\n\tvar parent_effect = active_effect;\n\n\tif (DEV) {\n\t\t// Ensure the parent is never an inspect effect\n\t\twhile (parent_effect !== null && (parent_effect.f & INSPECT_EFFECT) !== 0) {\n\t\t\tparent_effect = parent_effect.parent;\n\t\t}\n\t}\n\n\t/** @type {Effect} */\n\tvar effect = {\n\t\tctx: component_context,\n\t\tdeps: null,\n\t\tnodes_start: null,\n\t\tnodes_end: null,\n\t\tf: type | DIRTY,\n\t\tfirst: null,\n\t\tfn,\n\t\tlast: null,\n\t\tnext: null,\n\t\tparent: is_root ? null : parent_effect,\n\t\tprev: null,\n\t\tteardown: null,\n\t\ttransitions: null,\n\t\twv: 0\n\t};\n\n\tif (DEV) {\n\t\teffect.component_function = dev_current_component_function;\n\t}\n\n\tif (sync) {\n\t\ttry {\n\t\t\tupdate_effect(effect);\n\t\t\teffect.f |= EFFECT_RAN;\n\t\t} catch (e) {\n\t\t\tdestroy_effect(effect);\n\t\t\tthrow e;\n\t\t}\n\t} else if (fn !== null) {\n\t\tschedule_effect(effect);\n\t}\n\n\t// if an effect has no dependencies, no DOM and no teardown function,\n\t// don't bother adding it to the effect tree\n\tvar inert =\n\t\tsync &&\n\t\teffect.deps === null &&\n\t\teffect.first === null &&\n\t\teffect.nodes_start === null &&\n\t\teffect.teardown === null &&\n\t\t(effect.f & (EFFECT_HAS_DERIVED | BOUNDARY_EFFECT)) === 0;\n\n\tif (!inert && !is_root && push) {\n\t\tif (parent_effect !== null) {\n\t\t\tpush_effect(effect, parent_effect);\n\t\t}\n\n\t\t// if we're in a derived, add the effect there too\n\t\tif (active_reaction !== null && (active_reaction.f & DERIVED) !== 0) {\n\t\t\tvar derived = /** @type {Derived} */ (active_reaction);\n\t\t\t(derived.effects ??= []).push(effect);\n\t\t}\n\t}\n\n\treturn effect;\n}\n\n/**\n * Internal representation of `$effect.tracking()`\n * @returns {boolean}\n */\nexport function effect_tracking() {\n\treturn active_reaction !== null && !untracking;\n}\n\n/**\n * @param {() => void} fn\n */\nexport function teardown(fn) {\n\tconst effect = create_effect(RENDER_EFFECT, null, false);\n\tset_signal_status(effect, CLEAN);\n\teffect.teardown = fn;\n\treturn effect;\n}\n\n/**\n * Internal representation of `$effect(...)`\n * @param {() => void | (() => void)} fn\n */\nexport function user_effect(fn) {\n\tvalidate_effect('$effect');\n\n\t// Non-nested `$effect(...)` in a component should be deferred\n\t// until the component is mounted\n\tvar defer =\n\t\tactive_effect !== null &&\n\t\t(active_effect.f & BRANCH_EFFECT) !== 0 &&\n\t\tcomponent_context !== null &&\n\t\t!component_context.m;\n\n\tif (DEV) {\n\t\tdefine_property(fn, 'name', {\n\t\t\tvalue: '$effect'\n\t\t});\n\t}\n\n\tif (defer) {\n\t\tvar context = /** @type {ComponentContext} */ (component_context);\n\t\t(context.e ??= []).push({\n\t\t\tfn,\n\t\t\teffect: active_effect,\n\t\t\treaction: active_reaction\n\t\t});\n\t} else {\n\t\tvar signal = effect(fn);\n\t\treturn signal;\n\t}\n}\n\n/**\n * Internal representation of `$effect.pre(...)`\n * @param {() => void | (() => void)} fn\n * @returns {Effect}\n */\nexport function user_pre_effect(fn) {\n\tvalidate_effect('$effect.pre');\n\tif (DEV) {\n\t\tdefine_property(fn, 'name', {\n\t\t\tvalue: '$effect.pre'\n\t\t});\n\t}\n\treturn render_effect(fn);\n}\n\n/** @param {() => void | (() => void)} fn */\nexport function inspect_effect(fn) {\n\treturn create_effect(INSPECT_EFFECT, fn, true);\n}\n\n/**\n * Internal representation of `$effect.root(...)`\n * @param {() => void | (() => void)} fn\n * @returns {() => void}\n */\nexport function effect_root(fn) {\n\tconst effect = create_effect(ROOT_EFFECT, fn, true);\n\n\treturn () => {\n\t\tdestroy_effect(effect);\n\t};\n}\n\n/**\n * An effect root whose children can transition out\n * @param {() => void} fn\n * @returns {(options?: { outro?: boolean }) => Promise<void>}\n */\nexport function component_root(fn) {\n\tconst effect = create_effect(ROOT_EFFECT, fn, true);\n\n\treturn (options = {}) => {\n\t\treturn new Promise((fulfil) => {\n\t\t\tif (options.outro) {\n\t\t\t\tpause_effect(effect, () => {\n\t\t\t\t\tdestroy_effect(effect);\n\t\t\t\t\tfulfil(undefined);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdestroy_effect(effect);\n\t\t\t\tfulfil(undefined);\n\t\t\t}\n\t\t});\n\t};\n}\n\n/**\n * @param {() => void | (() => void)} fn\n * @returns {Effect}\n */\nexport function effect(fn) {\n\treturn create_effect(EFFECT, fn, false);\n}\n\n/**\n * Internal representation of `$: ..`\n * @param {() => any} deps\n * @param {() => void | (() => void)} fn\n */\nexport function legacy_pre_effect(deps, fn) {\n\tvar context = /** @type {ComponentContextLegacy} */ (component_context);\n\n\t/** @type {{ effect: null | Effect, ran: boolean }} */\n\tvar token = { effect: null, ran: false };\n\tcontext.l.r1.push(token);\n\n\ttoken.effect = render_effect(() => {\n\t\tdeps();\n\n\t\t// If this legacy pre effect has already run before the end of the reset, then\n\t\t// bail out to emulate the same behavior.\n\t\tif (token.ran) return;\n\n\t\ttoken.ran = true;\n\t\tset(context.l.r2, true);\n\t\tuntrack(fn);\n\t});\n}\n\nexport function legacy_pre_effect_reset() {\n\tvar context = /** @type {ComponentContextLegacy} */ (component_context);\n\n\trender_effect(() => {\n\t\tif (!get(context.l.r2)) return;\n\n\t\t// Run dirty `$:` statements\n\t\tfor (var token of context.l.r1) {\n\t\t\tvar effect = token.effect;\n\n\t\t\t// If the effect is CLEAN, then make it MAYBE_DIRTY. This ensures we traverse through\n\t\t\t// the effects dependencies and correctly ensure each dependency is up-to-date.\n\t\t\tif ((effect.f & CLEAN) !== 0) {\n\t\t\t\tset_signal_status(effect, MAYBE_DIRTY);\n\t\t\t}\n\n\t\t\tif (check_dirtiness(effect)) {\n\t\t\t\tupdate_effect(effect);\n\t\t\t}\n\n\t\t\ttoken.ran = false;\n\t\t}\n\n\t\tcontext.l.r2.v = false; // set directly to avoid rerunning this effect\n\t});\n}\n\n/**\n * @param {() => void | (() => void)} fn\n * @returns {Effect}\n */\nexport function render_effect(fn) {\n\treturn create_effect(RENDER_EFFECT, fn, true);\n}\n\n/**\n * @param {(...expressions: any) => void | (() => void)} fn\n * @param {Array<() => any>} thunks\n * @returns {Effect}\n */\nexport function template_effect(fn, thunks = [], d = derived) {\n\tconst deriveds = thunks.map(d);\n\tconst effect = () => fn(...deriveds.map(get));\n\n\tif (DEV) {\n\t\tdefine_property(effect, 'name', {\n\t\t\tvalue: '{expression}'\n\t\t});\n\t}\n\n\treturn block(effect);\n}\n\n/**\n * @param {(() => void)} fn\n * @param {number} flags\n */\nexport function block(fn, flags = 0) {\n\treturn create_effect(RENDER_EFFECT | BLOCK_EFFECT | flags, fn, true);\n}\n\n/**\n * @param {(() => void)} fn\n * @param {boolean} [push]\n */\nexport function branch(fn, push = true) {\n\treturn create_effect(RENDER_EFFECT | BRANCH_EFFECT, fn, true, push);\n}\n\n/**\n * @param {Effect} effect\n */\nexport function execute_effect_teardown(effect) {\n\tvar teardown = effect.teardown;\n\tif (teardown !== null) {\n\t\tconst previously_destroying_effect = is_destroying_effect;\n\t\tconst previous_reaction = active_reaction;\n\t\tset_is_destroying_effect(true);\n\t\tset_active_reaction(null);\n\t\ttry {\n\t\t\tteardown.call(null);\n\t\t} finally {\n\t\t\tset_is_destroying_effect(previously_destroying_effect);\n\t\t\tset_active_reaction(previous_reaction);\n\t\t}\n\t}\n}\n\n/**\n * @param {Effect} signal\n * @param {boolean} remove_dom\n * @returns {void}\n */\nexport function destroy_effect_children(signal, remove_dom = false) {\n\tvar effect = signal.first;\n\tsignal.first = signal.last = null;\n\n\twhile (effect !== null) {\n\t\tvar next = effect.next;\n\t\tdestroy_effect(effect, remove_dom);\n\t\teffect = next;\n\t}\n}\n\n/**\n * @param {Effect} signal\n * @returns {void}\n */\nexport function destroy_block_effect_children(signal) {\n\tvar effect = signal.first;\n\n\twhile (effect !== null) {\n\t\tvar next = effect.next;\n\t\tif ((effect.f & BRANCH_EFFECT) === 0) {\n\t\t\tdestroy_effect(effect);\n\t\t}\n\t\teffect = next;\n\t}\n}\n\n/**\n * @param {Effect} effect\n * @param {boolean} [remove_dom]\n * @returns {void}\n */\nexport function destroy_effect(effect, remove_dom = true) {\n\tvar removed = false;\n\n\tif ((remove_dom || (effect.f & HEAD_EFFECT) !== 0) && effect.nodes_start !== null) {\n\t\t/** @type {TemplateNode | null} */\n\t\tvar node = effect.nodes_start;\n\t\tvar end = effect.nodes_end;\n\n\t\twhile (node !== null) {\n\t\t\t/** @type {TemplateNode | null} */\n\t\t\tvar next = node === end ? null : /** @type {TemplateNode} */ (get_next_sibling(node));\n\n\t\t\tnode.remove();\n\t\t\tnode = next;\n\t\t}\n\n\t\tremoved = true;\n\t}\n\n\tdestroy_effect_children(effect, remove_dom && !removed);\n\tremove_reactions(effect, 0);\n\tset_signal_status(effect, DESTROYED);\n\n\tvar transitions = effect.transitions;\n\n\tif (transitions !== null) {\n\t\tfor (const transition of transitions) {\n\t\t\ttransition.stop();\n\t\t}\n\t}\n\n\texecute_effect_teardown(effect);\n\n\tvar parent = effect.parent;\n\n\t// If the parent doesn't have any children, then skip this work altogether\n\tif (parent !== null && parent.first !== null) {\n\t\tunlink_effect(effect);\n\t}\n\n\tif (DEV) {\n\t\teffect.component_function = null;\n\t}\n\n\t// `first` and `child` are nulled out in destroy_effect_children\n\t// we don't null out `parent` so that error propagation can work correctly\n\teffect.next =\n\t\teffect.prev =\n\t\teffect.teardown =\n\t\teffect.ctx =\n\t\teffect.deps =\n\t\teffect.fn =\n\t\teffect.nodes_start =\n\t\teffect.nodes_end =\n\t\t\tnull;\n}\n\n/**\n * Detach an effect from the effect tree, freeing up memory and\n * reducing the amount of work that happens on subsequent traversals\n * @param {Effect} effect\n */\nexport function unlink_effect(effect) {\n\tvar parent = effect.parent;\n\tvar prev = effect.prev;\n\tvar next = effect.next;\n\n\tif (prev !== null) prev.next = next;\n\tif (next !== null) next.prev = prev;\n\n\tif (parent !== null) {\n\t\tif (parent.first === effect) parent.first = next;\n\t\tif (parent.last === effect) parent.last = prev;\n\t}\n}\n\n/**\n * When a block effect is removed, we don't immediately destroy it or yank it\n * out of the DOM, because it might have transitions. Instead, we 'pause' it.\n * It stays around (in memory, and in the DOM) until outro transitions have\n * completed, and if the state change is reversed then we _resume_ it.\n * A paused effect does not update, and the DOM subtree becomes inert.\n * @param {Effect} effect\n * @param {() => void} [callback]\n */\nexport function pause_effect(effect, callback) {\n\t/** @type {TransitionManager[]} */\n\tvar transitions = [];\n\n\tpause_children(effect, transitions, true);\n\n\trun_out_transitions(transitions, () => {\n\t\tdestroy_effect(effect);\n\t\tif (callback) callback();\n\t});\n}\n\n/**\n * @param {TransitionManager[]} transitions\n * @param {() => void} fn\n */\nexport function run_out_transitions(transitions, fn) {\n\tvar remaining = transitions.length;\n\tif (remaining > 0) {\n\t\tvar check = () => --remaining || fn();\n\t\tfor (var transition of transitions) {\n\t\t\ttransition.out(check);\n\t\t}\n\t} else {\n\t\tfn();\n\t}\n}\n\n/**\n * @param {Effect} effect\n * @param {TransitionManager[]} transitions\n * @param {boolean} local\n */\nexport function pause_children(effect, transitions, local) {\n\tif ((effect.f & INERT) !== 0) return;\n\teffect.f ^= INERT;\n\n\tif (effect.transitions !== null) {\n\t\tfor (const transition of effect.transitions) {\n\t\t\tif (transition.is_global || local) {\n\t\t\t\ttransitions.push(transition);\n\t\t\t}\n\t\t}\n\t}\n\n\tvar child = effect.first;\n\n\twhile (child !== null) {\n\t\tvar sibling = child.next;\n\t\tvar transparent = (child.f & EFFECT_TRANSPARENT) !== 0 || (child.f & BRANCH_EFFECT) !== 0;\n\t\t// TODO we don't need to call pause_children recursively with a linked list in place\n\t\t// it's slightly more involved though as we have to account for `transparent` changing\n\t\t// through the tree.\n\t\tpause_children(child, transitions, transparent ? local : false);\n\t\tchild = sibling;\n\t}\n}\n\n/**\n * The opposite of `pause_effect`. We call this if (for example)\n * `x` becomes falsy then truthy: `{#if x}...{/if}`\n * @param {Effect} effect\n */\nexport function resume_effect(effect) {\n\tresume_children(effect, true);\n}\n\n/**\n * @param {Effect} effect\n * @param {boolean} local\n */\nfunction resume_children(effect, local) {\n\tif ((effect.f & INERT) === 0) return;\n\teffect.f ^= INERT;\n\n\t// Ensure the effect is marked as clean again so that any dirty child\n\t// effects can schedule themselves for execution\n\tif ((effect.f & CLEAN) === 0) {\n\t\teffect.f ^= CLEAN;\n\t}\n\n\t// If a dependency of this effect changed while it was paused,\n\t// schedule the effect to update\n\tif (check_dirtiness(effect)) {\n\t\tset_signal_status(effect, DIRTY);\n\t\tschedule_effect(effect);\n\t}\n\n\tvar child = effect.first;\n\n\twhile (child !== null) {\n\t\tvar sibling = child.next;\n\t\tvar transparent = (child.f & EFFECT_TRANSPARENT) !== 0 || (child.f & BRANCH_EFFECT) !== 0;\n\t\t// TODO we don't need to call resume_children recursively with a linked list in place\n\t\t// it's slightly more involved though as we have to account for `transparent` changing\n\t\t// through the tree.\n\t\tresume_children(child, transparent ? local : false);\n\t\tchild = sibling;\n\t}\n\n\tif (effect.transitions !== null) {\n\t\tfor (const transition of effect.transitions) {\n\t\t\tif (transition.is_global || local) {\n\t\t\t\ttransition.in();\n\t\t\t}\n\t\t}\n\t}\n}\n","const regex_return_characters = /\\r/g;\n\n/**\n * @param {string} str\n * @returns {string}\n */\nexport function hash(str) {\n\tstr = str.replace(regex_return_characters, '');\n\tlet hash = 5381;\n\tlet i = str.length;\n\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn (hash >>> 0).toString(36);\n}\n\nconst VOID_ELEMENT_NAMES = [\n\t'area',\n\t'base',\n\t'br',\n\t'col',\n\t'command',\n\t'embed',\n\t'hr',\n\t'img',\n\t'input',\n\t'keygen',\n\t'link',\n\t'meta',\n\t'param',\n\t'source',\n\t'track',\n\t'wbr'\n];\n\n/**\n * Returns `true` if `name` is of a void element\n * @param {string} name\n */\nexport function is_void(name) {\n\treturn VOID_ELEMENT_NAMES.includes(name) || name.toLowerCase() === '!doctype';\n}\n\nconst RESERVED_WORDS = [\n\t'arguments',\n\t'await',\n\t'break',\n\t'case',\n\t'catch',\n\t'class',\n\t'const',\n\t'continue',\n\t'debugger',\n\t'default',\n\t'delete',\n\t'do',\n\t'else',\n\t'enum',\n\t'eval',\n\t'export',\n\t'extends',\n\t'false',\n\t'finally',\n\t'for',\n\t'function',\n\t'if',\n\t'implements',\n\t'import',\n\t'in',\n\t'instanceof',\n\t'interface',\n\t'let',\n\t'new',\n\t'null',\n\t'package',\n\t'private',\n\t'protected',\n\t'public',\n\t'return',\n\t'static',\n\t'super',\n\t'switch',\n\t'this',\n\t'throw',\n\t'true',\n\t'try',\n\t'typeof',\n\t'var',\n\t'void',\n\t'while',\n\t'with',\n\t'yield'\n];\n\n/**\n * Returns `true` if `word` is a reserved JavaScript keyword\n * @param {string} word\n */\nexport function is_reserved(word) {\n\treturn RESERVED_WORDS.includes(word);\n}\n\n/**\n * @param {string} name\n */\nexport function is_capture_event(name) {\n\treturn name.endsWith('capture') && name !== 'gotpointercapture' && name !== 'lostpointercapture';\n}\n\n/** List of Element events that will be delegated */\nconst DELEGATED_EVENTS = [\n\t'beforeinput',\n\t'click',\n\t'change',\n\t'dblclick',\n\t'contextmenu',\n\t'focusin',\n\t'focusout',\n\t'input',\n\t'keydown',\n\t'keyup',\n\t'mousedown',\n\t'mousemove',\n\t'mouseout',\n\t'mouseover',\n\t'mouseup',\n\t'pointerdown',\n\t'pointermove',\n\t'pointerout',\n\t'pointerover',\n\t'pointerup',\n\t'touchend',\n\t'touchmove',\n\t'touchstart'\n];\n\n/**\n * Returns `true` if `event_name` is a delegated event\n * @param {string} event_name\n */\nexport function is_delegated(event_name) {\n\treturn DELEGATED_EVENTS.includes(event_name);\n}\n\n/**\n * Attributes that are boolean, i.e. they are present or not present.\n */\nconst DOM_BOOLEAN_ATTRIBUTES = [\n\t'allowfullscreen',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'disabled',\n\t'formnovalidate',\n\t'hidden',\n\t'indeterminate',\n\t'inert',\n\t'ismap',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'seamless',\n\t'selected',\n\t'webkitdirectory',\n\t'defer',\n\t'disablepictureinpicture',\n\t'disableremoteplayback'\n];\n\n/**\n * Returns `true` if `name` is a boolean attribute\n * @param {string} name\n */\nexport function is_boolean_attribute(name) {\n\treturn DOM_BOOLEAN_ATTRIBUTES.includes(name);\n}\n\n/**\n * @type {Record<string, string>}\n * List of attribute names that should be aliased to their property names\n * because they behave differently between setting them as an attribute and\n * setting them as a property.\n */\nconst ATTRIBUTE_ALIASES = {\n\t// no `class: 'className'` because we handle that separately\n\tformnovalidate: 'formNoValidate',\n\tismap: 'isMap',\n\tnomodule: 'noModule',\n\tplaysinline: 'playsInline',\n\treadonly: 'readOnly',\n\tdefaultvalue: 'defaultValue',\n\tdefaultchecked: 'defaultChecked',\n\tsrcobject: 'srcObject',\n\tnovalidate: 'noValidate',\n\tallowfullscreen: 'allowFullscreen',\n\tdisablepictureinpicture: 'disablePictureInPicture',\n\tdisableremoteplayback: 'disableRemotePlayback'\n};\n\n/**\n * @param {string} name\n */\nexport function normalize_attribute(name) {\n\tname = name.toLowerCase();\n\treturn ATTRIBUTE_ALIASES[name] ?? name;\n}\n\nconst DOM_PROPERTIES = [\n\t...DOM_BOOLEAN_ATTRIBUTES,\n\t'formNoValidate',\n\t'isMap',\n\t'noModule',\n\t'playsInline',\n\t'readOnly',\n\t'value',\n\t'volume',\n\t'defaultValue',\n\t'defaultChecked',\n\t'srcObject',\n\t'noValidate',\n\t'allowFullscreen',\n\t'disablePictureInPicture',\n\t'disableRemotePlayback'\n];\n\n/**\n * @param {string} name\n */\nexport function is_dom_property(name) {\n\treturn DOM_PROPERTIES.includes(name);\n}\n\nconst NON_STATIC_PROPERTIES = ['autofocus', 'muted', 'defaultValue', 'defaultChecked'];\n\n/**\n * Returns `true` if the given attribute cannot be set through the template\n * string, i.e. needs some kind of JavaScript handling to work.\n * @param {string} name\n */\nexport function cannot_be_set_statically(name) {\n\treturn NON_STATIC_PROPERTIES.includes(name);\n}\n\n/**\n * Subset of delegated events which should be passive by default.\n * These two are already passive via browser defaults on window, document and body.\n * But since\n * - we're delegating them\n * - they happen often\n * - they apply to mobile which is generally less performant\n * we're marking them as passive by default for other elements, too.\n */\nconst PASSIVE_EVENTS = ['touchstart', 'touchmove'];\n\n/**\n * Returns `true` if `name` is a passive event\n * @param {string} name\n */\nexport function is_passive_event(name) {\n\treturn PASSIVE_EVENTS.includes(name);\n}\n\nconst CONTENT_EDITABLE_BINDINGS = ['textContent', 'innerHTML', 'innerText'];\n\n/** @param {string} name */\nexport function is_content_editable_binding(name) {\n\treturn CONTENT_EDITABLE_BINDINGS.includes(name);\n}\n\nconst LOAD_ERROR_ELEMENTS = [\n\t'body',\n\t'embed',\n\t'iframe',\n\t'img',\n\t'link',\n\t'object',\n\t'script',\n\t'style',\n\t'track'\n];\n\n/**\n * Returns `true` if the element emits `load` and `error` events\n * @param {string} name\n */\nexport function is_load_error_element(name) {\n\treturn LOAD_ERROR_ELEMENTS.includes(name);\n}\n\nconst SVG_ELEMENTS = [\n\t'altGlyph',\n\t'altGlyphDef',\n\t'altGlyphItem',\n\t'animate',\n\t'animateColor',\n\t'animateMotion',\n\t'animateTransform',\n\t'circle',\n\t'clipPath',\n\t'color-profile',\n\t'cursor',\n\t'defs',\n\t'desc',\n\t'discard',\n\t'ellipse',\n\t'feBlend',\n\t'feColorMatrix',\n\t'feComponentTransfer',\n\t'feComposite',\n\t'feConvolveMatrix',\n\t'feDiffuseLighting',\n\t'feDisplacementMap',\n\t'feDistantLight',\n\t'feDropShadow',\n\t'feFlood',\n\t'feFuncA',\n\t'feFuncB',\n\t'feFuncG',\n\t'feFuncR',\n\t'feGaussianBlur',\n\t'feImage',\n\t'feMerge',\n\t'feMergeNode',\n\t'feMorphology',\n\t'feOffset',\n\t'fePointLight',\n\t'feSpecularLighting',\n\t'feSpotLight',\n\t'feTile',\n\t'feTurbulence',\n\t'filter',\n\t'font',\n\t'font-face',\n\t'font-face-format',\n\t'font-face-name',\n\t'font-face-src',\n\t'font-face-uri',\n\t'foreignObject',\n\t'g',\n\t'glyph',\n\t'glyphRef',\n\t'hatch',\n\t'hatchpath',\n\t'hkern',\n\t'image',\n\t'line',\n\t'linearGradient',\n\t'marker',\n\t'mask',\n\t'mesh',\n\t'meshgradient',\n\t'meshpatch',\n\t'meshrow',\n\t'metadata',\n\t'missing-glyph',\n\t'mpath',\n\t'path',\n\t'pattern',\n\t'polygon',\n\t'polyline',\n\t'radialGradient',\n\t'rect',\n\t'set',\n\t'solidcolor',\n\t'stop',\n\t'svg',\n\t'switch',\n\t'symbol',\n\t'text',\n\t'textPath',\n\t'tref',\n\t'tspan',\n\t'unknown',\n\t'use',\n\t'view',\n\t'vkern'\n];\n\n/** @param {string} name */\nexport function is_svg(name) {\n\treturn SVG_ELEMENTS.includes(name);\n}\n\nconst MATHML_ELEMENTS = [\n\t'annotation',\n\t'annotation-xml',\n\t'maction',\n\t'math',\n\t'merror',\n\t'mfrac',\n\t'mi',\n\t'mmultiscripts',\n\t'mn',\n\t'mo',\n\t'mover',\n\t'mpadded',\n\t'mphantom',\n\t'mprescripts',\n\t'mroot',\n\t'mrow',\n\t'ms',\n\t'mspace',\n\t'msqrt',\n\t'mstyle',\n\t'msub',\n\t'msubsup',\n\t'msup',\n\t'mtable',\n\t'mtd',\n\t'mtext',\n\t'mtr',\n\t'munder',\n\t'munderover',\n\t'semantics'\n];\n\n/** @param {string} name */\nexport function is_mathml(name) {\n\treturn MATHML_ELEMENTS.includes(name);\n}\n\nconst RUNES = /** @type {const} */ ([\n\t'$state',\n\t'$state.raw',\n\t'$state.snapshot',\n\t'$props',\n\t'$props.id',\n\t'$bindable',\n\t'$derived',\n\t'$derived.by',\n\t'$effect',\n\t'$effect.pre',\n\t'$effect.tracking',\n\t'$effect.root',\n\t'$inspect',\n\t'$inspect().with',\n\t'$inspect.trace',\n\t'$host'\n]);\n\n/**\n * @param {string} name\n * @returns {name is RUNES[number]}\n */\nexport function is_rune(name) {\n\treturn RUNES.includes(/** @type {RUNES[number]} */ (name));\n}\n\n/** List of elements that require raw contents and should not have SSR comments put in them */\nconst RAW_TEXT_ELEMENTS = /** @type {const} */ (['textarea', 'script', 'style', 'title']);\n\n/** @param {string} name */\nexport function is_raw_text_element(name) {\n\treturn RAW_TEXT_ELEMENTS.includes(/** @type {RAW_TEXT_ELEMENTS[number]} */ (name));\n}\n\n/**\n * Prevent devtools trying to make `location` a clickable link by inserting a zero-width space\n * @param {string | undefined} location\n */\nexport function sanitize_location(location) {\n\treturn location?.replace(/\\//g, '/\\u200b');\n}\n","import { hydrating } from '../hydration.js';\nimport { clear_text_content, get_first_child } from '../operations.js';\nimport { queue_micro_task } from '../task.js';\n\n/**\n * @param {HTMLElement} dom\n * @param {boolean} value\n * @returns {void}\n */\nexport function autofocus(dom, value) {\n\tif (value) {\n\t\tconst body = document.body;\n\t\tdom.autofocus = true;\n\n\t\tqueue_micro_task(() => {\n\t\t\tif (document.activeElement === body) {\n\t\t\t\tdom.focus();\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * The child of a textarea actually corresponds to the defaultValue property, so we need\n * to remove it upon hydration to avoid a bug when someone resets the form value.\n * @param {HTMLTextAreaElement} dom\n * @returns {void}\n */\nexport function remove_textarea_child(dom) {\n\tif (hydrating && get_first_child(dom) !== null) {\n\t\tclear_text_content(dom);\n\t}\n}\n\nlet listening_to_form_reset = false;\n\nexport function add_form_reset_listener() {\n\tif (!listening_to_form_reset) {\n\t\tlistening_to_form_reset = true;\n\t\tdocument.addEventListener(\n\t\t\t'reset',\n\t\t\t(evt) => {\n\t\t\t\t// Needs to happen one tick later or else the dom properties of the form\n\t\t\t\t// elements have not updated to their reset values yet\n\t\t\t\tPromise.resolve().then(() => {\n\t\t\t\t\tif (!evt.defaultPrevented) {\n\t\t\t\t\t\tfor (const e of /**@type {HTMLFormElement} */ (evt.target).elements) {\n\t\t\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\t\t\te.__on_r?.();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// In the capture phase to guarantee we get noticed of it (no possiblity of stopPropagation)\n\t\t\t{ capture: true }\n\t\t);\n\t}\n}\n","import { teardown } from '../../../reactivity/effects.js';\nimport {\n\tactive_effect,\n\tactive_reaction,\n\tset_active_effect,\n\tset_active_reaction\n} from '../../../runtime.js';\nimport { add_form_reset_listener } from '../misc.js';\n\n/**\n * Fires the handler once immediately (unless corresponding arg is set to `false`),\n * then listens to the given events until the render effect context is destroyed\n * @param {EventTarget} target\n * @param {Array<string>} events\n * @param {(event?: Event) => void} handler\n * @param {any} call_handler_immediately\n */\nexport function listen(target, events, handler, call_handler_immediately = true) {\n\tif (call_handler_immediately) {\n\t\thandler();\n\t}\n\n\tfor (var name of events) {\n\t\ttarget.addEventListener(name, handler);\n\t}\n\n\tteardown(() => {\n\t\tfor (var name of events) {\n\t\t\ttarget.removeEventListener(name, handler);\n\t\t}\n\t});\n}\n\n/**\n * @template T\n * @param {() => T} fn\n */\nexport function without_reactive_context(fn) {\n\tvar previous_reaction = active_reaction;\n\tvar previous_effect = active_effect;\n\tset_active_reaction(null);\n\tset_active_effect(null);\n\ttry {\n\t\treturn fn();\n\t} finally {\n\t\tset_active_reaction(previous_reaction);\n\t\tset_active_effect(previous_effect);\n\t}\n}\n\n/**\n * Listen to the given event, and then instantiate a global form reset listener if not already done,\n * to notify all bindings when the form is reset\n * @param {HTMLElement} element\n * @param {string} event\n * @param {(is_reset?: true) => void} handler\n * @param {(is_reset?: true) => void} [on_reset]\n */\nexport function listen_to_event_and_reset_event(element, event, handler, on_reset = handler) {\n\telement.addEventListener(event, () => without_reactive_context(handler));\n\t// @ts-expect-error\n\tconst prev = element.__on_r;\n\tif (prev) {\n\t\t// special case for checkbox that can have multiple binds (group & checked)\n\t\t// @ts-expect-error\n\t\telement.__on_r = () => {\n\t\t\tprev();\n\t\t\ton_reset(true);\n\t\t};\n\t} else {\n\t\t// @ts-expect-error\n\t\telement.__on_r = () => on_reset(true);\n\t}\n\n\tadd_form_reset_listener();\n}\n","/** @import { Location } from 'locate-character' */\nimport { teardown } from '../../reactivity/effects.js';\nimport { define_property, is_array } from '../../../shared/utils.js';\nimport { hydrating } from '../hydration.js';\nimport { queue_micro_task } from '../task.js';\nimport { FILENAME } from '../../../../constants.js';\nimport * as w from '../../warnings.js';\nimport {\n\tactive_effect,\n\tactive_reaction,\n\tset_active_effect,\n\tset_active_reaction\n} from '../../runtime.js';\nimport { without_reactive_context } from './bindings/shared.js';\n\n/** @type {Set<string>} */\nexport const all_registered_events = new Set();\n\n/** @type {Set<(events: Array<string>) => void>} */\nexport const root_event_handles = new Set();\n\n/**\n * SSR adds onload and onerror attributes to catch those events before the hydration.\n * This function detects those cases, removes the attributes and replays the events.\n * @param {HTMLElement} dom\n */\nexport function replay_events(dom) {\n\tif (!hydrating) return;\n\n\tif (dom.onload) {\n\t\tdom.removeAttribute('onload');\n\t}\n\tif (dom.onerror) {\n\t\tdom.removeAttribute('onerror');\n\t}\n\t// @ts-expect-error\n\tconst event = dom.__e;\n\tif (event !== undefined) {\n\t\t// @ts-expect-error\n\t\tdom.__e = undefined;\n\t\tqueueMicrotask(() => {\n\t\t\tif (dom.isConnected) {\n\t\t\t\tdom.dispatchEvent(event);\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * @param {string} event_name\n * @param {EventTarget} dom\n * @param {EventListener} [handler]\n * @param {AddEventListenerOptions} [options]\n */\nexport function create_event(event_name, dom, handler, options = {}) {\n\t/**\n\t * @this {EventTarget}\n\t */\n\tfunction target_handler(/** @type {Event} */ event) {\n\t\tif (!options.capture) {\n\t\t\t// Only call in the bubble phase, else delegated events would be called before the capturing events\n\t\t\thandle_event_propagation.call(dom, event);\n\t\t}\n\t\tif (!event.cancelBubble) {\n\t\t\treturn without_reactive_context(() => {\n\t\t\t\treturn handler?.call(this, event);\n\t\t\t});\n\t\t}\n\t}\n\n\t// Chrome has a bug where pointer events don't work when attached to a DOM element that has been cloned\n\t// with cloneNode() and the DOM element is disconnected from the document. To ensure the event works, we\n\t// defer the attachment till after it's been appended to the document. TODO: remove this once Chrome fixes\n\t// this bug. The same applies to wheel events and touch events.\n\tif (\n\t\tevent_name.startsWith('pointer') ||\n\t\tevent_name.startsWith('touch') ||\n\t\tevent_name === 'wheel'\n\t) {\n\t\tqueue_micro_task(() => {\n\t\t\tdom.addEventListener(event_name, target_handler, options);\n\t\t});\n\t} else {\n\t\tdom.addEventListener(event_name, target_handler, options);\n\t}\n\n\treturn target_handler;\n}\n\n/**\n * Attaches an event handler to an element and returns a function that removes the handler. Using this\n * rather than `addEventListener` will preserve the correct order relative to handlers added declaratively\n * (with attributes like `onclick`), which use event delegation for performance reasons\n *\n * @param {EventTarget} element\n * @param {string} type\n * @param {EventListener} handler\n * @param {AddEventListenerOptions} [options]\n */\nexport function on(element, type, handler, options = {}) {\n\tvar target_handler = create_event(type, element, handler, options);\n\n\treturn () => {\n\t\telement.removeEventListener(type, target_handler, options);\n\t};\n}\n\n/**\n * @param {string} event_name\n * @param {Element} dom\n * @param {EventListener} [handler]\n * @param {boolean} [capture]\n * @param {boolean} [passive]\n * @returns {void}\n */\nexport function event(event_name, dom, handler, capture, passive) {\n\tvar options = { capture, passive };\n\tvar target_handler = create_event(event_name, dom, handler, options);\n\n\t// @ts-ignore\n\tif (dom === document.body || dom === window || dom === document) {\n\t\tteardown(() => {\n\t\t\tdom.removeEventListener(event_name, target_handler, options);\n\t\t});\n\t}\n}\n\n/**\n * @param {Array<string>} events\n * @returns {void}\n */\nexport function delegate(events) {\n\tfor (var i = 0; i < events.length; i++) {\n\t\tall_registered_events.add(events[i]);\n\t}\n\n\tfor (var fn of root_event_handles) {\n\t\tfn(events);\n\t}\n}\n\n/**\n * @this {EventTarget}\n * @param {Event} event\n * @returns {void}\n */\nexport function handle_event_propagation(event) {\n\tvar handler_element = this;\n\tvar owner_document = /** @type {Node} */ (handler_element).ownerDocument;\n\tvar event_name = event.type;\n\tvar path = event.composedPath?.() || [];\n\tvar current_target = /** @type {null | Element} */ (path[0] || event.target);\n\n\t// composedPath contains list of nodes the event has propagated through.\n\t// We check __root to skip all nodes below it in case this is a\n\t// parent of the __root node, which indicates that there's nested\n\t// mounted apps. In this case we don't want to trigger events multiple times.\n\tvar path_idx = 0;\n\n\t// @ts-expect-error is added below\n\tvar handled_at = event.__root;\n\n\tif (handled_at) {\n\t\tvar at_idx = path.indexOf(handled_at);\n\t\tif (\n\t\t\tat_idx !== -1 &&\n\t\t\t(handler_element === document || handler_element === /** @type {any} */ (window))\n\t\t) {\n\t\t\t// This is the fallback document listener or a window listener, but the event was already handled\n\t\t\t// -> ignore, but set handle_at to document/window so that we're resetting the event\n\t\t\t// chain in case someone manually dispatches the same event object again.\n\t\t\t// @ts-expect-error\n\t\t\tevent.__root = handler_element;\n\t\t\treturn;\n\t\t}\n\n\t\t// We're deliberately not skipping if the index is higher, because\n\t\t// someone could create an event programmatically and emit it multiple times,\n\t\t// in which case we want to handle the whole propagation chain properly each time.\n\t\t// (this will only be a false negative if the event is dispatched multiple times and\n\t\t// the fallback document listener isn't reached in between, but that's super rare)\n\t\tvar handler_idx = path.indexOf(handler_element);\n\t\tif (handler_idx === -1) {\n\t\t\t// handle_idx can theoretically be -1 (happened in some JSDOM testing scenarios with an event listener on the window object)\n\t\t\t// so guard against that, too, and assume that everything was handled at this point.\n\t\t\treturn;\n\t\t}\n\n\t\tif (at_idx <= handler_idx) {\n\t\t\tpath_idx = at_idx;\n\t\t}\n\t}\n\n\tcurrent_target = /** @type {Element} */ (path[path_idx] || event.target);\n\t// there can only be one delegated event per element, and we either already handled the current target,\n\t// or this is the very first target in the chain which has a non-delegated listener, in which case it's safe\n\t// to handle a possible delegated event on it later (through the root delegation listener for example).\n\tif (current_target === handler_element) return;\n\n\t// Proxy currentTarget to correct target\n\tdefine_property(event, 'currentTarget', {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn current_target || owner_document;\n\t\t}\n\t});\n\n\t// This started because of Chromium issue https://chromestatus.com/feature/5128696823545856,\n\t// where removal or moving of of the DOM can cause sync `blur` events to fire, which can cause logic\n\t// to run inside the current `active_reaction`, which isn't what we want at all. However, on reflection,\n\t// it's probably best that all event handled by Svelte have this behaviour, as we don't really want\n\t// an event handler to run in the context of another reaction or effect.\n\tvar previous_reaction = active_reaction;\n\tvar previous_effect = active_effect;\n\tset_active_reaction(null);\n\tset_active_effect(null);\n\n\ttry {\n\t\t/**\n\t\t * @type {unknown}\n\t\t */\n\t\tvar throw_error;\n\t\t/**\n\t\t * @type {unknown[]}\n\t\t */\n\t\tvar other_errors = [];\n\n\t\twhile (current_target !== null) {\n\t\t\t/** @type {null | Element} */\n\t\t\tvar parent_element =\n\t\t\t\tcurrent_target.assignedSlot ||\n\t\t\t\tcurrent_target.parentNode ||\n\t\t\t\t/** @type {any} */ (current_target).host ||\n\t\t\t\tnull;\n\n\t\t\ttry {\n\t\t\t\t// @ts-expect-error\n\t\t\t\tvar delegated = current_target['__' + event_name];\n\n\t\t\t\tif (\n\t\t\t\t\tdelegated !== undefined &&\n\t\t\t\t\t(!(/** @type {any} */ (current_target).disabled) ||\n\t\t\t\t\t\t// DOM could've been updated already by the time this is reached, so we check this as well\n\t\t\t\t\t\t// -> the target could not have been disabled because it emits the event in the first place\n\t\t\t\t\t\tevent.target === current_target)\n\t\t\t\t) {\n\t\t\t\t\tif (is_array(delegated)) {\n\t\t\t\t\t\tvar [fn, ...data] = delegated;\n\t\t\t\t\t\tfn.apply(current_target, [event, ...data]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelegated.call(current_target, event);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (throw_error) {\n\t\t\t\t\tother_errors.push(error);\n\t\t\t\t} else {\n\t\t\t\t\tthrow_error = error;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (event.cancelBubble || parent_element === handler_element || parent_element === null) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcurrent_target = parent_element;\n\t\t}\n\n\t\tif (throw_error) {\n\t\t\tfor (let error of other_errors) {\n\t\t\t\t// Throw the rest of the errors, one-by-one on a microtask\n\t\t\t\tqueueMicrotask(() => {\n\t\t\t\t\tthrow error;\n\t\t\t\t});\n\t\t\t}\n\t\t\tthrow throw_error;\n\t\t}\n\t} finally {\n\t\t// @ts-expect-error is used above\n\t\tevent.__root = handler_element;\n\t\t// @ts-ignore remove proxy on currentTarget\n\t\tdelete event.currentTarget;\n\t\tset_active_reaction(previous_reaction);\n\t\tset_active_effect(previous_effect);\n\t}\n}\n\n/**\n * In dev, warn if an event handler is not a function, as it means the\n * user probably called the handler or forgot to add a `() =>`\n * @param {() => (event: Event, ...args: any) => void} thunk\n * @param {EventTarget} element\n * @param {[Event, ...any]} args\n * @param {any} component\n * @param {[number, number]} [loc]\n * @param {boolean} [remove_parens]\n */\nexport function apply(\n\tthunk,\n\telement,\n\targs,\n\tcomponent,\n\tloc,\n\thas_side_effects = false,\n\tremove_parens = false\n) {\n\tlet handler;\n\tlet error;\n\n\ttry {\n\t\thandler = thunk();\n\t} catch (e) {\n\t\terror = e;\n\t}\n\n\tif (typeof handler === 'function') {\n\t\thandler.apply(element, args);\n\t} else if (has_side_effects || handler != null || error) {\n\t\tconst filename = component?.[FILENAME];\n\t\tconst location = loc ? ` at ${filename}:${loc[0]}:${loc[1]}` : ` in ${filename}`;\n\n\t\tconst event_name = args[0].type;\n\t\tconst description = `\\`${event_name}\\` handler${location}`;\n\t\tconst suggestion = remove_parens ? 'remove the trailing `()`' : 'add a leading `() =>`';\n\n\t\tw.event_handler_invalid(description, suggestion);\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n","/** @param {string} html */\nexport function create_fragment_from_html(html) {\n\tvar elem = document.createElement('template');\n\telem.innerHTML = html;\n\treturn elem.content;\n}\n","/** @import { Effect, TemplateNode } from '#client' */\nimport { hydrate_next, hydrate_node, hydrating, set_hydrate_node } from './hydration.js';\nimport { create_text, get_first_child, is_firefox } from './operations.js';\nimport { create_fragment_from_html } from './reconciler.js';\nimport { active_effect } from '../runtime.js';\nimport { TEMPLATE_FRAGMENT, TEMPLATE_USE_IMPORT_NODE } from '../../../constants.js';\n\n/**\n * @param {TemplateNode} start\n * @param {TemplateNode | null} end\n */\nexport function assign_nodes(start, end) {\n\tvar effect = /** @type {Effect} */ (active_effect);\n\tif (effect.nodes_start === null) {\n\t\teffect.nodes_start = start;\n\t\teffect.nodes_end = end;\n\t}\n}\n\n/**\n * @param {string} content\n * @param {number} flags\n * @returns {() => Node | Node[]}\n */\n/*#__NO_SIDE_EFFECTS__*/\nexport function template(content, flags) {\n\tvar is_fragment = (flags & TEMPLATE_FRAGMENT) !== 0;\n\tvar use_import_node = (flags & TEMPLATE_USE_IMPORT_NODE) !== 0;\n\n\t/** @type {Node} */\n\tvar node;\n\n\t/**\n\t * Whether or not the first item is a text/element node. If not, we need to\n\t * create an additional comment node to act as `effect.nodes.start`\n\t */\n\tvar has_start = !content.startsWith('<!>');\n\n\treturn () => {\n\t\tif (hydrating) {\n\t\t\tassign_nodes(hydrate_node, null);\n\t\t\treturn hydrate_node;\n\t\t}\n\n\t\tif (node === undefined) {\n\t\t\tnode = create_fragment_from_html(has_start ? content : '<!>' + content);\n\t\t\tif (!is_fragment) node = /** @type {Node} */ (get_first_child(node));\n\t\t}\n\n\t\tvar clone = /** @type {TemplateNode} */ (\n\t\t\tuse_import_node || is_firefox ? document.importNode(node, true) : node.cloneNode(true)\n\t\t);\n\n\t\tif (is_fragment) {\n\t\t\tvar start = /** @type {TemplateNode} */ (get_first_child(clone));\n\t\t\tvar end = /** @type {TemplateNode} */ (clone.lastChild);\n\n\t\t\tassign_nodes(start, end);\n\t\t} else {\n\t\t\tassign_nodes(clone, clone);\n\t\t}\n\n\t\treturn clone;\n\t};\n}\n\n/**\n * @param {string} content\n * @param {number} flags\n * @returns {() => Node | Node[]}\n */\n/*#__NO_SIDE_EFFECTS__*/\nexport function template_with_script(content, flags) {\n\tvar fn = template(content, flags);\n\treturn () => run_scripts(/** @type {Element | DocumentFragment} */ (fn()));\n}\n\n/**\n * @param {string} content\n * @param {number} flags\n * @param {'svg' | 'math'} ns\n * @returns {() => Node | Node[]}\n */\n/*#__NO_SIDE_EFFECTS__*/\nexport function ns_template(content, flags, ns = 'svg') {\n\t/**\n\t * Whether or not the first item is a text/element node. If not, we need to\n\t * create an additional comment node to act as `effect.nodes.start`\n\t */\n\tvar has_start = !content.startsWith('<!>');\n\n\tvar is_fragment = (flags & TEMPLATE_FRAGMENT) !== 0;\n\tvar wrapped = `<${ns}>${has_start ? content : '<!>' + content}</${ns}>`;\n\n\t/** @type {Element | DocumentFragment} */\n\tvar node;\n\n\treturn () => {\n\t\tif (hydrating) {\n\t\t\tassign_nodes(hydrate_node, null);\n\t\t\treturn hydrate_node;\n\t\t}\n\n\t\tif (!node) {\n\t\t\tvar fragment = /** @type {DocumentFragment} */ (create_fragment_from_html(wrapped));\n\t\t\tvar root = /** @type {Element} */ (get_first_child(fragment));\n\n\t\t\tif (is_fragment) {\n\t\t\t\tnode = document.createDocumentFragment();\n\t\t\t\twhile (get_first_child(root)) {\n\t\t\t\t\tnode.appendChild(/** @type {Node} */ (get_first_child(root)));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode = /** @type {Element} */ (get_first_child(root));\n\t\t\t}\n\t\t}\n\n\t\tvar clone = /** @type {TemplateNode} */ (node.cloneNode(true));\n\n\t\tif (is_fragment) {\n\t\t\tvar start = /** @type {TemplateNode} */ (get_first_child(clone));\n\t\t\tvar end = /** @type {TemplateNode} */ (clone.lastChild);\n\n\t\t\tassign_nodes(start, end);\n\t\t} else {\n\t\t\tassign_nodes(clone, clone);\n\t\t}\n\n\t\treturn clone;\n\t};\n}\n\n/**\n * @param {string} content\n * @param {number} flags\n * @returns {() => Node | Node[]}\n */\n/*#__NO_SIDE_EFFECTS__*/\nexport function svg_template_with_script(content, flags) {\n\tvar fn = ns_template(content, flags);\n\treturn () => run_scripts(/** @type {Element | DocumentFragment} */ (fn()));\n}\n\n/**\n * @param {string} content\n * @param {number} flags\n * @returns {() => Node | Node[]}\n */\n/*#__NO_SIDE_EFFECTS__*/\nexport function mathml_template(content, flags) {\n\treturn ns_template(content, flags, 'math');\n}\n\n/**\n * Creating a document fragment from HTML that contains script tags will not execute\n * the scripts. We need to replace the script tags with new ones so that they are executed.\n * @param {Element | DocumentFragment} node\n * @returns {Node | Node[]}\n */\nfunction run_scripts(node) {\n\t// scripts were SSR'd, in which case they will run\n\tif (hydrating) return node;\n\n\tconst is_fragment = node.nodeType === 11;\n\tconst scripts =\n\t\t/** @type {HTMLElement} */ (node).tagName === 'SCRIPT'\n\t\t\t? [/** @type {HTMLScriptElement} */ (node)]\n\t\t\t: node.querySelectorAll('script');\n\tconst effect = /** @type {Effect} */ (active_effect);\n\n\tfor (const script of scripts) {\n\t\tconst clone = document.createElement('script');\n\t\tfor (var attribute of script.attributes) {\n\t\t\tclone.setAttribute(attribute.name, attribute.value);\n\t\t}\n\n\t\tclone.textContent = script.textContent;\n\n\t\t// The script has changed - if it's at the edges, the effect now points at dead nodes\n\t\tif (is_fragment ? node.firstChild === script : node === script) {\n\t\t\teffect.nodes_start = clone;\n\t\t}\n\t\tif (is_fragment ? node.lastChild === script : node === script) {\n\t\t\teffect.nodes_end = clone;\n\t\t}\n\n\t\tscript.replaceWith(clone);\n\t}\n\treturn node;\n}\n\n/**\n * Don't mark this as side-effect-free, hydration needs to walk all nodes\n * @param {any} value\n */\nexport function text(value = '') {\n\tif (!hydrating) {\n\t\tvar t = create_text(value + '');\n\t\tassign_nodes(t, t);\n\t\treturn t;\n\t}\n\n\tvar node = hydrate_node;\n\n\tif (node.nodeType !== 3) {\n\t\t// if an {expression} is empty during SSR, we need to insert an empty text node\n\t\tnode.before((node = create_text()));\n\t\tset_hydrate_node(node);\n\t}\n\n\tassign_nodes(node, node);\n\treturn node;\n}\n\nexport function comment() {\n\t// we're not delegating to `template` here for performance reasons\n\tif (hydrating) {\n\t\tassign_nodes(hydrate_node, null);\n\t\treturn hydrate_node;\n\t}\n\n\tvar frag = document.createDocumentFragment();\n\tvar start = document.createComment('');\n\tvar anchor = create_text();\n\tfrag.append(start, anchor);\n\n\tassign_nodes(start, anchor);\n\n\treturn frag;\n}\n\n/**\n * Assign the created (or in hydration mode, traversed) dom elements to the current block\n * and insert the elements into the dom (in client mode).\n * @param {Text | Comment | Element} anchor\n * @param {DocumentFragment | Element} dom\n */\nexport function append(anchor, dom) {\n\tif (hydrating) {\n\t\t/** @type {Effect} */ (active_effect).nodes_end = hydrate_node;\n\t\thydrate_next();\n\t\treturn;\n\t}\n\n\tif (anchor === null) {\n\t\t// edge case — void `<svelte:element>` with content\n\t\treturn;\n\t}\n\n\tanchor.before(/** @type {Node} */ (dom));\n}\n\nlet uid = 1;\n\nexport function reset_props_id() {\n\tuid = 1;\n}\n\n/**\n * Create (or hydrate) an unique UID for the component instance.\n */\nexport function props_id() {\n\tif (\n\t\thydrating &&\n\t\thydrate_node &&\n\t\thydrate_node.nodeType === 8 &&\n\t\thydrate_node.textContent?.startsWith('#s')\n\t) {\n\t\tconst id = hydrate_node.textContent.substring(1);\n\t\thydrate_next();\n\t\treturn id;\n\t}\n\n\treturn 'c' + uid++;\n}\n","/** @import { ComponentContext, Effect, TemplateNode } from '#client' */\n/** @import { Component, ComponentType, SvelteComponent, MountOptions } from '../../index.js' */\nimport { DEV } from 'esm-env';\nimport {\n\tclear_text_content,\n\tcreate_text,\n\tget_first_child,\n\tget_next_sibling,\n\tinit_operations\n} from './dom/operations.js';\nimport { HYDRATION_END, HYDRATION_ERROR, HYDRATION_START } from '../../constants.js';\nimport { active_effect } from './runtime.js';\nimport { push, pop, component_context } from './context.js';\nimport { component_root, branch } from './reactivity/effects.js';\nimport {\n\thydrate_next,\n\thydrate_node,\n\thydrating,\n\tset_hydrate_node,\n\tset_hydrating\n} from './dom/hydration.js';\nimport { array_from } from '../shared/utils.js';\nimport {\n\tall_registered_events,\n\thandle_event_propagation,\n\troot_event_handles\n} from './dom/elements/events.js';\nimport { reset_head_anchor } from './dom/blocks/svelte-head.js';\nimport * as w from './warnings.js';\nimport * as e from './errors.js';\nimport { assign_nodes } from './dom/template.js';\nimport { is_passive_event } from '../../utils.js';\n\n/**\n * This is normally true — block effects should run their intro transitions —\n * but is false during hydration (unless `options.intro` is `true`) and\n * when creating the children of a `<svelte:element>` that just changed tag\n */\nexport let should_intro = true;\n\n/** @param {boolean} value */\nexport function set_should_intro(value) {\n\tshould_intro = value;\n}\n\n/**\n * @param {Element} text\n * @param {string} value\n * @returns {void}\n */\nexport function set_text(text, value) {\n\t// For objects, we apply string coercion (which might make things like $state array references in the template reactive) before diffing\n\tvar str = value == null ? '' : typeof value === 'object' ? value + '' : value;\n\t// @ts-expect-error\n\tif (str !== (text.__t ??= text.nodeValue)) {\n\t\t// @ts-expect-error\n\t\ttext.__t = str;\n\t\ttext.nodeValue = str + '';\n\t}\n}\n\n/**\n * Mounts a component to the given target and returns the exports and potentially the props (if compiled with `accessors: true`) of the component.\n * Transitions will play during the initial render unless the `intro` option is set to `false`.\n *\n * @template {Record<string, any>} Props\n * @template {Record<string, any>} Exports\n * @param {ComponentType<SvelteComponent<Props>> | Component<Props, Exports, any>} component\n * @param {MountOptions<Props>} options\n * @returns {Exports}\n */\nexport function mount(component, options) {\n\treturn _mount(component, options);\n}\n\n/**\n * Hydrates a component on the given target and returns the exports and potentially the props (if compiled with `accessors: true`) of the component\n *\n * @template {Record<string, any>} Props\n * @template {Record<string, any>} Exports\n * @param {ComponentType<SvelteComponent<Props>> | Component<Props, Exports, any>} component\n * @param {{} extends Props ? {\n * \t\ttarget: Document | Element | ShadowRoot;\n * \t\tprops?: Props;\n * \t\tevents?: Record<string, (e: any) => any>;\n *  \tcontext?: Map<any, any>;\n * \t\tintro?: boolean;\n * \t\trecover?: boolean;\n * \t} : {\n * \t\ttarget: Document | Element | ShadowRoot;\n * \t\tprops: Props;\n * \t\tevents?: Record<string, (e: any) => any>;\n *  \tcontext?: Map<any, any>;\n * \t\tintro?: boolean;\n * \t\trecover?: boolean;\n * \t}} options\n * @returns {Exports}\n */\nexport function hydrate(component, options) {\n\tinit_operations();\n\toptions.intro = options.intro ?? false;\n\tconst target = options.target;\n\tconst was_hydrating = hydrating;\n\tconst previous_hydrate_node = hydrate_node;\n\n\ttry {\n\t\tvar anchor = /** @type {TemplateNode} */ (get_first_child(target));\n\t\twhile (\n\t\t\tanchor &&\n\t\t\t(anchor.nodeType !== 8 || /** @type {Comment} */ (anchor).data !== HYDRATION_START)\n\t\t) {\n\t\t\tanchor = /** @type {TemplateNode} */ (get_next_sibling(anchor));\n\t\t}\n\n\t\tif (!anchor) {\n\t\t\tthrow HYDRATION_ERROR;\n\t\t}\n\n\t\tset_hydrating(true);\n\t\tset_hydrate_node(/** @type {Comment} */ (anchor));\n\t\thydrate_next();\n\n\t\tconst instance = _mount(component, { ...options, anchor });\n\n\t\tif (\n\t\t\thydrate_node === null ||\n\t\t\thydrate_node.nodeType !== 8 ||\n\t\t\t/** @type {Comment} */ (hydrate_node).data !== HYDRATION_END\n\t\t) {\n\t\t\tw.hydration_mismatch();\n\t\t\tthrow HYDRATION_ERROR;\n\t\t}\n\n\t\tset_hydrating(false);\n\n\t\treturn /**  @type {Exports} */ (instance);\n\t} catch (error) {\n\t\tif (error === HYDRATION_ERROR) {\n\t\t\tif (options.recover === false) {\n\t\t\t\te.hydration_failed();\n\t\t\t}\n\n\t\t\t// If an error occured above, the operations might not yet have been initialised.\n\t\t\tinit_operations();\n\t\t\tclear_text_content(target);\n\n\t\t\tset_hydrating(false);\n\t\t\treturn mount(component, options);\n\t\t}\n\n\t\tthrow error;\n\t} finally {\n\t\tset_hydrating(was_hydrating);\n\t\tset_hydrate_node(previous_hydrate_node);\n\t\treset_head_anchor();\n\t}\n}\n\n/** @type {Map<string, number>} */\nconst document_listeners = new Map();\n\n/**\n * @template {Record<string, any>} Exports\n * @param {ComponentType<SvelteComponent<any>> | Component<any>} Component\n * @param {MountOptions} options\n * @returns {Exports}\n */\nfunction _mount(Component, { target, anchor, props = {}, events, context, intro = true }) {\n\tinit_operations();\n\n\tvar registered_events = new Set();\n\n\t/** @param {Array<string>} events */\n\tvar event_handle = (events) => {\n\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\tvar event_name = events[i];\n\n\t\t\tif (registered_events.has(event_name)) continue;\n\t\t\tregistered_events.add(event_name);\n\n\t\t\tvar passive = is_passive_event(event_name);\n\n\t\t\t// Add the event listener to both the container and the document.\n\t\t\t// The container listener ensures we catch events from within in case\n\t\t\t// the outer content stops propagation of the event.\n\t\t\ttarget.addEventListener(event_name, handle_event_propagation, { passive });\n\n\t\t\tvar n = document_listeners.get(event_name);\n\n\t\t\tif (n === undefined) {\n\t\t\t\t// The document listener ensures we catch events that originate from elements that were\n\t\t\t\t// manually moved outside of the container (e.g. via manual portals).\n\t\t\t\tdocument.addEventListener(event_name, handle_event_propagation, { passive });\n\t\t\t\tdocument_listeners.set(event_name, 1);\n\t\t\t} else {\n\t\t\t\tdocument_listeners.set(event_name, n + 1);\n\t\t\t}\n\t\t}\n\t};\n\n\tevent_handle(array_from(all_registered_events));\n\troot_event_handles.add(event_handle);\n\n\t/** @type {Exports} */\n\t// @ts-expect-error will be defined because the render effect runs synchronously\n\tvar component = undefined;\n\n\tvar unmount = component_root(() => {\n\t\tvar anchor_node = anchor ?? target.appendChild(create_text());\n\n\t\tbranch(() => {\n\t\t\tif (context) {\n\t\t\t\tpush({});\n\t\t\t\tvar ctx = /** @type {ComponentContext} */ (component_context);\n\t\t\t\tctx.c = context;\n\t\t\t}\n\n\t\t\tif (events) {\n\t\t\t\t// We can't spread the object or else we'd lose the state proxy stuff, if it is one\n\t\t\t\t/** @type {any} */ (props).$$events = events;\n\t\t\t}\n\n\t\t\tif (hydrating) {\n\t\t\t\tassign_nodes(/** @type {TemplateNode} */ (anchor_node), null);\n\t\t\t}\n\n\t\t\tshould_intro = intro;\n\t\t\t// @ts-expect-error the public typings are not what the actual function looks like\n\t\t\tcomponent = Component(anchor_node, props) || {};\n\t\t\tshould_intro = true;\n\n\t\t\tif (hydrating) {\n\t\t\t\t/** @type {Effect} */ (active_effect).nodes_end = hydrate_node;\n\t\t\t}\n\n\t\t\tif (context) {\n\t\t\t\tpop();\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tfor (var event_name of registered_events) {\n\t\t\t\ttarget.removeEventListener(event_name, handle_event_propagation);\n\n\t\t\t\tvar n = /** @type {number} */ (document_listeners.get(event_name));\n\n\t\t\t\tif (--n === 0) {\n\t\t\t\t\tdocument.removeEventListener(event_name, handle_event_propagation);\n\t\t\t\t\tdocument_listeners.delete(event_name);\n\t\t\t\t} else {\n\t\t\t\t\tdocument_listeners.set(event_name, n);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\troot_event_handles.delete(event_handle);\n\n\t\t\tif (anchor_node !== anchor) {\n\t\t\t\tanchor_node.parentNode?.removeChild(anchor_node);\n\t\t\t}\n\t\t};\n\t});\n\n\tmounted_components.set(component, unmount);\n\treturn component;\n}\n\n/**\n * References of the components that were mounted or hydrated.\n * Uses a `WeakMap` to avoid memory leaks.\n */\nlet mounted_components = new WeakMap();\n\n/**\n * Unmounts a component that was previously mounted using `mount` or `hydrate`.\n *\n * Since 5.13.0, if `options.outro` is `true`, [transitions](https://svelte.dev/docs/svelte/transition) will play before the component is removed from the DOM.\n *\n * Returns a `Promise` that resolves after transitions have completed if `options.outro` is true, or immediately otherwise (prior to 5.13.0, returns `void`).\n *\n * ```js\n * import { mount, unmount } from 'svelte';\n * import App from './App.svelte';\n *\n * const app = mount(App, { target: document.body });\n *\n * // later...\n * unmount(app, { outro: true });\n * ```\n * @param {Record<string, any>} component\n * @param {{ outro?: boolean }} [options]\n * @returns {Promise<void>}\n */\nexport function unmount(component, options) {\n\tconst fn = mounted_components.get(component);\n\n\tif (fn) {\n\t\tmounted_components.delete(component);\n\t\treturn fn(options);\n\t}\n\n\tif (DEV) {\n\t\tw.lifecycle_double_unmount();\n\t}\n\n\treturn Promise.resolve();\n}\n","/** @import { Effect, TemplateNode } from '#client' */\nimport { EFFECT_TRANSPARENT } from '../../constants.js';\nimport {\n\thydrate_next,\n\thydrate_node,\n\thydrating,\n\tremove_nodes,\n\tset_hydrate_node,\n\tset_hydrating\n} from '../hydration.js';\nimport { block, branch, pause_effect, resume_effect } from '../../reactivity/effects.js';\nimport { HYDRATION_START, HYDRATION_START_ELSE, UNINITIALIZED } from '../../../../constants.js';\n\n/**\n * @param {TemplateNode} node\n * @param {(branch: (fn: (anchor: Node, elseif?: [number,number]) => void, flag?: boolean) => void) => void} fn\n * @param {[number,number]} [elseif]\n * @returns {void}\n */\nexport function if_block(node, fn, [root_index, hydrate_index] = [0, 0]) {\n\tif (hydrating && root_index === 0) {\n\t\thydrate_next();\n\t}\n\n\tvar anchor = node;\n\n\t/** @type {Effect | null} */\n\tvar consequent_effect = null;\n\n\t/** @type {Effect | null} */\n\tvar alternate_effect = null;\n\n\t/** @type {UNINITIALIZED | boolean | null} */\n\tvar condition = UNINITIALIZED;\n\n\tvar flags = root_index > 0 ? EFFECT_TRANSPARENT : 0;\n\n\tvar has_branch = false;\n\n\tconst set_branch = (\n\t\t/** @type {(anchor: Node, elseif?: [number,number]) => void} */ fn,\n\t\tflag = true\n\t) => {\n\t\thas_branch = true;\n\t\tupdate_branch(flag, fn);\n\t};\n\n\tconst update_branch = (\n\t\t/** @type {boolean | null} */ new_condition,\n\t\t/** @type {null | ((anchor: Node, elseif?: [number,number]) => void)} */ fn\n\t) => {\n\t\tif (condition === (condition = new_condition)) return;\n\n\t\t/** Whether or not there was a hydration mismatch. Needs to be a `let` or else it isn't treeshaken out */\n\t\tlet mismatch = false;\n\n\t\tif (hydrating && hydrate_index !== -1) {\n\t\t\tif (root_index === 0) {\n\t\t\t\tconst data = /** @type {Comment} */ (anchor).data;\n\t\t\t\tif (data === HYDRATION_START) {\n\t\t\t\t\thydrate_index = 0;\n\t\t\t\t} else if (data === HYDRATION_START_ELSE) {\n\t\t\t\t\thydrate_index = Infinity;\n\t\t\t\t} else {\n\t\t\t\t\thydrate_index = parseInt(data.substring(1));\n\t\t\t\t\tif (hydrate_index !== hydrate_index) {\n\t\t\t\t\t\t// if hydrate_index is NaN\n\t\t\t\t\t\t// we set an invalid index to force mismatch\n\t\t\t\t\t\thydrate_index = condition ? Infinity : -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst is_else = hydrate_index > root_index;\n\n\t\t\tif (!!condition === is_else) {\n\t\t\t\t// Hydration mismatch: remove everything inside the anchor and start fresh.\n\t\t\t\t// This could happen with `{#if browser}...{/if}`, for example\n\t\t\t\tanchor = remove_nodes();\n\n\t\t\t\tset_hydrate_node(anchor);\n\t\t\t\tset_hydrating(false);\n\t\t\t\tmismatch = true;\n\t\t\t\thydrate_index = -1; // ignore hydration in next else if\n\t\t\t}\n\t\t}\n\n\t\tif (condition) {\n\t\t\tif (consequent_effect) {\n\t\t\t\tresume_effect(consequent_effect);\n\t\t\t} else if (fn) {\n\t\t\t\tconsequent_effect = branch(() => fn(anchor));\n\t\t\t}\n\n\t\t\tif (alternate_effect) {\n\t\t\t\tpause_effect(alternate_effect, () => {\n\t\t\t\t\talternate_effect = null;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tif (alternate_effect) {\n\t\t\t\tresume_effect(alternate_effect);\n\t\t\t} else if (fn) {\n\t\t\t\talternate_effect = branch(() => fn(anchor, [root_index + 1, hydrate_index]));\n\t\t\t}\n\n\t\t\tif (consequent_effect) {\n\t\t\t\tpause_effect(consequent_effect, () => {\n\t\t\t\t\tconsequent_effect = null;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (mismatch) {\n\t\t\t// continue in hydration mode\n\t\t\tset_hydrating(true);\n\t\t}\n\t};\n\n\tblock(() => {\n\t\thas_branch = false;\n\t\tfn(set_branch);\n\t\tif (!has_branch) {\n\t\t\tupdate_branch(null, null);\n\t\t}\n\t}, flags);\n\n\tif (hydrating) {\n\t\tanchor = hydrate_node;\n\t}\n}\n","/** @import { EachItem, EachState, Effect, MaybeSource, Source, TemplateNode, TransitionManager, Value } from '#client' */\nimport {\n\tEACH_INDEX_REACTIVE,\n\tEACH_IS_ANIMATED,\n\tEACH_IS_CONTROLLED,\n\tEACH_ITEM_IMMUTABLE,\n\tEACH_ITEM_REACTIVE,\n\tHYDRATION_END,\n\tHYDRATION_START_ELSE\n} from '../../../../constants.js';\nimport {\n\thydrate_next,\n\thydrate_node,\n\thydrating,\n\tremove_nodes,\n\tset_hydrate_node,\n\tset_hydrating\n} from '../hydration.js';\nimport {\n\tclear_text_content,\n\tcreate_text,\n\tget_first_child,\n\tget_next_sibling\n} from '../operations.js';\nimport {\n\tblock,\n\tbranch,\n\tdestroy_effect,\n\trun_out_transitions,\n\tpause_children,\n\tpause_effect,\n\tresume_effect\n} from '../../reactivity/effects.js';\nimport { source, mutable_source, internal_set } from '../../reactivity/sources.js';\nimport { array_from, is_array } from '../../../shared/utils.js';\nimport { INERT } from '../../constants.js';\nimport { queue_micro_task } from '../task.js';\nimport { active_effect, active_reaction, get } from '../../runtime.js';\nimport { DEV } from 'esm-env';\nimport { derived_safe_equal } from '../../reactivity/deriveds.js';\n\n/**\n * The row of a keyed each block that is currently updating. We track this\n * so that `animate:` directives have something to attach themselves to\n * @type {EachItem | null}\n */\nexport let current_each_item = null;\n\n/** @param {EachItem | null} item */\nexport function set_current_each_item(item) {\n\tcurrent_each_item = item;\n}\n\n/**\n * @param {any} _\n * @param {number} i\n */\nexport function index(_, i) {\n\treturn i;\n}\n\n/**\n * Pause multiple effects simultaneously, and coordinate their\n * subsequent destruction. Used in each blocks\n * @param {EachState} state\n * @param {EachItem[]} items\n * @param {null | Node} controlled_anchor\n * @param {Map<any, EachItem>} items_map\n */\nfunction pause_effects(state, items, controlled_anchor, items_map) {\n\t/** @type {TransitionManager[]} */\n\tvar transitions = [];\n\tvar length = items.length;\n\n\tfor (var i = 0; i < length; i++) {\n\t\tpause_children(items[i].e, transitions, true);\n\t}\n\n\tvar is_controlled = length > 0 && transitions.length === 0 && controlled_anchor !== null;\n\t// If we have a controlled anchor, it means that the each block is inside a single\n\t// DOM element, so we can apply a fast-path for clearing the contents of the element.\n\tif (is_controlled) {\n\t\tvar parent_node = /** @type {Element} */ (\n\t\t\t/** @type {Element} */ (controlled_anchor).parentNode\n\t\t);\n\t\tclear_text_content(parent_node);\n\t\tparent_node.append(/** @type {Element} */ (controlled_anchor));\n\t\titems_map.clear();\n\t\tlink(state, items[0].prev, items[length - 1].next);\n\t}\n\n\trun_out_transitions(transitions, () => {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tvar item = items[i];\n\t\t\tif (!is_controlled) {\n\t\t\t\titems_map.delete(item.k);\n\t\t\t\tlink(state, item.prev, item.next);\n\t\t\t}\n\t\t\tdestroy_effect(item.e, !is_controlled);\n\t\t}\n\t});\n}\n\n/**\n * @template V\n * @param {Element | Comment} node The next sibling node, or the parent node if this is a 'controlled' block\n * @param {number} flags\n * @param {() => V[]} get_collection\n * @param {(value: V, index: number) => any} get_key\n * @param {(anchor: Node, item: MaybeSource<V>, index: MaybeSource<number>) => void} render_fn\n * @param {null | ((anchor: Node) => void)} fallback_fn\n * @returns {void}\n */\nexport function each(node, flags, get_collection, get_key, render_fn, fallback_fn = null) {\n\tvar anchor = node;\n\n\t/** @type {EachState} */\n\tvar state = { flags, items: new Map(), first: null };\n\n\tvar is_controlled = (flags & EACH_IS_CONTROLLED) !== 0;\n\n\tif (is_controlled) {\n\t\tvar parent_node = /** @type {Element} */ (node);\n\n\t\tanchor = hydrating\n\t\t\t? set_hydrate_node(/** @type {Comment | Text} */ (get_first_child(parent_node)))\n\t\t\t: parent_node.appendChild(create_text());\n\t}\n\n\tif (hydrating) {\n\t\thydrate_next();\n\t}\n\n\t/** @type {Effect | null} */\n\tvar fallback = null;\n\n\tvar was_empty = false;\n\n\t// TODO: ideally we could use derived for runes mode but because of the ability\n\t// to use a store which can be mutated, we can't do that here as mutating a store\n\t// will still result in the collection array being the same from the store\n\tvar each_array = derived_safe_equal(() => {\n\t\tvar collection = get_collection();\n\n\t\treturn is_array(collection) ? collection : collection == null ? [] : array_from(collection);\n\t});\n\n\tblock(() => {\n\t\tvar array = get(each_array);\n\t\tvar length = array.length;\n\n\t\tif (was_empty && length === 0) {\n\t\t\t// ignore updates if the array is empty,\n\t\t\t// and it already was empty on previous run\n\t\t\treturn;\n\t\t}\n\t\twas_empty = length === 0;\n\n\t\t/** `true` if there was a hydration mismatch. Needs to be a `let` or else it isn't treeshaken out */\n\t\tlet mismatch = false;\n\n\t\tif (hydrating) {\n\t\t\tvar is_else = /** @type {Comment} */ (anchor).data === HYDRATION_START_ELSE;\n\n\t\t\tif (is_else !== (length === 0)) {\n\t\t\t\t// hydration mismatch — remove the server-rendered DOM and start over\n\t\t\t\tanchor = remove_nodes();\n\n\t\t\t\tset_hydrate_node(anchor);\n\t\t\t\tset_hydrating(false);\n\t\t\t\tmismatch = true;\n\t\t\t}\n\t\t}\n\n\t\t// this is separate to the previous block because `hydrating` might change\n\t\tif (hydrating) {\n\t\t\t/** @type {EachItem | null} */\n\t\t\tvar prev = null;\n\n\t\t\t/** @type {EachItem} */\n\t\t\tvar item;\n\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tif (\n\t\t\t\t\thydrate_node.nodeType === 8 &&\n\t\t\t\t\t/** @type {Comment} */ (hydrate_node).data === HYDRATION_END\n\t\t\t\t) {\n\t\t\t\t\t// The server rendered fewer items than expected,\n\t\t\t\t\t// so break out and continue appending non-hydrated items\n\t\t\t\t\tanchor = /** @type {Comment} */ (hydrate_node);\n\t\t\t\t\tmismatch = true;\n\t\t\t\t\tset_hydrating(false);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tvar value = array[i];\n\t\t\t\tvar key = get_key(value, i);\n\t\t\t\titem = create_item(\n\t\t\t\t\thydrate_node,\n\t\t\t\t\tstate,\n\t\t\t\t\tprev,\n\t\t\t\t\tnull,\n\t\t\t\t\tvalue,\n\t\t\t\t\tkey,\n\t\t\t\t\ti,\n\t\t\t\t\trender_fn,\n\t\t\t\t\tflags,\n\t\t\t\t\tget_collection\n\t\t\t\t);\n\t\t\t\tstate.items.set(key, item);\n\n\t\t\t\tprev = item;\n\t\t\t}\n\n\t\t\t// remove excess nodes\n\t\t\tif (length > 0) {\n\t\t\t\tset_hydrate_node(remove_nodes());\n\t\t\t}\n\t\t}\n\n\t\tif (!hydrating) {\n\t\t\treconcile(array, state, anchor, render_fn, flags, get_key, get_collection);\n\t\t}\n\n\t\tif (fallback_fn !== null) {\n\t\t\tif (length === 0) {\n\t\t\t\tif (fallback) {\n\t\t\t\t\tresume_effect(fallback);\n\t\t\t\t} else {\n\t\t\t\t\tfallback = branch(() => fallback_fn(anchor));\n\t\t\t\t}\n\t\t\t} else if (fallback !== null) {\n\t\t\t\tpause_effect(fallback, () => {\n\t\t\t\t\tfallback = null;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (mismatch) {\n\t\t\t// continue in hydration mode\n\t\t\tset_hydrating(true);\n\t\t}\n\n\t\t// When we mount the each block for the first time, the collection won't be\n\t\t// connected to this effect as the effect hasn't finished running yet and its deps\n\t\t// won't be assigned. However, it's possible that when reconciling the each block\n\t\t// that a mutation occurred and it's made the collection MAYBE_DIRTY, so reading the\n\t\t// collection again can provide consistency to the reactive graph again as the deriveds\n\t\t// will now be `CLEAN`.\n\t\tget(each_array);\n\t});\n\n\tif (hydrating) {\n\t\tanchor = hydrate_node;\n\t}\n}\n\n/**\n * Add, remove, or reorder items output by an each block as its input changes\n * @template V\n * @param {Array<V>} array\n * @param {EachState} state\n * @param {Element | Comment | Text} anchor\n * @param {(anchor: Node, item: MaybeSource<V>, index: number | Source<number>, collection: () => V[]) => void} render_fn\n * @param {number} flags\n * @param {(value: V, index: number) => any} get_key\n * @param {() => V[]} get_collection\n * @returns {void}\n */\nfunction reconcile(array, state, anchor, render_fn, flags, get_key, get_collection) {\n\tvar is_animated = (flags & EACH_IS_ANIMATED) !== 0;\n\tvar should_update = (flags & (EACH_ITEM_REACTIVE | EACH_INDEX_REACTIVE)) !== 0;\n\n\tvar length = array.length;\n\tvar items = state.items;\n\tvar first = state.first;\n\tvar current = first;\n\n\t/** @type {undefined | Set<EachItem>} */\n\tvar seen;\n\n\t/** @type {EachItem | null} */\n\tvar prev = null;\n\n\t/** @type {undefined | Set<EachItem>} */\n\tvar to_animate;\n\n\t/** @type {EachItem[]} */\n\tvar matched = [];\n\n\t/** @type {EachItem[]} */\n\tvar stashed = [];\n\n\t/** @type {V} */\n\tvar value;\n\n\t/** @type {any} */\n\tvar key;\n\n\t/** @type {EachItem | undefined} */\n\tvar item;\n\n\t/** @type {number} */\n\tvar i;\n\n\tif (is_animated) {\n\t\tfor (i = 0; i < length; i += 1) {\n\t\t\tvalue = array[i];\n\t\t\tkey = get_key(value, i);\n\t\t\titem = items.get(key);\n\n\t\t\tif (item !== undefined) {\n\t\t\t\titem.a?.measure();\n\t\t\t\t(to_animate ??= new Set()).add(item);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (i = 0; i < length; i += 1) {\n\t\tvalue = array[i];\n\t\tkey = get_key(value, i);\n\t\titem = items.get(key);\n\n\t\tif (item === undefined) {\n\t\t\tvar child_anchor = current ? /** @type {TemplateNode} */ (current.e.nodes_start) : anchor;\n\n\t\t\tprev = create_item(\n\t\t\t\tchild_anchor,\n\t\t\t\tstate,\n\t\t\t\tprev,\n\t\t\t\tprev === null ? state.first : prev.next,\n\t\t\t\tvalue,\n\t\t\t\tkey,\n\t\t\t\ti,\n\t\t\t\trender_fn,\n\t\t\t\tflags,\n\t\t\t\tget_collection\n\t\t\t);\n\n\t\t\titems.set(key, prev);\n\n\t\t\tmatched = [];\n\t\t\tstashed = [];\n\n\t\t\tcurrent = prev.next;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (should_update) {\n\t\t\tupdate_item(item, value, i, flags);\n\t\t}\n\n\t\tif ((item.e.f & INERT) !== 0) {\n\t\t\tresume_effect(item.e);\n\t\t\tif (is_animated) {\n\t\t\t\titem.a?.unfix();\n\t\t\t\t(to_animate ??= new Set()).delete(item);\n\t\t\t}\n\t\t}\n\n\t\tif (item !== current) {\n\t\t\tif (seen !== undefined && seen.has(item)) {\n\t\t\t\tif (matched.length < stashed.length) {\n\t\t\t\t\t// more efficient to move later items to the front\n\t\t\t\t\tvar start = stashed[0];\n\t\t\t\t\tvar j;\n\n\t\t\t\t\tprev = start.prev;\n\n\t\t\t\t\tvar a = matched[0];\n\t\t\t\t\tvar b = matched[matched.length - 1];\n\n\t\t\t\t\tfor (j = 0; j < matched.length; j += 1) {\n\t\t\t\t\t\tmove(matched[j], start, anchor);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (j = 0; j < stashed.length; j += 1) {\n\t\t\t\t\t\tseen.delete(stashed[j]);\n\t\t\t\t\t}\n\n\t\t\t\t\tlink(state, a.prev, b.next);\n\t\t\t\t\tlink(state, prev, a);\n\t\t\t\t\tlink(state, b, start);\n\n\t\t\t\t\tcurrent = start;\n\t\t\t\t\tprev = b;\n\t\t\t\t\ti -= 1;\n\n\t\t\t\t\tmatched = [];\n\t\t\t\t\tstashed = [];\n\t\t\t\t} else {\n\t\t\t\t\t// more efficient to move earlier items to the back\n\t\t\t\t\tseen.delete(item);\n\t\t\t\t\tmove(item, current, anchor);\n\n\t\t\t\t\tlink(state, item.prev, item.next);\n\t\t\t\t\tlink(state, item, prev === null ? state.first : prev.next);\n\t\t\t\t\tlink(state, prev, item);\n\n\t\t\t\t\tprev = item;\n\t\t\t\t}\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tmatched = [];\n\t\t\tstashed = [];\n\n\t\t\twhile (current !== null && current.k !== key) {\n\t\t\t\t// If the each block isn't inert and an item has an effect that is already inert,\n\t\t\t\t// skip over adding it to our seen Set as the item is already being handled\n\t\t\t\tif ((current.e.f & INERT) === 0) {\n\t\t\t\t\t(seen ??= new Set()).add(current);\n\t\t\t\t}\n\t\t\t\tstashed.push(current);\n\t\t\t\tcurrent = current.next;\n\t\t\t}\n\n\t\t\tif (current === null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\titem = current;\n\t\t}\n\n\t\tmatched.push(item);\n\t\tprev = item;\n\t\tcurrent = item.next;\n\t}\n\n\tif (current !== null || seen !== undefined) {\n\t\tvar to_destroy = seen === undefined ? [] : array_from(seen);\n\n\t\twhile (current !== null) {\n\t\t\t// If the each block isn't inert, then inert effects are currently outroing and will be removed once the transition is finished\n\t\t\tif ((current.e.f & INERT) === 0) {\n\t\t\t\tto_destroy.push(current);\n\t\t\t}\n\t\t\tcurrent = current.next;\n\t\t}\n\n\t\tvar destroy_length = to_destroy.length;\n\n\t\tif (destroy_length > 0) {\n\t\t\tvar controlled_anchor = (flags & EACH_IS_CONTROLLED) !== 0 && length === 0 ? anchor : null;\n\n\t\t\tif (is_animated) {\n\t\t\t\tfor (i = 0; i < destroy_length; i += 1) {\n\t\t\t\t\tto_destroy[i].a?.measure();\n\t\t\t\t}\n\n\t\t\t\tfor (i = 0; i < destroy_length; i += 1) {\n\t\t\t\t\tto_destroy[i].a?.fix();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tpause_effects(state, to_destroy, controlled_anchor, items);\n\t\t}\n\t}\n\n\tif (is_animated) {\n\t\tqueue_micro_task(() => {\n\t\t\tif (to_animate === undefined) return;\n\t\t\tfor (item of to_animate) {\n\t\t\t\titem.a?.apply();\n\t\t\t}\n\t\t});\n\t}\n\n\t/** @type {Effect} */ (active_effect).first = state.first && state.first.e;\n\t/** @type {Effect} */ (active_effect).last = prev && prev.e;\n}\n\n/**\n * @param {EachItem} item\n * @param {any} value\n * @param {number} index\n * @param {number} type\n * @returns {void}\n */\nfunction update_item(item, value, index, type) {\n\tif ((type & EACH_ITEM_REACTIVE) !== 0) {\n\t\tinternal_set(item.v, value);\n\t}\n\n\tif ((type & EACH_INDEX_REACTIVE) !== 0) {\n\t\tinternal_set(/** @type {Value<number>} */ (item.i), index);\n\t} else {\n\t\titem.i = index;\n\t}\n}\n\n/**\n * @template V\n * @param {Node} anchor\n * @param {EachState} state\n * @param {EachItem | null} prev\n * @param {EachItem | null} next\n * @param {V} value\n * @param {unknown} key\n * @param {number} index\n * @param {(anchor: Node, item: V | Source<V>, index: number | Value<number>, collection: () => V[]) => void} render_fn\n * @param {number} flags\n * @param {() => V[]} get_collection\n * @returns {EachItem}\n */\nfunction create_item(\n\tanchor,\n\tstate,\n\tprev,\n\tnext,\n\tvalue,\n\tkey,\n\tindex,\n\trender_fn,\n\tflags,\n\tget_collection\n) {\n\tvar previous_each_item = current_each_item;\n\tvar reactive = (flags & EACH_ITEM_REACTIVE) !== 0;\n\tvar mutable = (flags & EACH_ITEM_IMMUTABLE) === 0;\n\n\tvar v = reactive ? (mutable ? mutable_source(value) : source(value)) : value;\n\tvar i = (flags & EACH_INDEX_REACTIVE) === 0 ? index : source(index);\n\n\tif (DEV && reactive) {\n\t\t// For tracing purposes, we need to link the source signal we create with the\n\t\t// collection + index so that tracing works as intended\n\t\t/** @type {Value} */ (v).debug = () => {\n\t\t\tvar collection_index = typeof i === 'number' ? index : i.v;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unused-expressions\n\t\t\tget_collection()[collection_index];\n\t\t};\n\t}\n\n\t/** @type {EachItem} */\n\tvar item = {\n\t\ti,\n\t\tv,\n\t\tk: key,\n\t\ta: null,\n\t\t// @ts-expect-error\n\t\te: null,\n\t\tprev,\n\t\tnext\n\t};\n\n\tcurrent_each_item = item;\n\n\ttry {\n\t\titem.e = branch(() => render_fn(anchor, v, i, get_collection), hydrating);\n\n\t\titem.e.prev = prev && prev.e;\n\t\titem.e.next = next && next.e;\n\n\t\tif (prev === null) {\n\t\t\tstate.first = item;\n\t\t} else {\n\t\t\tprev.next = item;\n\t\t\tprev.e.next = item.e;\n\t\t}\n\n\t\tif (next !== null) {\n\t\t\tnext.prev = item;\n\t\t\tnext.e.prev = item.e;\n\t\t}\n\n\t\treturn item;\n\t} finally {\n\t\tcurrent_each_item = previous_each_item;\n\t}\n}\n\n/**\n * @param {EachItem} item\n * @param {EachItem | null} next\n * @param {Text | Element | Comment} anchor\n */\nfunction move(item, next, anchor) {\n\tvar end = item.next ? /** @type {TemplateNode} */ (item.next.e.nodes_start) : anchor;\n\n\tvar dest = next ? /** @type {TemplateNode} */ (next.e.nodes_start) : anchor;\n\tvar node = /** @type {TemplateNode} */ (item.e.nodes_start);\n\n\twhile (node !== end) {\n\t\tvar next_node = /** @type {TemplateNode} */ (get_next_sibling(node));\n\t\tdest.before(node);\n\t\tnode = next_node;\n\t}\n}\n\n/**\n * @param {EachState} state\n * @param {EachItem | null} prev\n * @param {EachItem | null} next\n */\nfunction link(state, prev, next) {\n\tif (prev === null) {\n\t\tstate.first = next;\n\t} else {\n\t\tprev.next = next;\n\t\tprev.e.next = next && next.e;\n\t}\n\n\tif (next !== null) {\n\t\tnext.prev = prev;\n\t\tnext.e.prev = prev && prev.e;\n\t}\n}\n","/** @import { Effect, TemplateNode } from '#client' */\nimport { FILENAME, HYDRATION_ERROR } from '../../../../constants.js';\nimport { block, branch, destroy_effect } from '../../reactivity/effects.js';\nimport { hydrate_next, hydrate_node, hydrating, set_hydrate_node } from '../hydration.js';\nimport { create_fragment_from_html } from '../reconciler.js';\nimport { assign_nodes } from '../template.js';\nimport * as w from '../../warnings.js';\nimport { hash, sanitize_location } from '../../../../utils.js';\nimport { DEV } from 'esm-env';\nimport { dev_current_component_function } from '../../context.js';\nimport { get_first_child, get_next_sibling } from '../operations.js';\n\n/**\n * @param {Element} element\n * @param {string | null} server_hash\n * @param {string} value\n */\nfunction check_hash(element, server_hash, value) {\n\tif (!server_hash || server_hash === hash(String(value ?? ''))) return;\n\n\tlet location;\n\n\t// @ts-expect-error\n\tconst loc = element.__svelte_meta?.loc;\n\tif (loc) {\n\t\tlocation = `near ${loc.file}:${loc.line}:${loc.column}`;\n\t} else if (dev_current_component_function?.[FILENAME]) {\n\t\tlocation = `in ${dev_current_component_function[FILENAME]}`;\n\t}\n\n\tw.hydration_html_changed(sanitize_location(location));\n}\n\n/**\n * @param {Element | Text | Comment} node\n * @param {() => string} get_value\n * @param {boolean} svg\n * @param {boolean} mathml\n * @param {boolean} [skip_warning]\n * @returns {void}\n */\nexport function html(node, get_value, svg, mathml, skip_warning) {\n\tvar anchor = node;\n\n\tvar value = '';\n\n\t/** @type {Effect | undefined} */\n\tvar effect;\n\n\tblock(() => {\n\t\tif (value === (value = get_value() ?? '')) {\n\t\t\tif (hydrating) {\n\t\t\t\thydrate_next();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (effect !== undefined) {\n\t\t\tdestroy_effect(effect);\n\t\t\teffect = undefined;\n\t\t}\n\n\t\tif (value === '') return;\n\n\t\teffect = branch(() => {\n\t\t\tif (hydrating) {\n\t\t\t\t// We're deliberately not trying to repair mismatches between server and client,\n\t\t\t\t// as it's costly and error-prone (and it's an edge case to have a mismatch anyway)\n\t\t\t\tvar hash = /** @type {Comment} */ (hydrate_node).data;\n\t\t\t\tvar next = hydrate_next();\n\t\t\t\tvar last = next;\n\n\t\t\t\twhile (\n\t\t\t\t\tnext !== null &&\n\t\t\t\t\t(next.nodeType !== 8 || /** @type {Comment} */ (next).data !== '')\n\t\t\t\t) {\n\t\t\t\t\tlast = next;\n\t\t\t\t\tnext = /** @type {TemplateNode} */ (get_next_sibling(next));\n\t\t\t\t}\n\n\t\t\t\tif (next === null) {\n\t\t\t\t\tw.hydration_mismatch();\n\t\t\t\t\tthrow HYDRATION_ERROR;\n\t\t\t\t}\n\n\t\t\t\tif (DEV && !skip_warning) {\n\t\t\t\t\tcheck_hash(/** @type {Element} */ (next.parentNode), hash, value);\n\t\t\t\t}\n\n\t\t\t\tassign_nodes(hydrate_node, last);\n\t\t\t\tanchor = set_hydrate_node(next);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar html = value + '';\n\t\t\tif (svg) html = `<svg>${html}</svg>`;\n\t\t\telse if (mathml) html = `<math>${html}</math>`;\n\n\t\t\t// Don't use create_fragment_with_script_from_html here because that would mean script tags are executed.\n\t\t\t// @html is basically `.innerHTML = ...` and that doesn't execute scripts either due to security reasons.\n\t\t\t/** @type {DocumentFragment | Element} */\n\t\t\tvar node = create_fragment_from_html(html);\n\n\t\t\tif (svg || mathml) {\n\t\t\t\tnode = /** @type {Element} */ (get_first_child(node));\n\t\t\t}\n\n\t\t\tassign_nodes(\n\t\t\t\t/** @type {TemplateNode} */ (get_first_child(node)),\n\t\t\t\t/** @type {TemplateNode} */ (node.lastChild)\n\t\t\t);\n\n\t\t\tif (svg || mathml) {\n\t\t\t\twhile (get_first_child(node)) {\n\t\t\t\t\tanchor.before(/** @type {Node} */ (get_first_child(node)));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tanchor.before(node);\n\t\t\t}\n\t\t});\n\t});\n}\n","import { escape_html } from '../../escaping.js';\nimport { clsx as _clsx } from 'clsx';\n\n/**\n * `<div translate={false}>` should be rendered as `<div translate=\"no\">` and _not_\n * `<div translate=\"false\">`, which is equivalent to `<div translate=\"yes\">`. There\n * may be other odd cases that need to be added to this list in future\n * @type {Record<string, Map<any, string>>}\n */\nconst replacements = {\n\ttranslate: new Map([\n\t\t[true, 'yes'],\n\t\t[false, 'no']\n\t])\n};\n\n/**\n * @template V\n * @param {string} name\n * @param {V} value\n * @param {boolean} [is_boolean]\n * @returns {string}\n */\nexport function attr(name, value, is_boolean = false) {\n\tif (value == null || (!value && is_boolean) || (value === '' && name === 'class')) return '';\n\tconst normalized = (name in replacements && replacements[name].get(value)) || value;\n\tconst assignment = is_boolean ? '' : `=\"${escape_html(normalized, true)}\"`;\n\treturn ` ${name}${assignment}`;\n}\n\n/**\n * Small wrapper around clsx to preserve Svelte's (weird) handling of falsy values.\n * TODO Svelte 6 revisit this, and likely turn all falsy values into the empty string (what clsx also does)\n * @param  {any} value\n */\nexport function clsx(value) {\n\tif (typeof value === 'object') {\n\t\treturn _clsx(value);\n\t} else {\n\t\treturn value ?? '';\n\t}\n}\n\nconst whitespace = [...' \\t\\n\\r\\f\\u00a0\\u000b\\ufeff'];\n\n/**\n * @param {any} value\n * @param {string | null} [hash]\n * @param {Record<string, boolean>} [directives]\n * @returns {string | null}\n */\nexport function to_class(value, hash, directives) {\n\tvar classname = value == null ? '' : '' + value;\n\n\tif (hash) {\n\t\tclassname = classname ? classname + ' ' + hash : hash;\n\t}\n\n\tif (directives) {\n\t\tfor (var key in directives) {\n\t\t\tif (directives[key]) {\n\t\t\t\tclassname = classname ? classname + ' ' + key : key;\n\t\t\t} else if (classname.length) {\n\t\t\t\tvar len = key.length;\n\t\t\t\tvar a = 0;\n\n\t\t\t\twhile ((a = classname.indexOf(key, a)) >= 0) {\n\t\t\t\t\tvar b = a + len;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t(a === 0 || whitespace.includes(classname[a - 1])) &&\n\t\t\t\t\t\t(b === classname.length || whitespace.includes(classname[b]))\n\t\t\t\t\t) {\n\t\t\t\t\t\tclassname = (a === 0 ? '' : classname.substring(0, a)) + classname.substring(b + 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ta = b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn classname === '' ? null : classname;\n}\n","import { to_class } from '../../../shared/attributes.js';\nimport { hydrating } from '../hydration.js';\n\n/**\n * @param {Element} dom\n * @param {boolean | number} is_html\n * @param {string | null} value\n * @param {string} [hash]\n * @param {Record<string, any>} [prev_classes]\n * @param {Record<string, any>} [next_classes]\n * @returns {Record<string, boolean> | undefined}\n */\nexport function set_class(dom, is_html, value, hash, prev_classes, next_classes) {\n\t// @ts-expect-error need to add __className to patched prototype\n\tvar prev = dom.__className;\n\n\tif (hydrating || prev !== value) {\n\t\tvar next_class_name = to_class(value, hash, next_classes);\n\n\t\tif (!hydrating || next_class_name !== dom.getAttribute('class')) {\n\t\t\t// Removing the attribute when the value is only an empty string causes\n\t\t\t// performance issues vs simply making the className an empty string. So\n\t\t\t// we should only remove the class if the the value is nullish\n\t\t\t// and there no hash/directives :\n\t\t\tif (next_class_name == null) {\n\t\t\t\tdom.removeAttribute('class');\n\t\t\t} else if (is_html) {\n\t\t\t\tdom.className = next_class_name;\n\t\t\t} else {\n\t\t\t\tdom.setAttribute('class', next_class_name);\n\t\t\t}\n\t\t}\n\n\t\t// @ts-expect-error need to add __className to patched prototype\n\t\tdom.__className = value;\n\t} else if (next_classes) {\n\t\tfor (var key in next_classes) {\n\t\t\tvar is_present = !!next_classes[key];\n\n\t\t\tif (prev_classes == null || is_present !== !!prev_classes[key]) {\n\t\t\t\tdom.classList.toggle(key, is_present);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn next_classes;\n}\n","import { DEV } from 'esm-env';\nimport { hydrating, set_hydrating } from '../hydration.js';\nimport { get_descriptors, get_prototype_of } from '../../../shared/utils.js';\nimport { create_event, delegate } from './events.js';\nimport { add_form_reset_listener, autofocus } from './misc.js';\nimport * as w from '../../warnings.js';\nimport { LOADING_ATTR_SYMBOL } from '../../constants.js';\nimport { queue_idle_task } from '../task.js';\nimport { is_capture_event, is_delegated, normalize_attribute } from '../../../../utils.js';\nimport {\n\tactive_effect,\n\tactive_reaction,\n\tset_active_effect,\n\tset_active_reaction\n} from '../../runtime.js';\nimport { clsx } from '../../../shared/attributes.js';\nimport { set_class } from './class.js';\n\nexport const CLASS = Symbol('class');\nexport const STYLE = Symbol('style');\n\n/**\n * The value/checked attribute in the template actually corresponds to the defaultValue property, so we need\n * to remove it upon hydration to avoid a bug when someone resets the form value.\n * @param {HTMLInputElement} input\n * @returns {void}\n */\nexport function remove_input_defaults(input) {\n\tif (!hydrating) return;\n\n\tvar already_removed = false;\n\n\t// We try and remove the default attributes later, rather than sync during hydration.\n\t// Doing it sync during hydration has a negative impact on performance, but deferring the\n\t// work in an idle task alleviates this greatly. If a form reset event comes in before\n\t// the idle callback, then we ensure the input defaults are cleared just before.\n\tvar remove_defaults = () => {\n\t\tif (already_removed) return;\n\t\talready_removed = true;\n\n\t\t// Remove the attributes but preserve the values\n\t\tif (input.hasAttribute('value')) {\n\t\t\tvar value = input.value;\n\t\t\tset_attribute(input, 'value', null);\n\t\t\tinput.value = value;\n\t\t}\n\n\t\tif (input.hasAttribute('checked')) {\n\t\t\tvar checked = input.checked;\n\t\t\tset_attribute(input, 'checked', null);\n\t\t\tinput.checked = checked;\n\t\t}\n\t};\n\n\t// @ts-expect-error\n\tinput.__on_r = remove_defaults;\n\tqueue_idle_task(remove_defaults);\n\tadd_form_reset_listener();\n}\n\n/**\n * @param {Element} element\n * @param {any} value\n */\nexport function set_value(element, value) {\n\t// @ts-expect-error\n\tvar attributes = (element.__attributes ??= {});\n\n\tif (\n\t\tattributes.value ===\n\t\t\t(attributes.value =\n\t\t\t\t// treat null and undefined the same for the initial value\n\t\t\t\tvalue ?? undefined) ||\n\t\t// @ts-expect-error\n\t\t// `progress` elements always need their value set when it's `0`\n\t\t(element.value === value && (value !== 0 || element.nodeName !== 'PROGRESS'))\n\t) {\n\t\treturn;\n\t}\n\n\t// @ts-expect-error\n\telement.value = value ?? '';\n}\n\n/**\n * @param {Element} element\n * @param {boolean} checked\n */\nexport function set_checked(element, checked) {\n\t// @ts-expect-error\n\tvar attributes = (element.__attributes ??= {});\n\n\tif (\n\t\tattributes.checked ===\n\t\t(attributes.checked =\n\t\t\t// treat null and undefined the same for the initial value\n\t\t\tchecked ?? undefined)\n\t) {\n\t\treturn;\n\t}\n\n\t// @ts-expect-error\n\telement.checked = checked;\n}\n\n/**\n * Sets the `selected` attribute on an `option` element.\n * Not set through the property because that doesn't reflect to the DOM,\n * which means it wouldn't be taken into account when a form is reset.\n * @param {HTMLOptionElement} element\n * @param {boolean} selected\n */\nexport function set_selected(element, selected) {\n\tif (selected) {\n\t\t// The selected option could've changed via user selection, and\n\t\t// setting the value without this check would set it back.\n\t\tif (!element.hasAttribute('selected')) {\n\t\t\telement.setAttribute('selected', '');\n\t\t}\n\t} else {\n\t\telement.removeAttribute('selected');\n\t}\n}\n\n/**\n * Applies the default checked property without influencing the current checked property.\n * @param {HTMLInputElement} element\n * @param {boolean} checked\n */\nexport function set_default_checked(element, checked) {\n\tconst existing_value = element.checked;\n\telement.defaultChecked = checked;\n\telement.checked = existing_value;\n}\n\n/**\n * Applies the default value property without influencing the current value property.\n * @param {HTMLInputElement | HTMLTextAreaElement} element\n * @param {string} value\n */\nexport function set_default_value(element, value) {\n\tconst existing_value = element.value;\n\telement.defaultValue = value;\n\telement.value = existing_value;\n}\n\n/**\n * @param {Element} element\n * @param {string} attribute\n * @param {string | null} value\n * @param {boolean} [skip_warning]\n */\nexport function set_attribute(element, attribute, value, skip_warning) {\n\t// @ts-expect-error\n\tvar attributes = (element.__attributes ??= {});\n\n\tif (hydrating) {\n\t\tattributes[attribute] = element.getAttribute(attribute);\n\n\t\tif (\n\t\t\tattribute === 'src' ||\n\t\t\tattribute === 'srcset' ||\n\t\t\t(attribute === 'href' && element.nodeName === 'LINK')\n\t\t) {\n\t\t\tif (!skip_warning) {\n\t\t\t\tcheck_src_in_dev_hydration(element, attribute, value ?? '');\n\t\t\t}\n\n\t\t\t// If we reset these attributes, they would result in another network request, which we want to avoid.\n\t\t\t// We assume they are the same between client and server as checking if they are equal is expensive\n\t\t\t// (we can't just compare the strings as they can be different between client and server but result in the\n\t\t\t// same url, so we would need to create hidden anchor elements to compare them)\n\t\t\treturn;\n\t\t}\n\t}\n\n\tif (attributes[attribute] === (attributes[attribute] = value)) return;\n\n\tif (attribute === 'style' && '__styles' in element) {\n\t\t// reset styles to force style: directive to update\n\t\telement.__styles = {};\n\t}\n\n\tif (attribute === 'loading') {\n\t\t// @ts-expect-error\n\t\telement[LOADING_ATTR_SYMBOL] = value;\n\t}\n\n\tif (value == null) {\n\t\telement.removeAttribute(attribute);\n\t} else if (typeof value !== 'string' && get_setters(element).includes(attribute)) {\n\t\t// @ts-ignore\n\t\telement[attribute] = value;\n\t} else {\n\t\telement.setAttribute(attribute, value);\n\t}\n}\n\n/**\n * @param {Element} dom\n * @param {string} attribute\n * @param {string} value\n */\nexport function set_xlink_attribute(dom, attribute, value) {\n\tdom.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @param {string} prop\n * @param {any} value\n */\nexport function set_custom_element_data(node, prop, value) {\n\t// We need to ensure that setting custom element props, which can\n\t// invoke lifecycle methods on other custom elements, does not also\n\t// associate those lifecycle methods with the current active reaction\n\t// or effect\n\tvar previous_reaction = active_reaction;\n\tvar previous_effect = active_effect;\n\t// If we're hydrating but the custom element is from Svelte, and it already scaffolded,\n\t// then it might run block logic in hydration mode, which we have to prevent.\n\tlet was_hydrating = hydrating;\n\tif (hydrating) {\n\t\tset_hydrating(false);\n\t}\n\n\tset_active_reaction(null);\n\tset_active_effect(null);\n\ttry {\n\t\tif (\n\t\t\t// Don't compute setters for custom elements while they aren't registered yet,\n\t\t\t// because during their upgrade/instantiation they might add more setters.\n\t\t\t// Instead, fall back to a simple \"an object, then set as property\" heuristic.\n\t\t\tsetters_cache.has(node.nodeName) ||\n\t\t\t// customElements may not be available in browser extension contexts\n\t\t\t!customElements ||\n\t\t\tcustomElements.get(node.tagName.toLowerCase())\n\t\t\t\t? get_setters(node).includes(prop)\n\t\t\t\t: value && typeof value === 'object'\n\t\t) {\n\t\t\t// @ts-expect-error\n\t\t\tnode[prop] = value;\n\t\t} else {\n\t\t\t// We did getters etc checks already, stringify before passing to set_attribute\n\t\t\t// to ensure it doesn't invoke the same logic again, and potentially populating\n\t\t\t// the setters cache too early.\n\t\t\tset_attribute(node, prop, value == null ? value : String(value));\n\t\t}\n\t} finally {\n\t\tset_active_reaction(previous_reaction);\n\t\tset_active_effect(previous_effect);\n\t\tif (was_hydrating) {\n\t\t\tset_hydrating(true);\n\t\t}\n\t}\n}\n\n/**\n * Spreads attributes onto a DOM element, taking into account the currently set attributes\n * @param {Element & ElementCSSInlineStyle} element\n * @param {Record<string | symbol, any> | undefined} prev\n * @param {Record<string | symbol, any>} next New attributes - this function mutates this object\n * @param {string} [css_hash]\n * @param {boolean} [preserve_attribute_case]\n * @param {boolean} [is_custom_element]\n * @param {boolean} [skip_warning]\n * @returns {Record<string, any>}\n */\nexport function set_attributes(\n\telement,\n\tprev,\n\tnext,\n\tcss_hash,\n\tpreserve_attribute_case = false,\n\tis_custom_element = false,\n\tskip_warning = false\n) {\n\t// If we're hydrating but the custom element is from Svelte, and it already scaffolded,\n\t// then it might run block logic in hydration mode, which we have to prevent.\n\tlet is_hydrating_custom_element = hydrating && is_custom_element;\n\tif (is_hydrating_custom_element) {\n\t\tset_hydrating(false);\n\t}\n\n\tvar current = prev || {};\n\tvar is_option_element = element.tagName === 'OPTION';\n\n\tfor (var key in prev) {\n\t\tif (!(key in next)) {\n\t\t\tnext[key] = null;\n\t\t}\n\t}\n\n\tif (next.class) {\n\t\tnext.class = clsx(next.class);\n\t} else if (css_hash || next[CLASS]) {\n\t\tnext.class = null; /* force call to set_class() */\n\t}\n\n\tvar setters = get_setters(element);\n\n\t// @ts-expect-error\n\tvar attributes = /** @type {Record<string, unknown>} **/ (element.__attributes ??= {});\n\n\t// since key is captured we use const\n\tfor (const key in next) {\n\t\t// let instead of var because referenced in a closure\n\t\tlet value = next[key];\n\n\t\t// Up here because we want to do this for the initial value, too, even if it's undefined,\n\t\t// and this wouldn't be reached in case of undefined because of the equality check below\n\t\tif (is_option_element && key === 'value' && value == null) {\n\t\t\t// The <option> element is a special case because removing the value attribute means\n\t\t\t// the value is set to the text content of the option element, and setting the value\n\t\t\t// to null or undefined means the value is set to the string \"null\" or \"undefined\".\n\t\t\t// To align with how we handle this case in non-spread-scenarios, this logic is needed.\n\t\t\t// There's a super-edge-case bug here that is left in in favor of smaller code size:\n\t\t\t// Because of the \"set missing props to null\" logic above, we can't differentiate\n\t\t\t// between a missing value and an explicitly set value of null or undefined. That means\n\t\t\t// that once set, the value attribute of an <option> element can't be removed. This is\n\t\t\t// a very rare edge case, and removing the attribute altogether isn't possible either\n\t\t\t// for the <option value={undefined}> case, so we're not losing any functionality here.\n\t\t\t// @ts-ignore\n\t\t\telement.value = element.__value = '';\n\t\t\tcurrent[key] = value;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (key === 'class') {\n\t\t\tvar is_html = element.namespaceURI === 'http://www.w3.org/1999/xhtml';\n\t\t\tset_class(element, is_html, value, css_hash, prev?.[CLASS], next[CLASS]);\n\t\t\tcurrent[key] = value;\n\t\t\tcurrent[CLASS] = next[CLASS];\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar prev_value = current[key];\n\t\tif (value === prev_value) continue;\n\n\t\tcurrent[key] = value;\n\n\t\tvar prefix = key[0] + key[1]; // this is faster than key.slice(0, 2)\n\t\tif (prefix === '$$') continue;\n\n\t\tif (prefix === 'on') {\n\t\t\t/** @type {{ capture?: true }} */\n\t\t\tconst opts = {};\n\t\t\tconst event_handle_key = '$$' + key;\n\t\t\tlet event_name = key.slice(2);\n\t\t\tvar delegated = is_delegated(event_name);\n\n\t\t\tif (is_capture_event(event_name)) {\n\t\t\t\tevent_name = event_name.slice(0, -7);\n\t\t\t\topts.capture = true;\n\t\t\t}\n\n\t\t\tif (!delegated && prev_value) {\n\t\t\t\t// Listening to same event but different handler -> our handle function below takes care of this\n\t\t\t\t// If we were to remove and add listeners in this case, it could happen that the event is \"swallowed\"\n\t\t\t\t// (the browser seems to not know yet that a new one exists now) and doesn't reach the handler\n\t\t\t\t// https://github.com/sveltejs/svelte/issues/11903\n\t\t\t\tif (value != null) continue;\n\n\t\t\t\telement.removeEventListener(event_name, current[event_handle_key], opts);\n\t\t\t\tcurrent[event_handle_key] = null;\n\t\t\t}\n\n\t\t\tif (value != null) {\n\t\t\t\tif (!delegated) {\n\t\t\t\t\t/**\n\t\t\t\t\t * @this {any}\n\t\t\t\t\t * @param {Event} evt\n\t\t\t\t\t */\n\t\t\t\t\tfunction handle(evt) {\n\t\t\t\t\t\tcurrent[key].call(this, evt);\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrent[event_handle_key] = create_event(event_name, element, handle, opts);\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\telement[`__${event_name}`] = value;\n\t\t\t\t\tdelegate([event_name]);\n\t\t\t\t}\n\t\t\t} else if (delegated) {\n\t\t\t\t// @ts-ignore\n\t\t\t\telement[`__${event_name}`] = undefined;\n\t\t\t}\n\t\t} else if (key === 'style' && value != null) {\n\t\t\telement.style.cssText = value + '';\n\t\t} else if (key === 'autofocus') {\n\t\t\tautofocus(/** @type {HTMLElement} */ (element), Boolean(value));\n\t\t} else if (!is_custom_element && (key === '__value' || (key === 'value' && value != null))) {\n\t\t\t// @ts-ignore We're not running this for custom elements because __value is actually\n\t\t\t// how Lit stores the current value on the element, and messing with that would break things.\n\t\t\telement.value = element.__value = value;\n\t\t} else if (key === 'selected' && is_option_element) {\n\t\t\tset_selected(/** @type {HTMLOptionElement} */ (element), value);\n\t\t} else {\n\t\t\tvar name = key;\n\t\t\tif (!preserve_attribute_case) {\n\t\t\t\tname = normalize_attribute(name);\n\t\t\t}\n\n\t\t\tvar is_default = name === 'defaultValue' || name === 'defaultChecked';\n\n\t\t\tif (value == null && !is_custom_element && !is_default) {\n\t\t\t\tattributes[key] = null;\n\n\t\t\t\tif (name === 'value' || name === 'checked') {\n\t\t\t\t\t// removing value/checked also removes defaultValue/defaultChecked — preserve\n\t\t\t\t\tlet input = /** @type {HTMLInputElement} */ (element);\n\t\t\t\t\tconst use_default = prev === undefined;\n\t\t\t\t\tif (name === 'value') {\n\t\t\t\t\t\tlet previous = input.defaultValue;\n\t\t\t\t\t\tinput.removeAttribute(name);\n\t\t\t\t\t\tinput.defaultValue = previous;\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tinput.value = input.__value = use_default ? previous : null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet previous = input.defaultChecked;\n\t\t\t\t\t\tinput.removeAttribute(name);\n\t\t\t\t\t\tinput.defaultChecked = previous;\n\t\t\t\t\t\tinput.checked = use_default ? previous : false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telement.removeAttribute(key);\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tis_default ||\n\t\t\t\t(setters.includes(name) && (is_custom_element || typeof value !== 'string'))\n\t\t\t) {\n\t\t\t\t// @ts-ignore\n\t\t\t\telement[name] = value;\n\t\t\t} else if (typeof value !== 'function') {\n\t\t\t\tset_attribute(element, name, value);\n\t\t\t}\n\t\t}\n\t\tif (key === 'style' && '__styles' in element) {\n\t\t\t// reset styles to force style: directive to update\n\t\t\telement.__styles = {};\n\t\t}\n\t}\n\n\tif (is_hydrating_custom_element) {\n\t\tset_hydrating(true);\n\t}\n\n\treturn current;\n}\n\n/** @type {Map<string, string[]>} */\nvar setters_cache = new Map();\n\n/** @param {Element} element */\nfunction get_setters(element) {\n\tvar setters = setters_cache.get(element.nodeName);\n\tif (setters) return setters;\n\tsetters_cache.set(element.nodeName, (setters = []));\n\n\tvar descriptors;\n\tvar proto = element; // In the case of custom elements there might be setters on the instance\n\tvar element_proto = Element.prototype;\n\n\t// Stop at Element, from there on there's only unnecessary setters we're not interested in\n\t// Do not use contructor.name here as that's unreliable in some browser environments\n\twhile (element_proto !== proto) {\n\t\tdescriptors = get_descriptors(proto);\n\n\t\tfor (var key in descriptors) {\n\t\t\tif (descriptors[key].set) {\n\t\t\t\tsetters.push(key);\n\t\t\t}\n\t\t}\n\n\t\tproto = get_prototype_of(proto);\n\t}\n\n\treturn setters;\n}\n\n/**\n * @param {any} element\n * @param {string} attribute\n * @param {string} value\n */\nfunction check_src_in_dev_hydration(element, attribute, value) {\n\tif (!DEV) return;\n\tif (attribute === 'srcset' && srcset_url_equal(element, value)) return;\n\tif (src_url_equal(element.getAttribute(attribute) ?? '', value)) return;\n\n\tw.hydration_attribute_changed(\n\t\tattribute,\n\t\telement.outerHTML.replace(element.innerHTML, element.innerHTML && '...'),\n\t\tString(value)\n\t);\n}\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nfunction src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\treturn new URL(element_src, document.baseURI).href === new URL(url, document.baseURI).href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element\n * @param {string} srcset\n * @returns {boolean}\n */\nfunction srcset_url_equal(element, srcset) {\n\tvar element_urls = split_srcset(element.srcset);\n\tvar urls = split_srcset(srcset);\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n","import { DEV } from 'esm-env';\nimport { render_effect, teardown } from '../../../reactivity/effects.js';\nimport { listen_to_event_and_reset_event } from './shared.js';\nimport * as e from '../../../errors.js';\nimport { is } from '../../../proxy.js';\nimport { queue_micro_task } from '../../task.js';\nimport { hydrating } from '../../hydration.js';\nimport { untrack } from '../../../runtime.js';\nimport { is_runes } from '../../../context.js';\n\n/**\n * @param {HTMLInputElement} input\n * @param {() => unknown} get\n * @param {(value: unknown) => void} set\n * @returns {void}\n */\nexport function bind_value(input, get, set = get) {\n\tvar runes = is_runes();\n\n\tlisten_to_event_and_reset_event(input, 'input', (is_reset) => {\n\t\tif (DEV && input.type === 'checkbox') {\n\t\t\t// TODO should this happen in prod too?\n\t\t\te.bind_invalid_checkbox_value();\n\t\t}\n\n\t\t/** @type {any} */\n\t\tvar value = is_reset ? input.defaultValue : input.value;\n\t\tvalue = is_numberlike_input(input) ? to_number(value) : value;\n\t\tset(value);\n\n\t\t// In runes mode, respect any validation in accessors (doesn't apply in legacy mode,\n\t\t// because we use mutable state which ensures the render effect always runs)\n\t\tif (runes && value !== (value = get())) {\n\t\t\tvar start = input.selectionStart;\n\t\t\tvar end = input.selectionEnd;\n\n\t\t\t// the value is coerced on assignment\n\t\t\tinput.value = value ?? '';\n\n\t\t\t// Restore selection\n\t\t\tif (end !== null) {\n\t\t\t\tinput.selectionStart = start;\n\t\t\t\tinput.selectionEnd = Math.min(end, input.value.length);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (\n\t\t// If we are hydrating and the value has since changed,\n\t\t// then use the updated value from the input instead.\n\t\t(hydrating && input.defaultValue !== input.value) ||\n\t\t// If defaultValue is set, then value == defaultValue\n\t\t// TODO Svelte 6: remove input.value check and set to empty string?\n\t\t(untrack(get) == null && input.value)\n\t) {\n\t\tset(is_numberlike_input(input) ? to_number(input.value) : input.value);\n\t}\n\n\trender_effect(() => {\n\t\tif (DEV && input.type === 'checkbox') {\n\t\t\t// TODO should this happen in prod too?\n\t\t\te.bind_invalid_checkbox_value();\n\t\t}\n\n\t\tvar value = get();\n\n\t\tif (is_numberlike_input(input) && value === to_number(input.value)) {\n\t\t\t// handles 0 vs 00 case (see https://github.com/sveltejs/svelte/issues/9959)\n\t\t\treturn;\n\t\t}\n\n\t\tif (input.type === 'date' && !value && !input.value) {\n\t\t\t// Handles the case where a temporarily invalid date is set (while typing, for example with a leading 0 for the day)\n\t\t\t// and prevents this state from clearing the other parts of the date input (see https://github.com/sveltejs/svelte/issues/7897)\n\t\t\treturn;\n\t\t}\n\n\t\t// don't set the value of the input if it's the same to allow\n\t\t// minlength to work properly\n\t\tif (value !== input.value) {\n\t\t\t// @ts-expect-error the value is coerced on assignment\n\t\t\tinput.value = value ?? '';\n\t\t}\n\t});\n}\n\n/** @type {Set<HTMLInputElement[]>} */\nconst pending = new Set();\n\n/**\n * @param {HTMLInputElement[]} inputs\n * @param {null | [number]} group_index\n * @param {HTMLInputElement} input\n * @param {() => unknown} get\n * @param {(value: unknown) => void} set\n * @returns {void}\n */\nexport function bind_group(inputs, group_index, input, get, set = get) {\n\tvar is_checkbox = input.getAttribute('type') === 'checkbox';\n\tvar binding_group = inputs;\n\n\t// needs to be let or related code isn't treeshaken out if it's always false\n\tlet hydration_mismatch = false;\n\n\tif (group_index !== null) {\n\t\tfor (var index of group_index) {\n\t\t\t// @ts-expect-error\n\t\t\tbinding_group = binding_group[index] ??= [];\n\t\t}\n\t}\n\n\tbinding_group.push(input);\n\n\tlisten_to_event_and_reset_event(\n\t\tinput,\n\t\t'change',\n\t\t() => {\n\t\t\t// @ts-ignore\n\t\t\tvar value = input.__value;\n\n\t\t\tif (is_checkbox) {\n\t\t\t\tvalue = get_binding_group_value(binding_group, value, input.checked);\n\t\t\t}\n\n\t\t\tset(value);\n\t\t},\n\t\t// TODO better default value handling\n\t\t() => set(is_checkbox ? [] : null)\n\t);\n\n\trender_effect(() => {\n\t\tvar value = get();\n\n\t\t// If we are hydrating and the value has since changed, then use the update value\n\t\t// from the input instead.\n\t\tif (hydrating && input.defaultChecked !== input.checked) {\n\t\t\thydration_mismatch = true;\n\t\t\treturn;\n\t\t}\n\n\t\tif (is_checkbox) {\n\t\t\tvalue = value || [];\n\t\t\t// @ts-ignore\n\t\t\tinput.checked = value.includes(input.__value);\n\t\t} else {\n\t\t\t// @ts-ignore\n\t\t\tinput.checked = is(input.__value, value);\n\t\t}\n\t});\n\n\tteardown(() => {\n\t\tvar index = binding_group.indexOf(input);\n\n\t\tif (index !== -1) {\n\t\t\tbinding_group.splice(index, 1);\n\t\t}\n\t});\n\n\tif (!pending.has(binding_group)) {\n\t\tpending.add(binding_group);\n\n\t\tqueue_micro_task(() => {\n\t\t\t// necessary to maintain binding group order in all insertion scenarios\n\t\t\tbinding_group.sort((a, b) => (a.compareDocumentPosition(b) === 4 ? -1 : 1));\n\t\t\tpending.delete(binding_group);\n\t\t});\n\t}\n\n\tqueue_micro_task(() => {\n\t\tif (hydration_mismatch) {\n\t\t\tvar value;\n\n\t\t\tif (is_checkbox) {\n\t\t\t\tvalue = get_binding_group_value(binding_group, value, input.checked);\n\t\t\t} else {\n\t\t\t\tvar hydration_input = binding_group.find((input) => input.checked);\n\t\t\t\t// @ts-ignore\n\t\t\t\tvalue = hydration_input?.__value;\n\t\t\t}\n\n\t\t\tset(value);\n\t\t}\n\t});\n}\n\n/**\n * @param {HTMLInputElement} input\n * @param {() => unknown} get\n * @param {(value: unknown) => void} set\n * @returns {void}\n */\nexport function bind_checked(input, get, set = get) {\n\tlisten_to_event_and_reset_event(input, 'change', (is_reset) => {\n\t\tvar value = is_reset ? input.defaultChecked : input.checked;\n\t\tset(value);\n\t});\n\n\tif (\n\t\t// If we are hydrating and the value has since changed,\n\t\t// then use the update value from the input instead.\n\t\t(hydrating && input.defaultChecked !== input.checked) ||\n\t\t// If defaultChecked is set, then checked == defaultChecked\n\t\tuntrack(get) == null\n\t) {\n\t\tset(input.checked);\n\t}\n\n\trender_effect(() => {\n\t\tvar value = get();\n\t\tinput.checked = Boolean(value);\n\t});\n}\n\n/**\n * @template V\n * @param {Array<HTMLInputElement>} group\n * @param {V} __value\n * @param {boolean} checked\n * @returns {V[]}\n */\nfunction get_binding_group_value(group, __value, checked) {\n\tvar value = new Set();\n\n\tfor (var i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) {\n\t\t\t// @ts-ignore\n\t\t\tvalue.add(group[i].__value);\n\t\t}\n\t}\n\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement} input\n */\nfunction is_numberlike_input(input) {\n\tvar type = input.type;\n\treturn type === 'number' || type === 'range';\n}\n\n/**\n * @param {string} value\n */\nfunction to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/**\n * @param {HTMLInputElement} input\n * @param {() => FileList | null} get\n * @param {(value: FileList | null) => void} set\n */\nexport function bind_files(input, get, set = get) {\n\tlisten_to_event_and_reset_event(input, 'change', () => {\n\t\tset(input.files);\n\t});\n\n\tif (\n\t\t// If we are hydrating and the value has since changed,\n\t\t// then use the updated value from the input instead.\n\t\thydrating &&\n\t\tinput.files\n\t) {\n\t\tset(input.files);\n\t}\n\n\trender_effect(() => {\n\t\tinput.files = get();\n\t});\n}\n","import { effect } from '../../../reactivity/effects.js';\nimport { listen_to_event_and_reset_event } from './shared.js';\nimport { untrack } from '../../../runtime.js';\nimport { is } from '../../../proxy.js';\n\n/**\n * Selects the correct option(s) (depending on whether this is a multiple select)\n * @template V\n * @param {HTMLSelectElement} select\n * @param {V} value\n * @param {boolean} [mounting]\n */\nexport function select_option(select, value, mounting) {\n\tif (select.multiple) {\n\t\treturn select_options(select, value);\n\t}\n\n\tfor (var option of select.options) {\n\t\tvar option_value = get_option_value(option);\n\t\tif (is(option_value, value)) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * Selects the correct option(s) if `value` is given,\n * and then sets up a mutation observer to sync the\n * current selection to the dom when it changes. Such\n * changes could for example occur when options are\n * inside an `#each` block.\n * @template V\n * @param {HTMLSelectElement} select\n * @param {() => V} [get_value]\n */\nexport function init_select(select, get_value) {\n\tlet mounting = true;\n\teffect(() => {\n\t\tif (get_value) {\n\t\t\tselect_option(select, untrack(get_value), mounting);\n\t\t}\n\t\tmounting = false;\n\n\t\tvar observer = new MutationObserver(() => {\n\t\t\t// @ts-ignore\n\t\t\tvar value = select.__value;\n\t\t\tselect_option(select, value);\n\t\t\t// Deliberately don't update the potential binding value,\n\t\t\t// the model should be preserved unless explicitly changed\n\t\t});\n\n\t\tobserver.observe(select, {\n\t\t\t// Listen to option element changes\n\t\t\tchildList: true,\n\t\t\tsubtree: true, // because of <optgroup>\n\t\t\t// Listen to option element value attribute changes\n\t\t\t// (doesn't get notified of select value changes,\n\t\t\t// because that property is not reflected as an attribute)\n\t\t\tattributes: true,\n\t\t\tattributeFilter: ['value']\n\t\t});\n\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t};\n\t});\n}\n\n/**\n * @param {HTMLSelectElement} select\n * @param {() => unknown} get\n * @param {(value: unknown) => void} set\n * @returns {void}\n */\nexport function bind_select_value(select, get, set = get) {\n\tvar mounting = true;\n\n\tlisten_to_event_and_reset_event(select, 'change', (is_reset) => {\n\t\tvar query = is_reset ? '[selected]' : ':checked';\n\t\t/** @type {unknown} */\n\t\tvar value;\n\n\t\tif (select.multiple) {\n\t\t\tvalue = [].map.call(select.querySelectorAll(query), get_option_value);\n\t\t} else {\n\t\t\t/** @type {HTMLOptionElement | null} */\n\t\t\tvar selected_option =\n\t\t\t\tselect.querySelector(query) ??\n\t\t\t\t// will fall back to first non-disabled option if no option is selected\n\t\t\t\tselect.querySelector('option:not([disabled])');\n\t\t\tvalue = selected_option && get_option_value(selected_option);\n\t\t}\n\n\t\tset(value);\n\t});\n\n\t// Needs to be an effect, not a render_effect, so that in case of each loops the logic runs after the each block has updated\n\teffect(() => {\n\t\tvar value = get();\n\t\tselect_option(select, value, mounting);\n\n\t\t// Mounting and value undefined -> take selection from dom\n\t\tif (mounting && value === undefined) {\n\t\t\t/** @type {HTMLOptionElement | null} */\n\t\t\tvar selected_option = select.querySelector(':checked');\n\t\t\tif (selected_option !== null) {\n\t\t\t\tvalue = get_option_value(selected_option);\n\t\t\t\tset(value);\n\t\t\t}\n\t\t}\n\n\t\t// @ts-ignore\n\t\tselect.__value = value;\n\t\tmounting = false;\n\t});\n\n\t// don't pass get_value, we already initialize it in the effect above\n\tinit_select(select);\n}\n\n/**\n * @template V\n * @param {HTMLSelectElement} select\n * @param {V} value\n */\nfunction select_options(select, value) {\n\tfor (var option of select.options) {\n\t\t// @ts-ignore\n\t\toption.selected = ~value.indexOf(get_option_value(option));\n\t}\n}\n\n/** @param {HTMLOptionElement} option */\nfunction get_option_value(option) {\n\t// __value only exists if the <option> has a value attribute\n\tif ('__value' in option) {\n\t\treturn option.__value;\n\t} else {\n\t\treturn option.value;\n\t}\n}\n","/** @import { ComponentContextLegacy } from '#client' */\nimport { run, run_all } from '../../../shared/utils.js';\nimport { component_context } from '../../context.js';\nimport { derived } from '../../reactivity/deriveds.js';\nimport { user_pre_effect, user_effect } from '../../reactivity/effects.js';\nimport { deep_read_state, get, untrack } from '../../runtime.js';\n\n/**\n * Legacy-mode only: Call `onMount` callbacks and set up `beforeUpdate`/`afterUpdate` effects\n * @param {boolean} [immutable]\n */\nexport function init(immutable = false) {\n\tconst context = /** @type {ComponentContextLegacy} */ (component_context);\n\n\tconst callbacks = context.l.u;\n\tif (!callbacks) return;\n\n\tlet props = () => deep_read_state(context.s);\n\n\tif (immutable) {\n\t\tlet version = 0;\n\t\tlet prev = /** @type {Record<string, any>} */ ({});\n\n\t\t// In legacy immutable mode, before/afterUpdate only fire if the object identity of a prop changes\n\t\tconst d = derived(() => {\n\t\t\tlet changed = false;\n\t\t\tconst props = context.s;\n\t\t\tfor (const key in props) {\n\t\t\t\tif (props[key] !== prev[key]) {\n\t\t\t\t\tprev[key] = props[key];\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (changed) version++;\n\t\t\treturn version;\n\t\t});\n\n\t\tprops = () => get(d);\n\t}\n\n\t// beforeUpdate\n\tif (callbacks.b.length) {\n\t\tuser_pre_effect(() => {\n\t\t\tobserve_all(context, props);\n\t\t\trun_all(callbacks.b);\n\t\t});\n\t}\n\n\t// onMount (must run before afterUpdate)\n\tuser_effect(() => {\n\t\tconst fns = untrack(() => callbacks.m.map(run));\n\t\treturn () => {\n\t\t\tfor (const fn of fns) {\n\t\t\t\tif (typeof fn === 'function') {\n\t\t\t\t\tfn();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n\t// afterUpdate\n\tif (callbacks.a.length) {\n\t\tuser_effect(() => {\n\t\t\tobserve_all(context, props);\n\t\t\trun_all(callbacks.a);\n\t\t});\n\t}\n}\n\n/**\n * Invoke the getter of all signals associated with a component\n * so they can be registered to the effect this function is called in.\n * @param {ComponentContextLegacy} context\n * @param {(() => void)} props\n */\nfunction observe_all(context, props) {\n\tif (context.l.s) {\n\t\tfor (const signal of context.l.s) get(signal);\n\t}\n\n\tprops();\n}\n","/** @import { StoreReferencesContainer } from '#client' */\n/** @import { Store } from '#shared' */\nimport { subscribe_to_store } from '../../../store/utils.js';\nimport { get as get_store } from '../../../store/shared/index.js';\nimport { define_property, noop } from '../../shared/utils.js';\nimport { get } from '../runtime.js';\nimport { teardown } from './effects.js';\nimport { mutable_source, set } from './sources.js';\n\n/**\n * Whether or not the prop currently being read is a store binding, as in\n * `<Child bind:x={$y} />`. If it is, we treat the prop as mutable even in\n * runes mode, and skip `binding_property_non_reactive` validation\n */\nlet is_store_binding = false;\n\nlet IS_UNMOUNTED = Symbol();\n\n/**\n * Gets the current value of a store. If the store isn't subscribed to yet, it will create a proxy\n * signal that will be updated when the store is. The store references container is needed to\n * track reassignments to stores and to track the correct component context.\n * @template V\n * @param {Store<V> | null | undefined} store\n * @param {string} store_name\n * @param {StoreReferencesContainer} stores\n * @returns {V}\n */\nexport function store_get(store, store_name, stores) {\n\tconst entry = (stores[store_name] ??= {\n\t\tstore: null,\n\t\tsource: mutable_source(undefined),\n\t\tunsubscribe: noop\n\t});\n\n\t// if the component that setup this is already unmounted we don't want to register a subscription\n\tif (entry.store !== store && !(IS_UNMOUNTED in stores)) {\n\t\tentry.unsubscribe();\n\t\tentry.store = store ?? null;\n\n\t\tif (store == null) {\n\t\t\tentry.source.v = undefined; // see synchronous callback comment below\n\t\t\tentry.unsubscribe = noop;\n\t\t} else {\n\t\t\tvar is_synchronous_callback = true;\n\n\t\t\tentry.unsubscribe = subscribe_to_store(store, (v) => {\n\t\t\t\tif (is_synchronous_callback) {\n\t\t\t\t\t// If the first updates to the store value (possibly multiple of them) are synchronously\n\t\t\t\t\t// inside a derived, we will hit the `state_unsafe_mutation` error if we `set` the value\n\t\t\t\t\tentry.source.v = v;\n\t\t\t\t} else {\n\t\t\t\t\tset(entry.source, v);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tis_synchronous_callback = false;\n\t\t}\n\t}\n\n\t// if the component that setup this stores is already unmounted the source will be out of sync\n\t// so we just use the `get` for the stores, less performant but it avoids to create a memory leak\n\t// and it will keep the value consistent\n\tif (store && IS_UNMOUNTED in stores) {\n\t\treturn get_store(store);\n\t}\n\n\treturn get(entry.source);\n}\n\n/**\n * Unsubscribe from a store if it's not the same as the one in the store references container.\n * We need this in addition to `store_get` because someone could unsubscribe from a store but\n * then never subscribe to the new one (if any), causing the subscription to stay open wrongfully.\n * @param {Store<any> | null | undefined} store\n * @param {string} store_name\n * @param {StoreReferencesContainer} stores\n */\nexport function store_unsub(store, store_name, stores) {\n\t/** @type {StoreReferencesContainer[''] | undefined} */\n\tlet entry = stores[store_name];\n\n\tif (entry && entry.store !== store) {\n\t\t// Don't reset store yet, so that store_get above can resubscribe to new store if necessary\n\t\tentry.unsubscribe();\n\t\tentry.unsubscribe = noop;\n\t}\n\n\treturn store;\n}\n\n/**\n * Sets the new value of a store and returns that value.\n * @template V\n * @param {Store<V>} store\n * @param {V} value\n * @returns {V}\n */\nexport function store_set(store, value) {\n\tstore.set(value);\n\treturn value;\n}\n\n/**\n * @param {StoreReferencesContainer} stores\n * @param {string} store_name\n */\nexport function invalidate_store(stores, store_name) {\n\tvar entry = stores[store_name];\n\tif (entry.store !== null) {\n\t\tstore_set(entry.store, entry.source.v);\n\t}\n}\n\n/**\n * Unsubscribes from all auto-subscribed stores on destroy\n * @returns {[StoreReferencesContainer, ()=>void]}\n */\nexport function setup_stores() {\n\t/** @type {StoreReferencesContainer} */\n\tconst stores = {};\n\n\tfunction cleanup() {\n\t\tteardown(() => {\n\t\t\tfor (var store_name in stores) {\n\t\t\t\tconst ref = stores[store_name];\n\t\t\t\tref.unsubscribe();\n\t\t\t}\n\t\t\tdefine_property(stores, IS_UNMOUNTED, {\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: true\n\t\t\t});\n\t\t});\n\t}\n\n\treturn [stores, cleanup];\n}\n\n/**\n * Updates a store with a new value.\n * @param {Store<V>} store  the store to update\n * @param {any} expression  the expression that mutates the store\n * @param {V} new_value  the new store value\n * @template V\n */\nexport function store_mutate(store, expression, new_value) {\n\tstore.set(new_value);\n\treturn expression;\n}\n\n/**\n * @param {Store<number>} store\n * @param {number} store_value\n * @param {1 | -1} [d]\n * @returns {number}\n */\nexport function update_store(store, store_value, d = 1) {\n\tstore.set(store_value + d);\n\treturn store_value;\n}\n\n/**\n * @param {Store<number>} store\n * @param {number} store_value\n * @param {1 | -1} [d]\n * @returns {number}\n */\nexport function update_pre_store(store, store_value, d = 1) {\n\tconst value = store_value + d;\n\tstore.set(value);\n\treturn value;\n}\n\n/**\n * Called inside prop getters to communicate that the prop is a store binding\n */\nexport function mark_store_binding() {\n\tis_store_binding = true;\n}\n\n/**\n * Returns a tuple that indicates whether `fn()` reads a prop that is a store binding.\n * Used to prevent `binding_property_non_reactive` validation false positives and\n * ensure that these props are treated as mutable even in runes mode\n * @template T\n * @param {() => T} fn\n * @returns {[T, boolean]}\n */\nexport function capture_store_binding(fn) {\n\tvar previous_is_store_binding = is_store_binding;\n\n\ttry {\n\t\tis_store_binding = false;\n\t\treturn [fn(), is_store_binding];\n\t} finally {\n\t\tis_store_binding = previous_is_store_binding;\n\t}\n}\n","/** @import { ComponentContext, ComponentContextLegacy } from '#client' */\n/** @import { EventDispatcher } from './index.js' */\n/** @import { NotFunction } from './internal/types.js' */\nimport { untrack } from './internal/client/runtime.js';\nimport { is_array } from './internal/shared/utils.js';\nimport { user_effect } from './internal/client/index.js';\nimport * as e from './internal/client/errors.js';\nimport { lifecycle_outside_component } from './internal/shared/errors.js';\nimport { legacy_mode_flag } from './internal/flags/index.js';\nimport { component_context } from './internal/client/context.js';\nimport { DEV } from 'esm-env';\n\nif (DEV) {\n\t/**\n\t * @param {string} rune\n\t */\n\tfunction throw_rune_error(rune) {\n\t\tif (!(rune in globalThis)) {\n\t\t\t// TODO if people start adjusting the \"this can contain runes\" config through v-p-s more, adjust this message\n\t\t\t/** @type {any} */\n\t\t\tlet value; // let's hope noone modifies this global, but belts and braces\n\t\t\tObject.defineProperty(globalThis, rune, {\n\t\t\t\tconfigurable: true,\n\t\t\t\t// eslint-disable-next-line getter-return\n\t\t\t\tget: () => {\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\n\t\t\t\t\te.rune_outside_svelte(rune);\n\t\t\t\t},\n\t\t\t\tset: (v) => {\n\t\t\t\t\tvalue = v;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tthrow_rune_error('$state');\n\tthrow_rune_error('$effect');\n\tthrow_rune_error('$derived');\n\tthrow_rune_error('$inspect');\n\tthrow_rune_error('$props');\n\tthrow_rune_error('$bindable');\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside [server-side components](https://svelte.dev/docs/svelte/svelte-server#render).\n *\n * @template T\n * @param {() => NotFunction<T> | Promise<NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tif (component_context === null) {\n\t\tlifecycle_outside_component('onMount');\n\t}\n\n\tif (legacy_mode_flag && component_context.l !== null) {\n\t\tinit_update_callbacks(component_context).m.push(fn);\n\t} else {\n\t\tuser_effect(() => {\n\t\t\tconst cleanup = untrack(fn);\n\t\t\tif (typeof cleanup === 'function') return /** @type {() => void} */ (cleanup);\n\t\t});\n\t}\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tif (component_context === null) {\n\t\tlifecycle_outside_component('onDestroy');\n\t}\n\n\tonMount(() => () => untrack(fn));\n}\n\n/**\n * @template [T=any]\n * @param {string} type\n * @param {T} [detail]\n * @param {any}params_0\n * @returns {CustomEvent<T>}\n */\nfunction create_custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs/svelte/legacy-on#Component-events).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * @deprecated Use callback props and/or the `$host()` rune instead — see [migration guide](https://svelte.dev/docs/svelte/v5-migration-guide#Event-changes-Component-events)\n * @template {Record<string, any>} [EventMap = any]\n * @returns {EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst active_component_context = component_context;\n\tif (active_component_context === null) {\n\t\tlifecycle_outside_component('createEventDispatcher');\n\t}\n\n\treturn (type, detail, options) => {\n\t\tconst events = /** @type {Record<string, Function | Function[]>} */ (\n\t\t\tactive_component_context.s.$$events\n\t\t)?.[/** @type {any} */ (type)];\n\n\t\tif (events) {\n\t\t\tconst callbacks = is_array(events) ? events.slice() : [events];\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = create_custom_event(/** @type {string} */ (type), detail, options);\n\t\t\tfor (const fn of callbacks) {\n\t\t\t\tfn.call(active_component_context.x, event);\n\t\t\t}\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\n\t\treturn true;\n\t};\n}\n\n// TODO mark beforeUpdate and afterUpdate as deprecated in Svelte 6\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`.\n *\n * In runes mode use `$effect.pre` instead.\n *\n * @deprecated Use [`$effect.pre`](https://svelte.dev/docs/svelte/$effect#$effect.pre) instead\n * @param {() => void} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tif (component_context === null) {\n\t\tlifecycle_outside_component('beforeUpdate');\n\t}\n\n\tif (component_context.l === null) {\n\t\te.lifecycle_legacy_only('beforeUpdate');\n\t}\n\n\tinit_update_callbacks(component_context).b.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`.\n *\n * In runes mode use `$effect` instead.\n *\n * @deprecated Use [`$effect`](https://svelte.dev/docs/svelte/$effect) instead\n * @param {() => void} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tif (component_context === null) {\n\t\tlifecycle_outside_component('afterUpdate');\n\t}\n\n\tif (component_context.l === null) {\n\t\te.lifecycle_legacy_only('afterUpdate');\n\t}\n\n\tinit_update_callbacks(component_context).a.push(fn);\n}\n\n/**\n * Legacy-mode: Init callbacks object for onMount/beforeUpdate/afterUpdate\n * @param {ComponentContext} context\n */\nfunction init_update_callbacks(context) {\n\tvar l = /** @type {ComponentContextLegacy} */ (context).l;\n\treturn (l.u ??= { a: [], b: [], m: [] });\n}\n\nexport { flushSync } from './internal/client/runtime.js';\nexport { getContext, getAllContexts, hasContext, setContext } from './internal/client/context.js';\nexport { hydrate, mount, unmount } from './internal/client/render.js';\nexport { tick, untrack } from './internal/client/runtime.js';\nexport { createRawSnippet } from './internal/client/dom/blocks/snippet.js';\n","/** @import { Readable } from './public' */\nimport { untrack } from '../index-client.js';\nimport { noop } from '../internal/shared/utils.js';\n\n/**\n * @template T\n * @param {Readable<T> | null | undefined} store\n * @param {(value: T) => void} run\n * @param {(value: T) => void} [invalidate]\n * @returns {() => void}\n */\nexport function subscribe_to_store(store, run, invalidate) {\n\tif (store == null) {\n\t\t// @ts-expect-error\n\t\trun(undefined);\n\n\t\t// @ts-expect-error\n\t\tif (invalidate) invalidate(undefined);\n\n\t\treturn noop;\n\t}\n\n\t// Svelte store takes a private second argument\n\t// StartStopNotifier could mutate state, and we want to silence the corresponding validation error\n\tconst unsub = untrack(() =>\n\t\tstore.subscribe(\n\t\t\trun,\n\t\t\t// @ts-expect-error\n\t\t\tinvalidate\n\t\t)\n\t);\n\n\t// Also support RxJS\n\t// @ts-expect-error TODO fix this in the types?\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n","/** @import { Readable, StartStopNotifier, Subscriber, Unsubscriber, Updater, Writable } from '../public.js' */\n/** @import { Stores, StoresValues, SubscribeInvalidateTuple } from '../private.js' */\nimport { noop, run_all } from '../../internal/shared/utils.js';\nimport { safe_not_equal } from '../../internal/client/reactivity/equality.js';\nimport { subscribe_to_store } from '../utils.js';\n\n/**\n * @type {Array<SubscribeInvalidateTuple<any> | any>}\n */\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * @template T\n * @param {T} [value] initial value\n * @param {StartStopNotifier<T>} [start]\n * @returns {Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * @template T\n * @param {T} [value] initial value\n * @param {StartStopNotifier<T>} [start]\n * @returns {Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {Unsubscriber | null} */\n\tlet stop = null;\n\n\t/** @type {Set<SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\n\t/**\n\t * @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(/** @type {T} */ (value)));\n\t}\n\n\t/**\n\t * @param {Subscriber<T>} run\n\t * @param {() => void} [invalidate]\n\t * @returns {Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(/** @type {T} */ (value));\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * @template {Stores} S\n * @template T\n * @overload\n * @param {S} stores\n * @param {(values: StoresValues<S>, set: (value: T) => void, update: (fn: Updater<T>) => void) => Unsubscriber | void} fn\n * @param {T} [initial_value]\n * @returns {Readable<T>}\n */\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * @template {Stores} S\n * @template T\n * @overload\n * @param {S} stores\n * @param {(values: StoresValues<S>) => T} fn\n * @param {T} [initial_value]\n * @returns {Readable<T>}\n */\n/**\n * @template {Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\t/** @type {T[]} */\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = typeof result === 'function' ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe_to_store(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * @template T\n * @param {Readable<T>} store  - store to make readonly\n * @returns {Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\t// @ts-expect-error TODO i suspect the bind is unnecessary\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * @template T\n * @param {Readable<T>} store\n * @returns {T}\n */\nexport function get(store) {\n\tlet value;\n\tsubscribe_to_store(store, (_) => (value = _))();\n\t// @ts-expect-error\n\treturn value;\n}\n","import { systemControls } from '@/core/controls/defaults.ts';\nimport { getDefaultOptions } from '@/core/options/defaults/index.ts';\nimport type { GmOptionsData, SystemControls } from '@/main.ts';\nimport { cloneDeep } from 'lodash-es';\nimport { writable } from 'svelte/store';\n\n\nconst initialState: {\n  controls: SystemControls,\n  options: GmOptionsData['controls'],\n} = {\n  controls: cloneDeep(systemControls),\n  options: getDefaultOptions().controls,\n};\n\nexport const controlsStore = writable(initialState);\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n * @type {string}\n */\nexport const VERSION = '5.21.0';\nexport const PUBLIC_VERSION = '5';\n","import { PUBLIC_VERSION } from '../version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte ||= { v: new Set() }).v.add(PUBLIC_VERSION);\n","import { enable_legacy_mode_flag } from './index.js';\n\nenable_legacy_mode_flag();\n","<script lang=\"ts\">\n  import type { ActionInstance, ActionOption } from '@/main.ts';\n  import log from 'loglevel';\n  import { onMount } from 'svelte';\n\n  const { actionInstance, actionOption }: {\n    actionInstance: ActionInstance | null,\n    actionOption: ActionOption | null,\n  } = $props();\n\n  let selectedValue: string | number | boolean = $state('');\n\n  onMount(() => {\n    if (actionOption) {\n      if (actionOption.type === 'select') {\n        selectedValue = actionOption.value.value;\n      } else if (actionOption.type === 'toggle') {\n        selectedValue = actionOption.value;\n      }\n    }\n  });\n\n  const handleOptionChange = (event: Event) => {\n    if (!actionInstance || !actionOption) {\n      log.error('Can\\'t apply option value', actionInstance, actionOption);\n      return;\n    }\n\n    if (actionOption?.type === 'toggle') {\n      const target = event.target as HTMLInputElement;\n      selectedValue = target.checked;\n    } else if (actionOption?.type === 'select') {\n      const target = event.target as HTMLSelectElement;\n      selectedValue = target.value;\n    }\n\n    actionInstance.applyOptionValue(actionOption.name, selectedValue);\n  };\n</script>\n\n{#if actionOption}\n  <div class=\"action-option\">\n    {#if actionOption.type === 'select'}\n      <label for={actionOption.name}>{actionOption.label}</label>\n      <select\n        id={actionOption.name}\n        bind:value={selectedValue}\n        onchange={handleOptionChange}>\n        {#each actionOption.choices as choiceItem}\n          <option value={choiceItem.value}>{choiceItem.title}</option>\n        {/each}\n      </select>\n    {:else if actionOption.type === 'toggle' && typeof selectedValue === 'boolean'}\n      <label for={actionOption.name}>\n        <input\n          type=\"checkbox\"\n          id={String(actionOption.name)}\n          bind:checked={selectedValue}\n          onchange={handleOptionChange} />\n        {actionOption.label}\n      </label>\n    {:else}\n      <span>Unknown type</span>\n    {/if}\n  </div>\n{/if}\n\n<style lang=\"scss\">\n  .action-option {\n    display: flex;\n    align-items: center;\n    padding: 0.2rem;\n\n    label {\n      margin-right: 0.5rem;\n      white-space: nowrap;\n      cursor: pointer;\n    }\n\n    select, input[type=\"checkbox\"] {\n      cursor: pointer;\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import type { ActionInstance, SubAction } from '@/main.ts';\n  import log from 'loglevel';\n\n  const { actionInstance, subAction }: {\n    actionInstance: ActionInstance | null,\n    subAction: SubAction | null,\n  } = $props();\n\n  const handleSubAction = (event: Event) => {\n    event.preventDefault();\n    if (!actionInstance || !subAction) {\n      log.error('Can\\'t run a SubAction', actionInstance, subAction);\n      return;\n    }\n    subAction.method();\n  };\n</script>\n\n{#if subAction}\n  <button\n    type=\"submit\"\n    class=\"sub-action\"\n    title={subAction.label}\n    onclick={handleSubAction}>\n    {subAction.label}\n  </button>\n{/if}\n\n<style lang=\"scss\">\n  .sub-action {\n    width: auto;\n    height: auto;\n    border: 1px solid #ccc;\n    margin: 3px;\n    padding: 3px;\n  }\n</style>\n","<script lang=\"ts\">\n  import ActionOption from '@/core/controls/components/action-option.svelte';\n  import SubAction from '@/core/controls/components/sub-action.svelte';\n  import type { ActionInstance, GenericSystemControl, Geoman } from '@/main.ts';\n  import { getContext } from 'svelte';\n\n  const gm: Geoman = getContext('gm');\n  const { control }: { control: GenericSystemControl } = $props();\n\n  const actionType = control.type;\n  const modeName = control.targetMode;\n\n  let actionInstance: ActionInstance | null = $state(null);\n\n  if (actionType && modeName) {\n    actionInstance = gm.actionInstances[`${actionType}__${modeName}`] || null;\n  }\n</script>\n\n{#if actionInstance}\n  {#each actionInstance.options as item}\n    <ActionOption\n      actionInstance={actionInstance}\n      actionOption={item} />\n  {/each}\n  {#each actionInstance.actions as item}\n    <SubAction\n      actionInstance={actionInstance}\n      subAction={item} />\n  {/each}\n{/if}\n\n<style lang=\"scss\">\n</style>\n","/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.4';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (§7.3.3)\n   *   - DOM Tree Accessors (§3.1.5)\n   *   - Form Element Parent-Child Relations (§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n   *   - HTMLCollection (§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","<script lang=\"ts\">\n  import ControlMenu from '@/core/controls/components/control-menu.svelte';\n  import type { ControlOptions, GenericSystemControl, Geoman } from '@/main.ts';\n  import DOMPurify from 'dompurify';\n  import log from 'loglevel';\n  import { getContext } from 'svelte';\n\n  const { control, controlOptions }: {\n    control: GenericSystemControl,\n    controlOptions: ControlOptions,\n  } = $props();\n\n  const sanitizedSvg = controlOptions?.icon ? DOMPurify.sanitize(controlOptions.icon.trim()) : null;\n\n  const gm: Geoman = getContext('gm');\n  const menuPosition = gm.control.getDefaultPosition();\n\n  const handleClick = () => {\n    if (control && controlOptions) {\n      gm.options.toggleMode(control.type, control.targetMode);\n    } else {\n      log.error('Control or controlOptions not defined', control, controlOptions);\n    }\n  };\n</script>\n\n{#if control && controlOptions && controlOptions.uiEnabled}\n  <div class=\"control-container\">\n    <button\n      type=\"button\"\n      id={`id_${control.type}_${control.targetMode}`}\n      class={`gm-control-button ${control.type}-${control.targetMode}`}\n      class:active={controlOptions.active}\n      title={controlOptions.title}\n      onclick={handleClick}>\n      {#if controlOptions.icon}\n        <!-- eslint-disable-next-line svelte/no-at-html-tags -->\n        {@html sanitizedSvg}\n      {:else if controlOptions.title}\n        {controlOptions.title.slice(0, 2)}\n      {:else}\n        {control.targetMode}\n      {/if}\n    </button>\n    {#if controlOptions.active}\n      <div\n        class=\"control-menu\"\n        class:menu-right={menuPosition.endsWith('left')}\n        class:menu-left={menuPosition.endsWith('right')}>\n        <ControlMenu control={control} />\n      </div>\n    {/if}\n  </div>\n{/if}\n\n<style lang=\"scss\">\n  .control-container {\n    position: relative;\n\n    .control-menu {\n      position: absolute;\n      top: 0;\n      display: flex;\n      flex-direction: column;\n      background: white;\n      box-shadow: 4px 0 0 2px rgba(0, 0, 0, 0.1);\n      clip-path: inset(-2px -2px -2px 0 round 3px);\n\n      &.menu-right {\n        left: 100%;\n        border-radius: 0 3px 3px 0;\n      }\n\n      // todo: auto adjust menu position\n      &.menu-left {\n        right: 100%;\n        border-radius: 3px 0 0 3px;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import ActionControl from '@/core/controls/components/action-control.svelte';\n  import type { ActionType, GenericSystemControls, Geoman, ModeName } from '@/main.ts';\n  import { getContext, onDestroy } from 'svelte';\n  import { controlsStore } from '@/core/controls/components/controls-store.ts';\n\n  const gm: Geoman = getContext('gm');\n  const mapName = `${gm.mapAdapter.mapType}gl`;\n\n  let { controls, options } = $controlsStore;\n  const unsubscribe = controlsStore.subscribe((value) => {\n    controls = value.controls;\n    options = value.options;\n  });\n\n  onDestroy(unsubscribe);\n\n  const getControl = (groupKey: string, mode: string) => {\n    const controlSection = (\n      controls?.[groupKey as ActionType] as GenericSystemControls | undefined\n    );\n    return controlSection?.[mode as ModeName] || null;\n  };\n</script>\n\n<style>\n    .gm-reactive-controls {\n        color: brown;\n    }\n</style>\n\n<div class=\"gm-reactive-controls\">\n    {#each Object.entries(options) as [groupKey, groupControls]}\n        <div class={`${mapName}-ctrl ${mapName}-ctrl-group group-${groupKey}`}>\n            {#each Object.entries(groupControls) as [controlKey, controlOptions]}\n                {@const control = getControl(groupKey, controlKey)}\n                {#if control}\n                    <ActionControl control={control} controlOptions={controlOptions}/>\n                {/if}\n            {/each}\n        </div>\n    {/each}\n</div>\n","import type { Geoman } from '@/main.ts';\n\nexport abstract class BaseControl {\n  gm: Geoman;\n\n  constructor(gm: Geoman) {\n    this.gm = gm;\n  }\n\n  abstract onAdd(): HTMLElement;\n\n  abstract onRemove(): void;\n}\n","import { controlsStore } from '@/core/controls/components/controls-store.ts';\nimport GmReactiveControls from '@/core/controls/components/gm-controls.svelte';\nimport { systemControls } from '@/core/controls/defaults.ts';\nimport { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { BaseControl } from '@/core/map/base/control.ts';\nimport type {\n  ActionType,\n  AnyEvent,\n  BaseControlsPosition,\n  ControlOptions,\n  GenericSystemControl,\n  GenericSystemControls,\n  MapEventHandlers,\n  ModeAction,\n  ModeName,\n  SystemControls,\n} from '@/main.ts';\nimport { isGmModeEvent } from '@/utils/guards/events/index.ts';\nimport { typedKeys } from '@/utils/typing.ts';\nimport { cloneDeep } from 'lodash-es';\nimport log from 'loglevel';\nimport { mount, unmount } from 'svelte';\n\n\nexport default class GMControl extends BaseControl {\n  controls: SystemControls = cloneDeep(systemControls);\n  reactiveControls: Record<string, unknown> | null = null;\n  container: HTMLElement | undefined = undefined;\n  mapEventHandlers: MapEventHandlers = {\n    [`${gmPrefix}:draw`]: this.handleModeEvent.bind(this),\n    [`${gmPrefix}:edit`]: this.handleModeEvent.bind(this),\n    [`${gmPrefix}:helper`]: this.handleModeEvent.bind(this),\n  };\n\n  onAdd(): HTMLElement {\n    this.createControls();\n    this.gm.events.bus.attachEvents(this.mapEventHandlers);\n\n    if (!this.container) {\n      // container must be created in .createControls()\n      throw new Error('Controls container is not initialized');\n    }\n    return this.container;\n  }\n\n  createControls(containerElement: HTMLElement | undefined = undefined) {\n    if (this.controlsAdded()) {\n      log.warn('Can\\'t add controls: controls already added');\n      return;\n    }\n\n    this.container = containerElement || this.createHtmlContainer();\n    this.createReactivePanel();\n  }\n\n  onRemove() {\n    this.gm.events.bus.detachEvents(this.mapEventHandlers);\n\n    // Destroy the Svelte component\n    if (this.reactiveControls) {\n      unmount(this.reactiveControls);\n      this.reactiveControls = null;\n    }\n\n    // Remove the container from the DOM\n    if (this.container && this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n    this.container = undefined;\n  }\n\n  handleModeEvent(event: AnyEvent) {\n    if (!isGmModeEvent(event)) {\n      return { next: true };\n    }\n\n    const trackModes: Array<ModeAction> = ['mode_started', 'mode_ended'];\n\n    if (trackModes.includes(event.action)) {\n      this.updateReactivePanel();\n    }\n\n    return { next: true };\n  }\n\n  controlsAdded() {\n    return !!this.reactiveControls;\n  }\n\n  createReactivePanel() {\n    if (!this.container) {\n      log.error('Can\\'t create reactive panel: container is not initialized');\n      return;\n    }\n\n    this.syncModeStates();\n\n    const controlsContext = new Map();\n    controlsContext.set('gm', this.gm);\n\n    this.reactiveControls = mount(\n      GmReactiveControls,\n      {\n        target: this.container,\n        context: controlsContext,\n      },\n    );\n\n    this.updateReactivePanel();\n  }\n\n  updateReactivePanel() {\n    controlsStore.update(() => ({\n      controls: this.controls,\n      options: this.gm.options.controls,\n    }));\n  }\n\n  createHtmlContainer() {\n    const container = document.createElement('div');\n    container.classList.add('geoman-controls');\n    return container;\n  }\n\n  syncModeStates() {\n    this.eachControlWithOptions(({ control }) => {\n      this.gm.options.syncModeState(control.type, control.targetMode);\n    });\n  }\n\n  eachControlWithOptions(\n    callback: (\n      { control }: {\n        control: GenericSystemControl\n        controlOptions: ControlOptions\n      }) => void,\n  ) {\n    return typedKeys(this.controls).forEach((actionType) => {\n      const section = this.controls[actionType];\n\n      return Object.keys(section).forEach((modeName) => {\n        const mode = modeName as ModeName;\n        const control = this.getControl({ actionType, modeName: mode });\n        const controlOptions = this.gm.options.getControlOptions({ actionType, modeName: mode });\n\n        if (control && controlOptions) {\n          callback({ control, controlOptions });\n        }\n        // else {\n        //   log.warn(`Can't find control section for: ${actionType}:${modeName}`, !!actionType, !!modeName);\n        // }\n      });\n    });\n  }\n\n  getControl({ actionType, modeName }: {\n    actionType: ActionType,\n    modeName: ModeName,\n  }): GenericSystemControl | null {\n    if (actionType && modeName) {\n      const section = this.controls[actionType] as GenericSystemControls;\n      return (section[modeName] || null) as GenericSystemControl | null;\n    }\n\n    return null;\n  }\n\n  getDefaultPosition(): BaseControlsPosition {\n    return this.gm.options.settings.controlsPosition;\n  }\n}\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport type {\n  EditModeName,\n  FeatureCreatedFwdEvent,\n  FeatureEditStartFwdEvent,\n  FeatureRemovedFwdEvent,\n  FeatureUpdatedFwdEvent,\n  FwdEditModeName,\n  Geoman,\n  GlobalEventsListener,\n  GlobalEventsListenerParameters,\n  GlobalModeToggledFwdEvent,\n  GMControlLoadEvent,\n  GMDrawModeEvent,\n  GMDrawShapeCreatedEvent,\n  GMEditFeatureEditEndEvent,\n  GMEditFeatureEditStartEvent,\n  GMEditFeatureRemovedEvent,\n  GMEditFeatureUpdatedEvent,\n  GMEditModeEvent,\n  GMEvent,\n  GmEventName,\n  GmEventNameWithoutPrefix,\n  GmFwdEventName,\n  GmFwdEventNameWithPrefix,\n  GmFwdSystemEventNameWithPrefix,\n  GMHelperModeEvent,\n  ModeName,\n} from '@/main.ts';\n\n\nexport const gmSystemPrefix = `_${gmPrefix}`;\n\nexport class EventForwarder {\n  gm: Geoman;\n  globalEventsListener: GlobalEventsListener | null = null;\n\n  constructor(gm: Geoman) {\n    this.gm = gm;\n  }\n\n  get map() {\n    return this.gm.mapAdapter.getMapInstance();\n  }\n\n  processEvent(eventName: GmEventName, payload: GMEvent) {\n    // repeat the events to the map to allow end users to listen\n    this.fireToMap(\n      'system',\n      eventName.split(':')[1] as GmEventNameWithoutPrefix,\n      { ...payload, level: 'user' },\n    );\n\n    if (payload.action === 'mode_start' || payload.action === 'mode_end') {\n      this.forwardModeToggledEvent(payload);\n    } else if (payload.action === 'feature_created') {\n      this.forwardFeatureCreated(payload);\n    } else if (payload.action === 'feature_removed') {\n      this.forwardFeatureRemoved(payload);\n    } else if (payload.action === 'feature_updated') {\n      this.forwardFeatureUpdated(payload);\n    } else if (payload.action === 'feature_edit_start') {\n      this.forwardFeatureEditStart(payload);\n    } else if (payload.action === 'feature_edit_end') {\n      this.forwardFeatureEditEnd(payload);\n    } else if (payload.action === 'loaded' || payload.action === 'unloaded') {\n      this.forwardGeomanLoaded(payload);\n    }\n  }\n\n  forwardModeToggledEvent(payload: GMDrawModeEvent | GMEditModeEvent | GMHelperModeEvent) {\n    const enabled = payload.action === 'mode_start';\n    let eventData: GlobalModeToggledFwdEvent;\n\n    if (payload.type === 'draw') {\n      // global draw mode toggled\n      const eventName = 'globaldrawmodetoggled';\n      eventData = { enabled, shape: payload.mode, map: this.map };\n      this.fireToMap('converted', eventName, eventData);\n\n      // drawstart, drawend\n      eventData = { shape: payload.mode, map: this.map };\n      this.fireToMap('converted', enabled ? 'drawstart' : 'drawend', eventData);\n    } else if (payload.type === 'edit') {\n      const modeName = this.getConvertedEditModeName(payload.mode);\n      eventData = { enabled, map: this.map };\n      this.fireToMap('converted', `global${modeName}modetoggled`, eventData);\n    } else if (payload.type === 'helper') {\n      eventData = { enabled, map: this.map };\n      this.fireToMap('converted', `global${payload.mode}modetoggled`, eventData);\n    }\n  }\n\n  forwardFeatureCreated(payload: GMDrawShapeCreatedEvent) {\n    const eventData: FeatureCreatedFwdEvent = {\n      shape: payload.mode,\n      feature: payload.featureData,\n      map: this.map,\n    };\n    this.fireToMap('converted', 'create', eventData);\n  }\n\n  forwardFeatureRemoved(payload: GMEditFeatureRemovedEvent) {\n    const eventData: FeatureRemovedFwdEvent = {\n      shape: payload.mode,\n      feature: payload.featureData,\n      map: this.map,\n    };\n    this.fireToMap('converted', 'remove', eventData);\n  }\n\n  forwardFeatureUpdated(payload: GMEditFeatureUpdatedEvent) {\n    const multiFeatureMode: Array<ModeName> = ['lasso'];\n    const featuresPayload: FeatureUpdatedFwdEvent = {\n      map: this.map,\n    };\n\n    if (payload.sourceFeatures.length === 1 && !multiFeatureMode.includes(payload.mode)) {\n      featuresPayload.originalFeature = payload.sourceFeatures[0];\n    } else {\n      featuresPayload.originalFeatures = payload.sourceFeatures;\n    }\n\n    if (payload.targetFeatures.length === 1 && !multiFeatureMode.includes(payload.mode)) {\n      featuresPayload.feature = payload.targetFeatures[0];\n      featuresPayload.shape = featuresPayload.feature.shape;\n    } else {\n      featuresPayload.features = payload.targetFeatures;\n    }\n\n    const modeName = this.getConvertedEditModeName(payload.mode);\n    this.fireToMap('converted', `${modeName}`, featuresPayload);\n  }\n\n  forwardFeatureEditStart(payload: GMEditFeatureEditStartEvent) {\n    const modeName = this.getConvertedEditModeName(payload.mode);\n    const eventData: FeatureEditStartFwdEvent = {\n      shape: payload.feature.shape,\n      feature: payload.feature,\n      map: this.map,\n    };\n    this.fireToMap('converted', `${modeName}start`, eventData);\n  }\n\n  forwardFeatureEditEnd(payload: GMEditFeatureEditEndEvent) {\n    const modeName = this.getConvertedEditModeName(payload.mode);\n    const eventData: FeatureEditStartFwdEvent = {\n      shape: payload.feature.shape,\n      feature: payload.feature,\n      map: this.map,\n    };\n    this.fireToMap('converted', `${modeName}end`, eventData);\n  }\n\n  forwardGeomanLoaded(payload: GMControlLoadEvent) {\n    this.fireToMap(\n      'converted',\n      `${payload.action}`,\n      { map: this.map, [gmPrefix]: this.gm },\n    );\n  }\n\n  fireToMap(\n    type: GlobalEventsListenerParameters['type'],\n    eventName: GmEventNameWithoutPrefix | GmFwdEventName,\n    payload: GlobalEventsListenerParameters['payload'],\n  ) {\n    const prefix = type === 'system' ? gmSystemPrefix : gmPrefix;\n    const eventNameWithPrefix = `${prefix}:${eventName}` as GmFwdEventNameWithPrefix | GmFwdSystemEventNameWithPrefix;\n\n    if (this.globalEventsListener) {\n      this.globalEventsListener({ type, name: eventNameWithPrefix, payload });\n    }\n    this.gm.mapAdapter.fire(eventNameWithPrefix, payload);\n  }\n\n  getConvertedEditModeName(mode: EditModeName): FwdEditModeName {\n    return mode === 'change' ? 'edit' : mode;\n  }\n}\n","import { EventForwarder } from '@/core/events/forwarder.ts';\nimport { gmPrefix } from '@/core/events/listeners/base.ts';\nimport type {\n  AnyEvent,\n  AnyEventName,\n  EventControls,\n  Geoman,\n  GMEvent,\n  GmEventHadler,\n  GmEventHandlersWithControl,\n  GmEventName,\n  MapEventHadler,\n  MapEventHandlers,\n  MapEventHandlersWithControl,\n  MapEventName,\n} from '@/main.ts';\nimport { isGmEvent } from '@/utils/guards/events/index.ts';\nimport { typedKeys } from '@/utils/typing.ts';\nimport log from 'loglevel';\n\n\nexport class EventBus {\n  gm: Geoman;\n  forwarder: EventForwarder;\n  mapEventHandlers: MapEventHandlersWithControl = {};\n  gmEventHandlers: GmEventHandlersWithControl = {};\n\n  constructor(gm: Geoman) {\n    this.gm = gm;\n    this.forwarder = new EventForwarder(gm);\n  }\n\n  fireEvent(eventName: GmEventName, payload: GMEvent) {\n    const eventHandler = this.gmEventHandlers[eventName];\n    if (!eventHandler) {\n      return;\n    }\n\n    const { controlHandler } = eventHandler;\n    controlHandler(payload);\n\n    // make events available for end users\n    this.forwarder.processEvent(eventName, payload);\n  }\n\n  attachEvents(handlers: MapEventHandlers) {\n    typedKeys(handlers).forEach((eventName) => {\n      const handler = handlers[eventName];\n      if (handler) {\n        this.on(eventName, handler);\n      }\n    });\n  }\n\n  detachEvents(handlers: MapEventHandlers) {\n    typedKeys(handlers).forEach((eventName) => {\n      const handler = handlers[eventName];\n      if (handler) {\n        this.off(eventName, handler);\n      }\n    });\n  }\n\n  detachAllEvents() {\n    typedKeys(this.gmEventHandlers).forEach((gmEventName) => {\n      const handlers = Array.from(this.gmEventHandlers[gmEventName]?.handlers || []);\n      handlers.forEach((handler) => {\n        this.off(gmEventName, handler);\n      });\n    });\n\n    typedKeys(this.mapEventHandlers).forEach((mapEventName) => {\n      const handlers = Array.from(this.mapEventHandlers[mapEventName]?.handlers || []);\n      handlers.forEach((handler) => {\n        this.off(mapEventName, handler);\n      });\n    });\n  }\n\n  on(eventName: AnyEventName, handler: MapEventHadler | GmEventHadler) {\n    if (eventName.startsWith(gmPrefix)) {\n      this.onGmEvent(eventName as GmEventName, handler as GmEventHadler);\n    } else {\n      this.onMapEvent(eventName as MapEventName, handler as MapEventHadler);\n    }\n  }\n\n  onGmEvent(eventName: GmEventName, handler: GmEventHadler) {\n    if (!this.gmEventHandlers[eventName]) {\n      this.gmEventHandlers[eventName] = this.createEventSection(eventName);\n    }\n    this.gmEventHandlers[eventName]?.handlers.unshift(handler);\n  }\n\n  onMapEvent(eventName: MapEventName, handler: MapEventHadler) {\n    if (!this.mapEventHandlers[eventName]) {\n      const eventSection = this.createEventSection(eventName);\n      this.gm.mapAdapter.on(eventName, eventSection.controlHandler);\n      this.mapEventHandlers[eventName] = eventSection;\n    }\n    this.mapEventHandlers[eventName]?.handlers.unshift(handler);\n  }\n\n  off(eventName: AnyEventName, handler: GmEventHadler | MapEventHadler) {\n    if (eventName.startsWith(`${gmPrefix}`)) {\n      this.offGmEvent(eventName as GmEventName, handler as GmEventHadler);\n    } else {\n      this.offMapEvent(eventName as MapEventName, handler as MapEventHadler);\n    }\n  }\n\n  offGmEvent(eventName: GmEventName, handler: GmEventHadler) {\n    const eventHandlers = this.gmEventHandlers[eventName]?.handlers || [];\n    const handlerIndex = eventHandlers.findIndex(\n      (handlerItem) => handler === handlerItem,\n    );\n\n    if (handlerIndex === -1) {\n      log.warn('MapEvents: handler not found', eventName, handler);\n    } else {\n      eventHandlers.splice(handlerIndex, 1);\n      if (eventHandlers.length === 0) {\n        delete this.gmEventHandlers[eventName];\n      }\n    }\n  }\n\n  offMapEvent(eventName: MapEventName, handler: MapEventHadler) {\n    const eventHandlers = this.mapEventHandlers[eventName]?.handlers || [];\n    const handlerIndex = eventHandlers.findIndex(\n      (handlerItem) => handler === handlerItem,\n    );\n\n    if (handlerIndex === -1) {\n      log.warn('MapEvents: handler not found', eventName, handler);\n    } else {\n      eventHandlers.splice(handlerIndex, 1);\n      if (eventHandlers.length === 0) {\n        const controlHandler = this.mapEventHandlers[eventName]?.controlHandler;\n        if (controlHandler) {\n          this.gm.mapAdapter.off(eventName, controlHandler);\n        }\n        delete this.mapEventHandlers[eventName];\n      }\n    }\n  }\n\n  createEventSection(eventName: MapEventName | GmEventName) {\n    return {\n      handlers: [],\n      controlHandler: (event: AnyEvent) => {\n        let eventHandler: EventControls;\n        if (isGmEvent(event) && eventName.startsWith(`${gmPrefix}`)) {\n          eventHandler = this.gmEventHandlers[eventName as GmEventName];\n        } else {\n          eventHandler = this.mapEventHandlers[eventName as MapEventName];\n        }\n        if (!eventHandler) {\n          log.debug(`No handlers for eventName: \"${eventName}\"`);\n          return;\n        }\n\n        // controlHandler calls all handlers for the events type\n        eventHandler.handlers.some((handlerItem: GmEventHadler | MapEventHadler) => {\n          let result;\n          if (isGmEvent(event)) {\n            result = (handlerItem as GmEventHadler)(event);\n          } else {\n            result = (handlerItem as MapEventHadler)(event);\n          }\n\n          if (result && typeof result === 'object' && 'next' in result) {\n            // if handler returns \"{next: false}\", then don't call the next handler\n            return !result.next; // true means \"stop calling the next handlers\" here\n          } else {\n            log.error('EventsBus: handler should return an object with a \"next\" property');\n            return false; // don't prevent the next handler\n          }\n        });\n      },\n    };\n  }\n}\n","import { EventBus } from '@/core/events/bus.ts';\nimport { BaseEventListener, gmPrefix } from '@/core/events/listeners/base.ts';\nimport type { Geoman, GMEvent, MapEventHandlers } from '@/main.ts';\nimport { isGmControlEvent } from '@/utils/guards/events/control.ts';\nimport log from 'loglevel';\n\n\nexport class ControlEventListener extends BaseEventListener {\n  mapEventHandlers: MapEventHandlers = {\n    [`${gmPrefix}:control`]: this.handleControlEvent.bind(this),\n  };\n\n  constructor(gm: Geoman, bus: EventBus) {\n    super(gm);\n    bus.attachEvents(this.mapEventHandlers);\n  }\n\n  handleControlEvent(payload: GMEvent) {\n    // doesn't handle loaded/unloaded control events\n    if (!isGmControlEvent(payload)) {\n      return { next: true };\n    }\n\n    const control = this.getControl(payload);\n    if (!control) {\n      log.error('Control not found, event payload', payload);\n    }\n    return { next: true };\n  }\n}\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport type {\n  ActionType,\n  DrawModeName,\n  EditModeName,\n  GeoJsonShapeFeature,\n  GMDrawShapeEvent,\n  GMDrawShapeEventWithData,\n  GMEditFeatureEditEndEvent,\n  GMEditFeatureEditStartEvent,\n  GMEditFeatureRemovedEvent,\n  GMEditFeatureUpdatedEvent,\n  GMEvent,\n  MarkerData,\n  NonEmptyArray,\n  PointerEventName,\n} from '@/main.ts';\nimport { BaseAction } from '@/modes/base-action.ts';\nimport { shapeNames } from '@/modes/draw/base.ts';\nimport { isGmDrawLineDrawerEvent } from '@/utils/guards/events/draw.ts';\nimport { includesWithType } from '@/utils/typing.ts';\n\n\nexport const editModes = [\n  'drag',\n  'change',\n  'rotate',\n  'scale',\n  'copy',\n  'cut',\n  'split',\n  'union',\n  'difference',\n  'line_simplification',\n  'lasso',\n  'delete',\n] as const;\n\nexport abstract class BaseEdit extends BaseAction {\n  actionType: ActionType = 'edit';\n  abstract mode: EditModeName;\n  featureData: FeatureData | null = null;\n  cursorExcludedLayerIds: Array<string> = [\n    'rectangle-line',\n    'polygon-line',\n    'circle-line',\n  ];\n  layerEventHandlersData: Array<{\n    eventName: PointerEventName,\n    layerId: string,\n    callback: () => void,\n  }> = [];\n\n  startAction() {\n    this.setEventsForLayers('mouseenter', this.setCursorToPointer.bind(this));\n    this.setEventsForLayers('mouseleave', this.setCursorToEmpty.bind(this));\n    super.startAction();\n  }\n\n  endAction() {\n    this.clearEventsForLayers();\n    super.endAction();\n  }\n\n  setCursorToPointer() {\n    this.gm.mapAdapter.setCursor('pointer');\n  }\n\n  setCursorToEmpty() {\n    this.gm.mapAdapter.setCursor('');\n  }\n\n  setEventsForLayers(eventName: PointerEventName, callback: () => void) {\n    const targetLayerIds = this.gm.features.layers\n      .map((layer) => layer.id)\n      .filter(\n        (layerId) => !this.cursorExcludedLayerIds.some((subName) => layerId.includes(subName)),\n      );\n\n    targetLayerIds.forEach((layerId) => {\n      this.gm.mapAdapter.on(eventName, layerId, callback);\n      this.layerEventHandlersData.push({ eventName, layerId, callback });\n    });\n  }\n\n  clearEventsForLayers() {\n    this.layerEventHandlersData.forEach(({ eventName, layerId, callback }) => {\n      this.gm.mapAdapter.off(eventName, layerId, callback);\n    });\n    this.layerEventHandlersData = [];\n  }\n\n  updateFeatureGeoJson(\n    { featureData, featureGeoJson, forceMode = undefined }: {\n      featureData: FeatureData,\n      featureGeoJson: GeoJsonShapeFeature,\n      forceMode?: EditModeName,\n    },\n  ): boolean {\n    if (!this.flags.featureUpdateAllowed) {\n      // used for geofencing violations, other modes could be added in the future\n      return false;\n    }\n\n    if (featureData.shape === 'circle' && featureGeoJson.properties.center) {\n      featureData.setShapeProperty('center', featureGeoJson.properties.center);\n    }\n\n    featureData.updateGeoJsonGeometry(featureGeoJson.geometry);\n\n    this.fireFeatureUpdatedEvent({\n      sourceFeatures: [featureData],\n      targetFeatures: [featureData],\n      forceMode,\n    });\n\n    return true;\n  }\n\n  fireFeatureUpdatedEvent(\n    { sourceFeatures, targetFeatures, markerData = undefined, forceMode = undefined }: {\n      sourceFeatures: NonEmptyArray<FeatureData>,\n      targetFeatures: NonEmptyArray<FeatureData>,\n      markerData?: MarkerData,\n      forceMode?: EditModeName\n    },\n  ) {\n    const payload: GMEditFeatureUpdatedEvent = {\n      level: 'system',\n      type: 'edit',\n      action: 'feature_updated',\n      mode: forceMode || this.mode,\n      sourceFeatures,\n      targetFeatures,\n      markerData: markerData || null,\n    };\n\n    this.gm.events.fire(`${gmPrefix}:edit`, payload);\n  }\n\n  fireFeatureEditStartEvent(\n    { feature, forceMode = undefined }: {\n      feature: FeatureData,\n      forceMode?: EditModeName\n    },\n  ) {\n    const payload: GMEditFeatureEditStartEvent = {\n      level: 'system',\n      type: 'edit',\n      action: 'feature_edit_start',\n      mode: forceMode || this.mode,\n      feature,\n    };\n\n    this.gm.events.fire(`${gmPrefix}:edit`, payload);\n  }\n\n  fireFeatureEditEndEvent(\n    { feature, forceMode = undefined }: { feature: FeatureData, forceMode?: EditModeName },\n  ) {\n    const payload: GMEditFeatureEditEndEvent = {\n      level: 'system',\n      type: 'edit',\n      action: 'feature_edit_end',\n      mode: forceMode || this.mode,\n      feature,\n    };\n\n    this.gm.events.fire(`${gmPrefix}:edit`, payload);\n  }\n\n  fireMarkerPointerUpdateEvent() {\n    if (!this.gm.markerPointer.marker) {\n      return;\n    }\n\n    const marker = this.gm.markerPointer.marker;\n    const payload: GMDrawShapeEventWithData = {\n      level: 'system',\n      variant: null,\n      type: 'draw',\n      mode: this.getLineDrawerMode(),\n      action: 'update',\n      markerData: {\n        type: 'dom',\n        instance: marker,\n        position: {\n          coordinate: marker.getLngLat(),\n          path: [-1],\n        },\n      },\n      featureData: null,\n    };\n    this.gm.events.fire(`${gmPrefix}:draw`, payload);\n  }\n\n  forwardLineDrawerEvent(payload: GMEvent) {\n    if (!isGmDrawLineDrawerEvent(payload) || !['cut', 'split'].includes(this.mode)) {\n      return { next: true };\n    }\n\n    if (payload.action === 'start' || payload.action === 'update') {\n      const eventData: GMDrawShapeEventWithData = {\n        level: 'system',\n        type: 'draw',\n        mode: this.getLineDrawerMode(),\n        variant: null,\n        action: payload.action,\n        featureData: payload.featureData,\n        markerData: payload.markerData,\n      };\n      this.gm.events.fire(`${gmPrefix}:draw`, eventData);\n    } else if (payload.action === 'finish' || payload.action === 'cancel') {\n      const eventData: GMDrawShapeEvent = {\n        level: 'system',\n        type: 'draw',\n        mode: this.getLineDrawerMode(),\n        variant: null,\n        action: payload.action,\n      };\n      this.gm.events.fire(`${gmPrefix}:draw`, eventData);\n    }\n\n    return { next: true };\n  }\n\n  fireFeatureRemovedEvent(featureData: FeatureData) {\n    if (includesWithType(featureData.shape, shapeNames)) {\n      const payload: GMEditFeatureRemovedEvent = {\n        level: 'system',\n        type: 'edit',\n        mode: featureData.shape,\n        action: 'feature_removed',\n        featureData,\n      };\n      this.gm.events.fire(`${gmPrefix}:edit`, payload);\n    }\n  }\n\n  getLineDrawerMode(): DrawModeName {\n    if (this.mode === 'cut') {\n      return 'polygon';\n    } else if (this.mode === 'split') {\n      return 'line';\n    }\n    return 'line';\n  }\n}\n","import type { ActionType, HelperModeName } from '@/main.ts';\nimport { BaseAction } from '@/modes/base-action.ts';\n\n\nexport const helperModes = [\n  'shape_markers',\n  'pin',\n  'snapping',\n  'snap_guides',\n  'measurements',\n  'auto_trace',\n  'geofencing',\n  'zoom_to_features',\n  'click_to_edit',\n] as const;\n\n\nexport abstract class BaseHelper extends BaseAction {\n  actionType: ActionType = 'helper';\n  abstract mode: HelperModeName;\n}\n","import type { GMEditEvent } from '@/types/index.ts';\nimport { isGmEvent } from '@/utils/guards/events/index.ts';\n\nexport const isGmEditEvent = (payload: unknown): payload is GMEditEvent => {\n  return (\n    isGmEvent(payload)\n    && payload.type === 'edit'\n  );\n};\n","import type { ActionType, DrawModeName, EditModeName, HelperModeName, ModeName } from '@/main.ts';\nimport { actionTypes } from '@/modes/base-action.ts';\nimport { drawModes } from '@/modes/draw/base.ts';\nimport { editModes } from '@/modes/edit/base.ts';\nimport { helperModes } from '@/modes/helpers/base.ts';\n\n\nexport const isActionType = (name: string): name is ActionType => {\n  return actionTypes.includes(name as ActionType);\n};\n\nexport const isDrawModeName = (name: string): name is DrawModeName => {\n  return drawModes.includes(name as DrawModeName);\n};\n\nexport const isEditModeName = (name: string): name is EditModeName => {\n  return editModes.includes(name as EditModeName);\n};\n\nexport const isHelperModeName = (name: string): name is HelperModeName => {\n  return helperModes.includes(name as HelperModeName);\n};\n\nexport const isModeName = (name: string): name is ModeName => {\n  return isDrawModeName(name) || isEditModeName(name) || isHelperModeName(name);\n};\n\nexport { isGmDrawFreehandDrawerEvent } from '@/utils/guards/events/draw.ts';\nexport { isGmDrawLineDrawerEvent } from '@/utils/guards/events/draw.ts';\nexport { isGmDrawShapeEvent } from '@/utils/guards/events/draw.ts';\nexport { isGmDrawEvent } from '@/utils/guards/events/draw.ts';\nexport { isGmGeofencingViolationEvent } from '@/utils/guards/events/helper.ts';\nexport { isGmHelperEvent } from '@/utils/guards/events/helper.ts';\nexport { isGmEditEvent } from '@/utils/guards/events/edit.ts';\n","import { EventBus } from '@/core/events/bus.ts';\nimport { BaseEventListener, gmPrefix } from '@/core/events/listeners/base.ts';\nimport type { ActionInstanceKey, Geoman, GMDrawEvent, GMEvent, MapEventHandlers } from '@/main.ts';\nimport { BaseDraw } from '@/modes/draw/base.ts';\nimport { isGmDrawEvent } from '@/utils/guards/modes.ts';\nimport log from 'loglevel';\n\n\nexport class DrawEventListener extends BaseEventListener {\n  mapEventHandlers: MapEventHandlers = {\n    [`${gmPrefix}:draw`]: this.handleDrawEvent.bind(this),\n  };\n\n  constructor(gm: Geoman, bus: EventBus) {\n    super(gm);\n    bus.attachEvents(this.mapEventHandlers);\n  }\n\n  handleDrawEvent(payload: GMEvent) {\n    if (!isGmDrawEvent(payload)) {\n      return { next: true };\n    }\n\n    const actionInstanceKey: ActionInstanceKey = `${payload.type}__${payload.mode}`;\n\n    if (payload.action === 'mode_start') {\n      this.trackExclusiveModes(payload);\n      this.start(actionInstanceKey, payload);\n      this.trackRelatedModes(payload);\n    } else if (payload.action === 'mode_end') {\n      this.trackRelatedModes(payload);\n      this.end(actionInstanceKey);\n    }\n\n    return { next: true };\n  }\n\n  start(actionInstanceKey: ActionInstanceKey, payload: GMDrawEvent) {\n    const actionInstance = this.gm.createDrawInstance(payload.mode);\n    if (!actionInstance) {\n      return;\n    }\n\n    if (actionInstanceKey in this.gm.actionInstances) {\n      log.error(`Action instance \"${actionInstanceKey}\" already exists`);\n    }\n\n    this.gm.actionInstances[actionInstanceKey] = actionInstance;\n    actionInstance.startAction();\n  }\n\n  end(actionInstanceKey: ActionInstanceKey) {\n    const actionInstance = this.gm.actionInstances[actionInstanceKey];\n    if (actionInstance instanceof BaseDraw) {\n      actionInstance.endAction();\n      delete this.gm.actionInstances[actionInstanceKey];\n    } else {\n      console.error(\n        `Wrong action instance for draw event \"${actionInstanceKey}\":`,\n        actionInstance,\n      );\n    }\n  }\n}\n","import { EventBus } from '@/core/events/bus.ts';\nimport { BaseEventListener, gmPrefix } from '@/core/events/listeners/base.ts';\nimport type { ActionInstanceKey, Geoman, GMEditEvent, GMEvent, MapEventHandlers } from '@/main.ts';\nimport { BaseEdit } from '@/modes/edit/base.ts';\nimport { isGmEditEvent } from '@/utils/guards/modes.ts';\nimport log from 'loglevel';\n\n\nexport class EditEventListener extends BaseEventListener {\n  mapEventHandlers: MapEventHandlers = {\n    [`${gmPrefix}:edit`]: this.handleEditEvent.bind(this),\n  };\n\n  constructor(gm: Geoman, bus: EventBus) {\n    super(gm);\n    bus.attachEvents(this.mapEventHandlers);\n  }\n\n  handleEditEvent(payload: GMEvent) {\n    if (!isGmEditEvent(payload)) {\n      return { next: true };\n    }\n\n    const actionInstanceKey: ActionInstanceKey = `${payload.type}__${payload.mode}`;\n    if (payload.action === 'mode_start') {\n      this.trackExclusiveModes(payload);\n      this.start(actionInstanceKey, payload);\n      this.trackRelatedModes(payload);\n    } else if (payload.action === 'mode_end') {\n      this.trackRelatedModes(payload);\n      this.end(actionInstanceKey);\n    }\n\n    return { next: true };\n  }\n\n  start(actionInstanceKey: ActionInstanceKey, payload: GMEditEvent) {\n    if (payload.action !== 'mode_start') {\n      return;\n    }\n\n    const actionInstance = this.gm.createEditInstance(payload.mode);\n    if (!actionInstance) {\n      return;\n    }\n\n    if (actionInstanceKey in this.gm.actionInstances) {\n      log.error(`Action instance \"${actionInstanceKey}\" already exists`);\n    }\n\n    this.gm.actionInstances[actionInstanceKey] = actionInstance;\n    actionInstance.startAction();\n  }\n\n  end(actionInstanceKey: ActionInstanceKey) {\n    const actionInstance = this.gm.actionInstances[actionInstanceKey];\n\n    if (actionInstance instanceof BaseEdit) {\n      actionInstance.endAction();\n      delete this.gm.actionInstances[actionInstanceKey];\n    } else {\n      console.error(\n        `Wrong action instance for edit event \"${actionInstanceKey}\": `,\n        actionInstance,\n      );\n    }\n  }\n}\n","import { EventBus } from '@/core/events/bus.ts';\nimport { BaseEventListener, gmPrefix } from '@/core/events/listeners/base.ts';\nimport type { ActionInstanceKey, Geoman, GMEvent, GMHelperModeEvent, MapEventHandlers } from '@/main.ts';\nimport { BaseHelper } from '@/modes/helpers/base.ts';\nimport { isGmHelperEvent } from '@/utils/guards/events/helper.ts';\nimport log from 'loglevel';\n\n\nexport class HelperEventListener extends BaseEventListener {\n  mapEventHandlers: MapEventHandlers = {\n    [`${gmPrefix}:helper`]: this.handleHelperEvent.bind(this),\n  };\n\n  constructor(gm: Geoman, bus: EventBus) {\n    super(gm);\n    bus.attachEvents(this.mapEventHandlers);\n  }\n\n  handleHelperEvent(payload: GMEvent) {\n    if (!isGmHelperEvent(payload)) {\n      return { next: true };\n    }\n\n    const actionInstanceKey: ActionInstanceKey = `${payload.type}__${payload.mode}`;\n\n    if (payload.action === 'mode_start') {\n      this.trackExclusiveModes(payload);\n      this.start(actionInstanceKey, payload);\n      this.trackRelatedModes(payload);\n    } else if (payload.action === 'mode_end') {\n      this.trackRelatedModes(payload);\n      this.end(actionInstanceKey);\n    }\n\n    return { next: true };\n  }\n\n  start(actionInstanceKey: ActionInstanceKey, payload: GMHelperModeEvent) {\n    const actionInstance = this.gm.createHelperInstance(payload.mode);\n    if (!actionInstance) {\n      return;\n    }\n\n    if (actionInstanceKey in this.gm.actionInstances) {\n      log.error(`Action instance \"${actionInstanceKey}\" already exists`);\n    }\n\n    this.gm.actionInstances[actionInstanceKey] = actionInstance;\n    actionInstance.startAction();\n  }\n\n  end(actionInstanceKey: ActionInstanceKey) {\n    const actionInstance = this.gm.actionInstances[actionInstanceKey];\n    if (actionInstance instanceof BaseHelper) {\n      actionInstance.endAction();\n      delete this.gm.actionInstances[actionInstanceKey];\n    } else {\n      console.error(\n        `Wrong action instance for edit event \"${actionInstanceKey}\":`,\n        actionInstance,\n      );\n    }\n  }\n}\n","import { EventBus } from '@/core/events/bus.ts';\nimport { BaseEventListener } from '@/core/events/listeners/base.ts';\nimport { ControlEventListener } from '@/core/events/listeners/controls.ts';\nimport { DrawEventListener } from '@/core/events/listeners/draw.ts';\nimport { EditEventListener } from '@/core/events/listeners/edit.ts';\nimport { HelperEventListener } from '@/core/events/listeners/helper.ts';\nimport type { Geoman } from '@/main.ts';\nimport log from 'loglevel';\nimport type { EventType, GMEvent, GmEventName } from 'src/types/events';\n\n\nexport default class GMEvents {\n  gm: Geoman;\n  bus: EventBus;\n  listeners: { [key in EventType]?: BaseEventListener } = {};\n\n  constructor(gm: Geoman) {\n    this.gm = gm;\n    this.bus = new EventBus(this.gm);\n\n    this.listeners = {\n      draw: new DrawEventListener(this.gm, this.bus),\n      edit: new EditEventListener(this.gm, this.bus),\n      helper: new HelperEventListener(this.gm, this.bus),\n      control: new ControlEventListener(this.gm, this.bus),\n    };\n  }\n\n  fire(eventName: GmEventName, payload: GMEvent) {\n    if (!this.listeners[payload.type]) {\n      log.error(`Can't find event listener for \"${payload.type}\" event type`);\n    }\n\n    // events are sent to the bus and then are handler by the listeners\n    // check events.bus.attachEvents() in required classes\n    this.bus.fireEvent(eventName, payload);\n  }\n}\n","import GMControl from '@/core/controls/index.ts';\nimport type { FeatureData } from '@/core/features/feature-data.ts';\nimport type { BaseLayer } from '@/core/map/base/layer.ts';\nimport type { BaseDomMarker } from '@/core/map/base/marker.ts';\nimport type { BasePopup } from '@/core/map/base/popup.ts';\nimport type { BaseSource } from '@/core/map/base/source.ts';\nimport type {\n  AnyEventName,\n  BaseDomMarkerOptions,\n  BaseEventListener,\n  BaseFitBoundsOptions,\n  BasePopupOptions,\n  CursorType,\n  FeatureSourceName,\n  GeoJsonFeatureData,\n  LineBasedGeometry,\n  LngLat,\n  MapInstanceWithGeoman,\n  MapInteraction,\n  MapTypes,\n  ScreenPoint,\n} from '@/main.ts';\nimport { eachSegmentWithPath, getEuclideanDistance, getEuclideanSegmentNearestPoint } from '@/utils/geojson.ts';\nimport turfDistance from '@turf/distance';\nimport type { Feature, FeatureCollection, GeoJSON } from 'geojson';\n\n\nexport abstract class BaseMapAdapter<\n  TMapInstance = MapInstanceWithGeoman,\n  TSource = unknown,\n  TLayer = unknown,\n> {\n  abstract mapType: keyof MapTypes;\n\n  abstract mapInstance: TMapInstance;\n\n  abstract getMapInstance(): TMapInstance;\n\n  abstract isLoaded(): boolean;\n\n  abstract getContainer(): HTMLElement;\n\n  abstract getCanvas(): HTMLCanvasElement;\n\n  abstract addControl(control: GMControl): void;\n\n  abstract removeControl(control: GMControl): void;\n\n  abstract loadImage({ id, image }: { id: string, image: string }): Promise<void>;\n\n  abstract getBounds(): [LngLat, LngLat];\n\n  abstract fitBounds(\n    bounds: [LngLat, LngLat],\n    options?: BaseFitBoundsOptions,\n  ): void;\n\n  abstract setCursor(cursor: CursorType): void;\n\n  abstract disableMapInteractions(interactionTypes: Array<MapInteraction>): void;\n\n  abstract enableMapInteractions(interactionTypes: Array<MapInteraction>): void;\n\n  abstract setDragPan(value: boolean): void;\n\n  abstract queryFeaturesByScreenCoordinates({ queryCoordinates, sourceNames }: {\n    queryCoordinates: ScreenPoint | [ScreenPoint, ScreenPoint],\n    sourceNames: Array<FeatureSourceName>,\n  }): Array<FeatureData>;\n\n  abstract queryGeoJsonFeatures({ queryCoordinates, sourceNames }: {\n    queryCoordinates?: ScreenPoint | [ScreenPoint, ScreenPoint],\n    sourceNames: Array<FeatureSourceName>,\n  }): Array<GeoJsonFeatureData>;\n\n  abstract addSource(sourceId: string, geoJson: GeoJSON): BaseSource<TSource>;\n\n  abstract getSource(sourceId: string): BaseSource<TSource>;\n\n  // abstract removeSource(sourceId: string): void;\n\n  abstract addLayer(options: unknown): BaseLayer<TLayer>;\n\n  abstract getLayer(layerId: string): BaseLayer<TLayer>;\n\n  abstract removeLayer(layerId: string): void;\n\n  abstract eachLayer(callback: (layer: BaseLayer<TLayer>) => void): void;\n\n  abstract createDomMarker(options: BaseDomMarkerOptions, lngLat: LngLat): BaseDomMarker;\n\n  abstract createPopup(options: BasePopupOptions): BasePopup;\n\n  abstract project(position: LngLat): ScreenPoint;\n\n  abstract unproject(point: ScreenPoint): LngLat;\n\n  abstract coordBoundsToScreenBounds(\n    bounds: [LngLat, LngLat],\n  ): [ScreenPoint, ScreenPoint];\n\n  getEuclideanNearestLngLat(\n    shapeGeoJson: Feature<LineBasedGeometry> | FeatureCollection<LineBasedGeometry>,\n    lngLat: LngLat,\n  ): LngLat {\n    const targetPoint = this.project(lngLat);\n    let closestPoint: ScreenPoint = [0, 0];\n    let minDistance = Infinity;\n\n    eachSegmentWithPath(shapeGeoJson, (segment) => {\n      const linePoint1 = this.project(segment.start.coordinate);\n      const linePoint2 = this.project(segment.end.coordinate);\n      const nearestCoordinates = getEuclideanSegmentNearestPoint(\n        linePoint1,\n        linePoint2,\n        targetPoint,\n      );\n      const distance = getEuclideanDistance(targetPoint, nearestCoordinates);\n\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestPoint = [nearestCoordinates[0], nearestCoordinates[1]];\n      }\n    });\n\n    return this.unproject(closestPoint);\n  }\n\n  abstract fire(type: AnyEventName, data?: unknown): void;\n\n  abstract on(type: AnyEventName, listener: BaseEventListener): void;\n  abstract on(type: AnyEventName, layerId: string, listener: BaseEventListener): void;\n\n  abstract once(type: AnyEventName, listener: BaseEventListener): void;\n  abstract once(type: AnyEventName, layerId: string, listener: BaseEventListener): void;\n\n  abstract off(type: AnyEventName, listener: BaseEventListener): void;\n  abstract off(type: AnyEventName, layerId: string, listener: BaseEventListener): void;\n\n  getDistance(lngLat1: LngLat, lngLat2: LngLat): number {\n    return turfDistance(lngLat1, lngLat2, { units: 'meters' });\n  }\n}\n","import log from 'loglevel';\n\n\nexport abstract class BaseLayer<TLayerInstance = unknown> {\n  abstract layerInstance: TLayerInstance | null;\n\n  abstract get id(): string;\n\n  abstract get source(): string;\n\n  abstract createLayer(options: unknown): TLayerInstance;\n\n  abstract remove(): void;\n\n  isInstanceAvailable(): this is { layerInstance: TLayerInstance } {\n    if (this.layerInstance) {\n      return true;\n    }\n\n    log.error('layerInstance is not available');\n    return false;\n  }\n}\n","import { BaseLayer } from '@/core/map/base/layer.ts';\nimport type { MaplibreAnyLayer } from '@/core/map/maplibre/types.ts';\nimport type { Geoman } from '@/main.ts';\nimport ml from 'maplibre-gl';\n\n\nexport class MaplibreLayer extends BaseLayer<MaplibreAnyLayer> {\n  gm: Geoman;\n  layerInstance: MaplibreAnyLayer | null = null;\n  mapInstance: ml.Map;\n\n  constructor({ gm, layerId, options }: {\n    gm: Geoman,\n    layerId: string,\n    options?: ml.AddLayerObject\n  }) {\n    super();\n    this.gm = gm;\n    this.mapInstance = this.gm.mapAdapter.mapInstance as ml.Map;\n\n    if (options) {\n      this.layerInstance = this.createLayer(options);\n    } else {\n      this.layerInstance = this.mapInstance.getLayer(layerId) as MaplibreAnyLayer || null;\n    }\n  }\n\n  get id(): string {\n    if (!this.isInstanceAvailable()) {\n      throw new Error('Layer instance is not available');\n    }\n\n    return this.layerInstance.id;\n  }\n\n  get source(): string {\n    if (!this.isInstanceAvailable()) {\n      throw new Error('Layer instance is not available');\n    }\n\n    return this.layerInstance.source;\n  }\n\n  createLayer(options: ml.AddLayerObject): MaplibreAnyLayer {\n    this.mapInstance.addLayer(options);\n    return this.mapInstance.getLayer(options.id) as MaplibreAnyLayer || null;\n  }\n\n  remove(): void {\n    if (this.isInstanceAvailable()) {\n      this.mapInstance.removeLayer(this.id);\n    }\n    this.layerInstance = null;\n  }\n}\n\n","import { BaseDomMarker } from '@/core/map/base/marker.ts';\nimport type { BaseDomMarkerOptions, LngLat } from '@/main.ts';\nimport ml from 'maplibre-gl';\n\n\nexport class MaplibreDomMarker extends BaseDomMarker<ml.Marker> {\n  markerInstance: ml.Marker | null;\n\n  constructor({ mapInstance, options, lngLat }: {\n    mapInstance: ml.Map,\n    options: BaseDomMarkerOptions,\n    lngLat: LngLat,\n  }) {\n    super();\n    this.markerInstance = new ml.Marker(options)\n      .setLngLat(lngLat)\n      .addTo(mapInstance);\n  }\n\n  getElement(): HTMLElement | null {\n    if (!this.isMarkerInstanceAvailable()) {\n      return null;\n    }\n\n    return this.markerInstance?.getElement() || null;\n  }\n\n  setLngLat(lngLat: LngLat) {\n    if (!this.isMarkerInstanceAvailable()) {\n      return;\n    }\n    this.markerInstance?.setLngLat(lngLat);\n  }\n\n  getLngLat(): LngLat {\n    if (!this.isMarkerInstanceAvailable()) {\n      return [0, 0];\n    }\n\n    return this.markerInstance?.getLngLat().toArray() || [0, 0];\n  }\n\n  remove() {\n    this.markerInstance?.remove();\n  }\n}\n","import type { LngLat } from '@/main.ts';\nimport log from 'loglevel';\n\nexport abstract class BasePopup<TPopupInstance = unknown> {\n  abstract popupInstance: TPopupInstance | null;\n\n  abstract setLngLat(lngLat: LngLat): void;\n\n  abstract setHtml(htmlContent: string): void;\n\n  abstract remove(): void;\n\n  isInstanceAvailable(): this is { popupInstance: TPopupInstance } {\n    if (this.popupInstance) {\n      return true;\n    }\n\n    log.error('Popup instance is not available');\n    return false;\n  }\n}\n","import { BasePopup } from '@/core/map/base/popup.ts';\nimport type { BasePopupOptions, LngLat } from '@/main.ts';\nimport ml from 'maplibre-gl';\n\n\nexport class MaplibrePopup extends BasePopup<ml.Popup> {\n  popupInstance: ml.Popup | null;\n\n  constructor({ mapInstance, options, lngLat }: {\n    mapInstance: ml.Map,\n    options: BasePopupOptions,\n    lngLat?: LngLat,\n  }) {\n    super();\n    this.popupInstance = new ml.Popup(options).addTo(mapInstance);\n    if (lngLat) {\n      this.setLngLat(lngLat);\n    }\n  }\n\n  getLngLat(): LngLat {\n    if (!this.isInstanceAvailable()) {\n      return [0, 0];\n    }\n\n    return this.popupInstance.getLngLat().toArray() || [0, 0];\n  }\n\n  setLngLat(lngLat: LngLat) {\n    if (!this.isInstanceAvailable()) {\n      return;\n    }\n\n    this.popupInstance.setLngLat(lngLat);\n  }\n\n  setHtml(htmlContent: string): void {\n    if (this.isInstanceAvailable()) {\n      this.popupInstance.setHTML(htmlContent);\n    }\n  }\n\n  remove() {\n    if (this.isInstanceAvailable()) {\n      this.popupInstance.remove();\n    }\n  }\n}\n","import type { GeoJsonDiffStorage } from \"@/types\";\nimport type { Feature } from \"geojson\"\n\nexport function mergeGeoJsonDiff(\n  pendingDiffOrNull: GeoJsonDiffStorage | null,\n  nextDiffOrNull: GeoJsonDiffStorage | null\n): GeoJsonDiffStorage {\n  const pending: GeoJsonDiffStorage = pendingDiffOrNull ?? {add: [], update: [], remove: []}\n  const next: GeoJsonDiffStorage = nextDiffOrNull ?? {add: [], update: [], remove: []}\n\n  const nextRemoveIds = new Set(next.remove);\n\n  const pendingAdd = pending.add.filter((f) => !nextRemoveIds.has(f.id!))\n  const pendingUpdate = pending.update.filter((f) => !nextRemoveIds.has(f.id!))\n\n  const nextUpdate: Array<Feature> = [];\n\n  next.update.forEach((updatedFeature) => {\n    const pendingAddIdx = pendingAdd.findIndex(f => f.id === updatedFeature.id)\n    const pendingUpdateIdx = pendingUpdate.findIndex(f => f.id === updatedFeature.id)\n\n    if (pendingAddIdx === -1 && pendingUpdateIdx === -1) {\n      nextUpdate.push(updatedFeature)\n      return\n    }\n    if (pendingAddIdx !== -1) {\n      pendingAdd[pendingAddIdx] = updatedFeature;\n    }\n    if (pendingUpdateIdx !== -1) {\n      pendingUpdate[pendingUpdateIdx] = updatedFeature;\n    }\n  });\n\n  return {\n    add: [...pendingAdd, ...next.add],\n    update: [...pendingUpdate, ...nextUpdate],\n    remove: [...pending.remove, ...next.remove]\n  }\n}\n","import { BaseSource } from '@/core/map/base/source.ts';\nimport {\n  FEATURE_ID_PROPERTY,\n  type GeoJsonDiffStorage,\n  type GeoJsonShapeFeatureCollection,\n  type Geoman,\n} from '@/main.ts';\nimport type { Feature, GeoJSON } from 'geojson';\nimport ml from 'maplibre-gl';\nimport { mergeGeoJsonDiff } from './helper.ts';\n\n\nexport class MaplibreSource extends BaseSource<ml.GeoJSONSource> {\n  gm: Geoman;\n  mapInstance: ml.Map;\n  sourceInstance: ml.GeoJSONSource | null;\n\n  pendingUpdateStorage: GeoJsonDiffStorage | null = null;\n  mlSourceDiff: ml.GeoJSONSourceDiff | null = null\n  updateTimeout: null | number = null;\n\n\n  constructor({ gm, geoJson, sourceId }: {\n    gm: Geoman,\n    sourceId: string,\n    geoJson?: GeoJSON,\n  }) {\n    super();\n    this.gm = gm;\n    this.mapInstance = this.gm.mapAdapter.mapInstance as ml.Map;\n\n    if (geoJson) {\n      this.sourceInstance = this.createSource({ geoJson, sourceId });\n    } else {\n      this.sourceInstance = this.mapInstance.getSource(sourceId) as ml.GeoJSONSource || null;\n    }\n  }\n\n  get id(): string {\n    if (!this.isInstanceAvailable()) {\n      throw new Error('Source instance is not available');\n    }\n\n    return this.sourceInstance.id;\n  }\n\n  createSource(\n    { geoJson, sourceId }: { sourceId: string, geoJson: GeoJSON },\n  ): ml.GeoJSONSource {\n    let source = this.mapInstance.getSource(sourceId) as ml.GeoJSONSource | undefined;\n    if (!source) {\n      this.mapInstance.addSource(sourceId, {\n        type: 'geojson',\n        data: geoJson,\n        promoteId: FEATURE_ID_PROPERTY,\n      });\n      source = this.mapInstance.getSource(sourceId) as ml.GeoJSONSource\n    }\n    return source ?? null;\n  }\n\n  getGeoJson() {\n    if (!this.isInstanceAvailable()) {\n      throw new Error('Source instance is not available');\n    }\n    return this.sourceInstance.serialize().data as GeoJsonShapeFeatureCollection;\n  }\n\n  setGeoJson(geoJson: GeoJSON) {\n    if (!this.isInstanceAvailable()) {\n      throw new Error('Source instance is not available');\n    }\n    return this.sourceInstance.setData(geoJson);\n  }\n\n  updateData = (updateStorage?: GeoJsonDiffStorage) => {\n    if (!this.isInstanceAvailable()) {\n      return;\n    }\n\n    const fullUpdateStorage = mergeGeoJsonDiff(this.pendingUpdateStorage, updateStorage ?? null)\n\n    if (this.updateTimeout) {\n      window.clearTimeout(this.updateTimeout)\n      this.updateTimeout = null;\n    }\n\n    if (this.sourceInstance._pendingLoads === 0) {\n      this.pendingUpdateStorage = null;\n      const mlDiff = this.convertGeoJsonDiffToMlDiff(fullUpdateStorage);\n\n      this.sourceInstance.updateData(mlDiff);\n    } else {\n      this.pendingUpdateStorage = fullUpdateStorage;\n      this.updateTimeout = window.setTimeout(this.updateData, 15)\n    }\n  }\n\n  convertGeoJsonDiffToMlDiff(\n    diff: GeoJsonDiffStorage,\n  ): ml.GeoJSONSourceDiff {\n    // todo: check possible performance issue here,\n    // todo: feature properties updates applies geometry updates\n    return {\n      add: diff.add,\n      update: diff.update.map(this.convertFeatureToMlUpdateDiff.bind(this)),\n      remove: diff.remove,\n    };\n  }\n\n  convertFeatureToMlUpdateDiff(feature: Feature): ml.GeoJSONFeatureDiff {\n    const propertiesArray = Object\n      .entries(feature.properties || {})\n      .map((item) => ({ key: item[0], value: item[1] }));\n\n    return {\n      id: feature.id as string,\n      newGeometry: feature.geometry,\n      addOrUpdateProperties: propertiesArray,\n    };\n  }\n\n  remove({ removeLayers }: { removeLayers: boolean }) {\n    if (!this.isInstanceAvailable()) {\n      return;\n    }\n\n    if (removeLayers) {\n      this.gm.mapAdapter.eachLayer((layer) => {\n        if (layer.source === this.sourceInstance.id) {\n          this.gm.mapAdapter.removeLayer(layer.id);\n        }\n      });\n    }\n    this.mapInstance.removeSource(this.sourceInstance.id);\n  }\n}\n","import ml, { type MapLayerEventType } from 'maplibre-gl';\n\n// NOTE: these types mustn't be used outside the maplibre adapter directory!\n\nexport type MaplibreAnyLayer = NonNullable<ReturnType<ml.Map['getLayer']>>;\nexport const maplibrePointerEvents: ReadonlyArray<keyof MapLayerEventType> = [\n  'click',\n  'dblclick',\n  'mousedown',\n  'mouseup',\n  'mousemove',\n  'mouseenter',\n  'mouseleave',\n  'mouseover',\n  'mouseout',\n  'contextmenu',\n  'touchstart',\n  'touchend',\n  'touchcancel',\n] as const;\n\nexport type MaplibrePointerEventName = typeof maplibrePointerEvents[number];\n","import { type MaplibrePointerEventName, maplibrePointerEvents } from '@/core/map/maplibre/types.ts';\n\nexport const isMaplibreSupportedPointerEventName = (name: string): name is MaplibrePointerEventName => {\n  return maplibrePointerEvents.includes(name as MaplibrePointerEventName);\n};\n","import GMControl from '@/core/controls/index.ts';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport { FEATURE_ID_PROPERTY } from '@/core/features/index.ts';\nimport { BaseMapAdapter } from '@/core/map/base/index.ts';\nimport type { BaseLayer } from '@/core/map/base/layer.ts';\nimport { BaseDomMarker } from '@/core/map/base/marker.ts';\nimport type { BasePopup } from '@/core/map/base/popup.ts';\nimport { MaplibreLayer } from '@/core/map/maplibre/layer.ts';\nimport { MaplibreDomMarker } from '@/core/map/maplibre/marker.ts';\nimport { MaplibrePopup } from '@/core/map/maplibre/popup.ts';\nimport { MaplibreSource } from '@/core/map/maplibre/source.ts';\nimport type { MaplibreAnyLayer } from '@/core/map/maplibre/types.ts';\nimport type {\n  BaseDomMarkerOptions,\n  BaseEventListener,\n  BaseFitBoundsOptions,\n  BasePopupOptions,\n  CursorType,\n  FeatureId,\n  FeatureSourceName,\n  GeoJsonFeatureData,\n  GeoJsonImportFeature,\n  Geoman,\n  LngLat,\n  MapInstanceWithGeoman,\n  MapInteraction,\n  MapTypes,\n  ScreenPoint,\n} from '@/main.ts';\nimport type { GeoJSON } from 'geojson';\nimport { isEqual, uniqWith } from 'lodash-es';\nimport ml from 'maplibre-gl';\nimport { isMaplibreSupportedPointerEventName } from '@/core/map/maplibre/guards.ts';\n\n\nexport class MaplibreAdapter\n  extends BaseMapAdapter<MapInstanceWithGeoman<ml.Map>, ml.GeoJSONSource, MaplibreAnyLayer> {\n  gm: Geoman;\n  mapType: keyof MapTypes = 'maplibre';\n  mapInstance: MapInstanceWithGeoman<ml.Map>;\n\n  constructor(map: unknown, gm: Geoman) {\n    super();\n    this.gm = gm;\n    this.mapInstance = map as MapInstanceWithGeoman<ml.Map>;\n  }\n\n  getMapInstance(): MapInstanceWithGeoman<ml.Map> {\n    return this.mapInstance;\n  }\n\n  isLoaded(): boolean {\n    return this.mapInstance.loaded();\n  }\n\n  getContainer(): HTMLElement {\n    return this.mapInstance.getContainer();\n  }\n\n  getCanvas(): HTMLCanvasElement {\n    return this.mapInstance.getCanvas();\n  }\n\n  addControl(control: GMControl) {\n    this.mapInstance.addControl(control);\n  }\n\n  removeControl(control: GMControl) {\n    this.mapInstance.removeControl(control);\n  }\n\n  async loadImage({ id, image }: { id: string, image: string }) {\n    const loadedImage = await this.mapInstance.loadImage(image);\n    this.mapInstance.addImage(id, loadedImage.data);\n  }\n\n  getBounds(): [LngLat, LngLat] {\n    const mapBounds = this.mapInstance.getBounds();\n    return mapBounds.toArray() as [LngLat, LngLat];\n  }\n\n  fitBounds(\n    bounds: [LngLat, LngLat],\n    options?: BaseFitBoundsOptions,\n  ) {\n    this.mapInstance.fitBounds(bounds, options);\n  }\n\n  setCursor(cursor: CursorType) {\n    this.mapInstance.getCanvas().style.cursor = cursor;\n  }\n\n  disableMapInteractions(interactionTypes: Array<MapInteraction>): void {\n    interactionTypes.forEach((interactionType) => {\n      this.mapInstance[interactionType].disable();\n    });\n  }\n\n  enableMapInteractions(interactionTypes: Array<MapInteraction>): void {\n    interactionTypes.forEach((interactionType) => {\n      this.mapInstance[interactionType].enable();\n    });\n  }\n\n  setDragPan(value: boolean) {\n    if (value) {\n      this.mapInstance.dragPan.enable();\n    } else {\n      this.mapInstance.dragPan.disable();\n    }\n  }\n\n  queryFeaturesByScreenCoordinates({ queryCoordinates = undefined, sourceNames }: {\n    queryCoordinates?: ScreenPoint | [ScreenPoint, ScreenPoint],\n    sourceNames: Array<FeatureSourceName>,\n  }): Array<FeatureData> {\n    const features = uniqWith(this.mapInstance\n      .queryRenderedFeatures(queryCoordinates)\n      .map((feature) => ({\n        featureId: feature.properties[FEATURE_ID_PROPERTY] as FeatureId | undefined,\n        featureSourceName: feature.source as FeatureSourceName,\n      })), isEqual);\n\n    return features.map(({ featureId, featureSourceName }) => {\n      if (featureId === undefined || !sourceNames.includes(featureSourceName)) {\n        return null;\n      }\n\n      return this.gm.features.get(featureSourceName, featureId) || null;\n    }).filter((featureData): featureData is FeatureData => !!featureData);\n  }\n\n  queryGeoJsonFeatures({ queryCoordinates = undefined, sourceNames }: {\n    queryCoordinates?: ScreenPoint | [ScreenPoint, ScreenPoint],\n    sourceNames: Array<FeatureSourceName>,\n  }) {\n    const comparator = (\n      item1: GeoJsonFeatureData | null,\n      item2: GeoJsonFeatureData | null,\n    ): boolean => {\n      return item1?.id === item2?.id;\n    };\n\n    const features: Array<GeoJsonFeatureData | null> = uniqWith(this.mapInstance\n      .queryRenderedFeatures(queryCoordinates)\n      .map((feature) => {\n        const geoJson = this.convertToGeoJsonImportFeature(feature);\n        if (!geoJson) {\n          return null;\n        }\n        return {\n          id: feature.properties[FEATURE_ID_PROPERTY] as FeatureId | undefined,\n          sourceName: feature.source as FeatureSourceName,\n          geoJson,\n        };\n      }), comparator);\n\n    return features.filter(\n      (item: GeoJsonFeatureData | null): item is GeoJsonFeatureData => {\n        return !!item\n          && item.id !== undefined\n          && item.geoJson\n          && sourceNames.includes(item.sourceName);\n      },\n    );\n  }\n\n  convertToGeoJsonImportFeature(feature: ml.MapGeoJSONFeature): GeoJsonImportFeature | null {\n    const featureId = feature.properties[FEATURE_ID_PROPERTY] as FeatureId | undefined;\n    if (featureId === undefined || feature.geometry.type === 'GeometryCollection') {\n      return null;\n    }\n\n    return {\n      id: featureId,\n      type: 'Feature',\n      properties: feature.properties,\n      geometry: feature.geometry,\n    };\n  }\n\n  addSource(sourceId: string, geoJson: GeoJSON): MaplibreSource {\n    return new MaplibreSource({ gm: this.gm, sourceId, geoJson });\n  }\n\n  getSource(sourceId: string): MaplibreSource {\n    return new MaplibreSource({ gm: this.gm, sourceId });\n  }\n\n  addLayer(options: ml.AddLayerObject): MaplibreLayer {\n    const layerId = options.id;\n    return new MaplibreLayer({ gm: this.gm, layerId, options });\n  }\n\n  getLayer(layerId: string): BaseLayer<MaplibreAnyLayer> {\n    return new MaplibreLayer({ gm: this.gm, layerId });\n  }\n\n  removeLayer(layerId: string) {\n    const layer = this.getLayer(layerId);\n    if (layer) {\n      layer.remove();\n    }\n  }\n\n  eachLayer(callback: (layer: BaseLayer<MaplibreAnyLayer>) => void) {\n    this.mapInstance.getStyle().layers.forEach((layer) => {\n      callback(new MaplibreLayer({ gm: this.gm, layerId: layer.id }));\n    });\n  }\n\n  createDomMarker(options: BaseDomMarkerOptions, lngLat: LngLat): BaseDomMarker {\n    return new MaplibreDomMarker({\n      mapInstance: this.mapInstance,\n      options,\n      lngLat,\n    });\n  }\n\n  createPopup(options: BasePopupOptions, lngLat?: LngLat): BasePopup {\n    return new MaplibrePopup({\n      mapInstance: this.mapInstance,\n      options,\n      lngLat,\n    });\n  }\n\n  project(position: LngLat) {\n    const point = this.mapInstance.project(position);\n    return [point.x, point.y] as ScreenPoint;\n  }\n\n  unproject(point: ScreenPoint) {\n    const lngLat = this.mapInstance.unproject(point);\n    return [lngLat.lng, lngLat.lat] as LngLat;\n  }\n\n  coordBoundsToScreenBounds(\n    bounds: [LngLat, LngLat],\n  ): [ScreenPoint, ScreenPoint] {\n    const mlBounds = new ml.LngLatBounds(bounds);\n    const sw = this.project(mlBounds.getSouthWest().toArray());\n    const ne = this.project(mlBounds.getNorthEast().toArray());\n    return [sw, ne];\n  }\n\n  fire(type: string, data?: unknown) {\n    this.mapInstance.fire(type, data);\n  }\n\n  on(type: string, listener: BaseEventListener): void;\n  on(type: string, layerId: string, listener: BaseEventListener): void;\n  on(type: string, arg2: string | BaseEventListener, listener?: BaseEventListener): void {\n    if (typeof arg2 === 'string' && listener && isMaplibreSupportedPointerEventName(type)) {\n      this.mapInstance.on(type, arg2, listener);\n    } else if (typeof arg2 === 'function') {\n      this.mapInstance.on(type, arg2);\n    } else {\n      throw new Error('Invalid arguments passed to \\'on\\' method');\n    }\n  }\n\n  once(type: string, listener: BaseEventListener): void;\n  once(type: string, layerId: string, listener: BaseEventListener): void;\n  once(type: string, arg2: string | BaseEventListener, listener?: BaseEventListener): void {\n    // note: it's possible to have promise returned from maplibre-gl\n    // (it's not implemented for this adapter)\n    if (typeof arg2 === 'string' && listener && isMaplibreSupportedPointerEventName(type)) {\n      this.mapInstance.once(type, arg2, listener);\n    } else if (typeof arg2 === 'function') {\n      this.mapInstance.once(type, arg2);\n    } else {\n      throw new Error('Invalid arguments passed to \\'once\\' method.');\n    }\n  }\n\n  off(type: string, listener: BaseEventListener): void;\n  off(type: string, layerId: string, listener: BaseEventListener): void;\n  off(type: string, arg2: string | BaseEventListener, listener?: BaseEventListener): void {\n    if (typeof arg2 === 'string' && listener && isMaplibreSupportedPointerEventName(type)) {\n      this.mapInstance.off(type, arg2, listener);\n    } else if (typeof arg2 === 'function') {\n      this.mapInstance.off(type, arg2);\n    } else {\n      throw new Error('Invalid arguments passed to \\'off\\' method');\n    }\n  }\n}\n","import type { Geoman, MapInstanceWithGeoman } from '@/main.ts';\nimport { MaplibreAdapter } from '@/core/map/maplibre/index.ts';\n\nexport const getMapAdapter = async (\n  gm: Geoman,\n  map: MapInstanceWithGeoman,\n) => {\n  return new MaplibreAdapter(map, gm);\n};\n","import { cloneDeep, keyBy, merge, values } from 'lodash-es';\n\nexport const mergeByTypeCustomizer = (objValue: unknown, srcValue: unknown) => {\n  if (Array.isArray(objValue) && Array.isArray(srcValue)) {\n    const baseMap = keyBy(objValue, 'type');\n\n    srcValue.forEach(item => {\n      if (baseMap[item.type]) {\n        merge(baseMap[item.type], item);\n      } else {\n        baseMap[item.type] = cloneDeep(item);\n      }\n    });\n    return values(baseMap);\n  }\n\n  return undefined;\n};\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { getDefaultOptions } from '@/core/options/defaults/index.ts';\nimport type {\n  ActionType,\n  ControlOptions,\n  GenericControlsOptions,\n  Geoman,\n  GMControlSwitchEvent,\n  GmOptionsData,\n  ModeAction,\n  ModeName,\n} from '@/main.ts';\nimport { drawModes } from '@/modes/draw/base.ts';\nimport { editModes } from '@/modes/edit/base.ts';\nimport { helperModes } from '@/modes/helpers/base.ts';\nimport { isGmModeEvent } from '@/utils/guards/events/index.ts';\nimport { isGmDrawEvent, isGmEditEvent, isGmHelperEvent } from '@/utils/guards/modes.ts';\nimport { includesWithType } from '@/utils/typing.ts';\nimport mergeWith from 'lodash-es/mergeWith';\nimport log from 'loglevel';\nimport type { PartialDeep } from 'type-fest';\nimport { mergeByTypeCustomizer } from '@/core/options/utils.ts';\n\n\nexport class GmOptions {\n  gm: Geoman;\n\n  settings: GmOptionsData['settings'];\n  controls: GmOptionsData['controls'];\n  layerStyles: GmOptionsData['layerStyles'];\n\n  constructor(gm: Geoman, inputOptions: PartialDeep<GmOptionsData>) {\n    this.gm = gm;\n    const options = this.getMergedOptions(inputOptions);\n    this.settings = options.settings;\n    this.controls = options.controls;\n    this.layerStyles = options.layerStyles;\n  }\n\n  getMergedOptions(options: PartialDeep<GmOptionsData> = {}): GmOptionsData {\n    return mergeWith(\n      getDefaultOptions(),\n      options,\n      mergeByTypeCustomizer,\n    );\n  }\n\n  enableMode(actionType: ActionType, modeName: ModeName) {\n    const isModeEnabled = this.isModeEnabled(actionType, modeName);\n    const isModeAvailable = this.isModeAvailable(actionType, modeName);\n\n    if (!isModeAvailable) {\n      log.warn(`Unable to enable mode, \"${actionType}:${modeName}\" is not available`);\n    }\n\n    if (isModeEnabled || !isModeAvailable) {\n      return;\n    }\n\n    const sectionOptions = this.controls[actionType] as GenericControlsOptions;\n    const controlOptions = sectionOptions[modeName];\n    if (controlOptions) {\n      controlOptions.active = true;\n      this.fireModeEvent(actionType, modeName, 'mode_start');\n      this.fireControlEvent(actionType, modeName, 'on');\n      this.fireModeEvent(actionType, modeName, 'mode_started');\n    } else {\n      log.error('Can\\'t find control section for', actionType, modeName);\n    }\n  }\n\n  disableMode(actionType: ActionType, modeName: ModeName) {\n    const isModeEnabled = this.isModeEnabled(actionType, modeName);\n    const isModeAvailable = this.isModeAvailable(actionType, modeName);\n\n    if (!isModeEnabled || !isModeAvailable) {\n      return;\n    }\n\n    const sectionOptions = this.controls[actionType] as GenericControlsOptions;\n    const controlOptions = sectionOptions[modeName];\n    if (controlOptions) {\n      controlOptions.active = false;\n      this.fireModeEvent(actionType, modeName, 'mode_end');\n      this.fireControlEvent(actionType, modeName, 'off');\n      this.fireModeEvent(actionType, modeName, 'mode_ended');\n    } else {\n      log.error('Can\\'t find control section for', actionType, modeName);\n    }\n  }\n\n  syncModeState(actionType: ActionType, modeName: ModeName) {\n    // align options with current state\n    // it' possible to have \"active\" mode in options\n    // when it's not available (in free version for example)\n    const sectionOptions = this.controls[actionType] as GenericControlsOptions;\n    const controlOptions = sectionOptions[modeName];\n    const isModeAvailable = this.isModeAvailable(actionType, modeName);\n\n    if (controlOptions) {\n      if (isModeAvailable) {\n        if (controlOptions.active) {\n          this.enableMode(actionType, modeName);\n        } else {\n          this.disableMode(actionType, modeName);\n        }\n      } else {\n        console.log(`Not available mode: ${actionType}:${modeName}`);\n        controlOptions.active = false;\n        controlOptions.uiEnabled = false;\n      }\n    }\n  }\n\n  toggleMode(actionType: ActionType, modeName: ModeName) {\n    if (this.isModeEnabled(actionType, modeName)) {\n      this.disableMode(actionType, modeName);\n    } else {\n      this.enableMode(actionType, modeName);\n    }\n  }\n\n  isModeEnabled(actionType: ActionType, modeName: ModeName) {\n    return !!Object.entries(this.gm.actionInstances).find(([actionName, instance]) => {\n      return actionName === `${actionType}__${modeName}` && instance;\n    });\n  }\n\n  isModeAvailable(actionType: ActionType, modeName: ModeName): boolean {\n    if (actionType === 'draw' && includesWithType(modeName, drawModes)) {\n      return !!this.gm.drawClassMap[modeName];\n    } else if (actionType === 'edit' && includesWithType(modeName, editModes)) {\n      return !!this.gm.editClassMap[modeName];\n    } else if (actionType === 'helper' && includesWithType(modeName, helperModes)) {\n      return !!this.gm.helperClassMap[modeName];\n    }\n\n    return false;\n  }\n\n  getControlOptions({ actionType, modeName }: {\n    actionType: ActionType,\n    modeName: ModeName,\n  }): ControlOptions | null {\n    if (actionType && modeName) {\n      const sectionOptions = this.controls[actionType] as GenericControlsOptions;\n      return sectionOptions[modeName] || null;\n    }\n\n    return null;\n  }\n\n  fireModeEvent(sectionName: ActionType, modeName: ModeName, action: ModeAction) {\n    const payload = {\n      level: 'system',\n      type: sectionName,\n      mode: modeName,\n      action,\n    };\n\n    if (isGmModeEvent(payload)) {\n      if (isGmDrawEvent(payload)) {\n        this.gm.events.fire(`${gmPrefix}:${sectionName}`, payload);\n      } else if (isGmEditEvent(payload)) {\n        this.gm.events.fire(`${gmPrefix}:${sectionName}`, payload);\n      } else if (isGmHelperEvent(payload)) {\n        this.gm.events.fire(`${gmPrefix}:${sectionName}`, payload);\n      }\n    }\n  }\n\n  fireControlEvent(sectionName: ActionType, modeName: ModeName, action: GMControlSwitchEvent['action']) {\n    const payload: GMControlSwitchEvent = {\n      level: 'system',\n      type: 'control',\n      section: sectionName,\n      target: modeName,\n      action,\n    };\n    this.gm.events.fire(`${gmPrefix}:control`, payload);\n  }\n}\n","import circleMarker from '@/assets/images/controls/circle-marker.svg';\nimport { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type {\n  AnyEvent,\n  DrawModeName,\n  GeoJsonShapeFeature,\n  GMDrawShapeEvent,\n  GMDrawShapeEventWithData,\n  LngLat,\n  MapHandlerReturnData,\n  MarkerData,\n  ScreenPoint,\n  ShapeName,\n} from '@/main.ts';\n\nimport { BaseDraw } from '@/modes/draw/base.ts';\n\n\nexport abstract class BaseCircle extends BaseDraw {\n  mode: DrawModeName = 'circle';\n  shape: ShapeName = 'circle';\n  protected circleCenterPoint: ScreenPoint | null = null;\n  protected circleCenterLngLat: LngLat | null = null;\n  mapEventHandlers = {\n    mousemove: this.onMouseMove.bind(this),\n    click: this.onMouseClick.bind(this),\n  };\n\n  onStartAction() {\n    this.gm.markerPointer.enable();\n  }\n\n  onEndAction() {\n    this.removeTmpFeature();\n    this.gm.markerPointer.disable();\n    this.fireFinishEvent();\n  }\n\n  abstract onMouseMove(event: AnyEvent): MapHandlerReturnData;\n\n  abstract onMouseClick(event: AnyEvent): MapHandlerReturnData;\n\n  protected createFeature(): FeatureData | null {\n    const featureData = this.gm.features.createFeature({\n      shapeGeoJson: this.getFeatureGeoJson(this.circleCenterLngLat || [0, 0]),\n      sourceName: SOURCES.temporary,\n    });\n\n    if (featureData && this.circleCenterLngLat) {\n      featureData.setShapeProperty('center', this.circleCenterLngLat);\n    }\n    return featureData;\n  }\n\n  getFeatureGeoJson(position: LngLat): GeoJsonShapeFeature {\n    return {\n      type: 'Feature',\n      properties: {\n        shape: this.shape,\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: position,\n      },\n    };\n  }\n\n  protected createMarker() {\n    const element = document.createElement('div');\n    element.innerHTML = circleMarker;\n    const svgElement = element.firstChild as HTMLElement;\n    svgElement.style.color = '#278cda';\n    svgElement.style.width = '28px';\n    svgElement.style.height = '28px';\n    svgElement.style.pointerEvents = 'none';\n\n    return this.gm.mapAdapter.createDomMarker({\n      draggable: false,\n      anchor: 'center',\n      element: svgElement,\n    }, [0, 0]);\n  }\n\n  getControlMarkerData(): MarkerData | null {\n    const marker = this.gm.markerPointer.marker;\n    if (!marker) {\n      return null;\n    }\n\n    return {\n      type: 'dom',\n      instance: marker,\n      position: {\n        coordinate: marker.getLngLat(),\n        path: [-1],\n      },\n    };\n  }\n\n  fireStartEvent(\n    featureData: FeatureData,\n    markerData: MarkerData,\n  ) {\n    const event: GMDrawShapeEventWithData = {\n      level: 'system',\n      type: 'draw',\n      mode: this.shape,\n      variant: null,\n      action: 'start',\n      featureData,\n      markerData,\n    };\n    this.gm.events.fire(`${gmPrefix}:draw`, event);\n  }\n\n  fireUpdateEvent(\n    featureData: FeatureData,\n    markerData: MarkerData,\n  ) {\n    const event: GMDrawShapeEventWithData = {\n      level: 'system',\n      type: 'draw',\n      mode: this.shape,\n      variant: null,\n      action: 'update',\n      featureData,\n      markerData,\n    };\n    this.gm.events.fire(`${gmPrefix}:draw`, event);\n  }\n\n  fireFinishEvent() {\n    const event: GMDrawShapeEvent = {\n      level: 'system',\n      type: 'draw',\n      mode: this.shape,\n      variant: null,\n      action: 'finish',\n    };\n    this.gm.events.fire(`${gmPrefix}:draw`, event);\n  }\n}\n","import type { DrawModeName, LngLat, MapHandlerReturnData, MapPointerEvent, ShapeName } from '@/main.ts';\nimport { BaseCircle } from '@/modes/draw/base-circle.ts';\n\n\nexport class DrawCircleMarker extends BaseCircle {\n  mode: DrawModeName = 'circle_marker';\n  shape: ShapeName = 'circle_marker';\n\n  onStartAction() {\n    this.gm.markerPointer.enable({\n      customMarker: this.createMarker(),\n    });\n  }\n\n  onEndAction() {\n    this.fireMarkerPointerFinishEvent();\n    super.onEndAction();\n  }\n\n  onMouseMove(): MapHandlerReturnData {\n    this.fireMarkerPointerUpdateEvent();\n    return { next: true };\n  }\n\n  onMouseClick(event: MapPointerEvent): MapHandlerReturnData {\n    const lngLat = this.gm.markerPointer.marker?.getLngLat() || event.lngLat.toArray();\n    this.fireBeforeFeatureCreate({ geoJsonFeatures: [this.getFeatureGeoJson(lngLat)] });\n\n    if (this.flags.featureCreateAllowed) {\n      this.featureData = this.createFeature();\n      this.circleCenterLngLat = lngLat;\n      this.circleCenterPoint = this.gm.mapAdapter.project(this.circleCenterLngLat);\n      this.updateFeaturePosition(this.circleCenterLngLat);\n      this.saveFeature();\n    }\n    return { next: false };\n  }\n\n  updateFeaturePosition(lngLat: LngLat) {\n    if (!this.featureData) {\n      return;\n    }\n\n    const shapeGeoJson = this.getFeatureGeoJson(lngLat);\n    this.featureData.updateGeoJsonGeometry(shapeGeoJson.geometry);\n  }\n}\n","import { typedKeys } from '@/utils/typing.ts';\nimport { debounce, throttle } from 'lodash-es';\nimport log from 'loglevel';\n\n\nexport const isTouchScreen = () => {\n  if ('ontouchstart' in window || navigator.maxTouchPoints > 0) {\n    return true;\n  }\n  if (matchMedia('(hover: none)').matches) {\n    return true;\n  }\n  return 'msMaxTouchPoints' in navigator\n    && typeof navigator.msMaxTouchPoints === 'number'\n    && (navigator.msMaxTouchPoints) > 0;\n};\n\nexport const convertToThrottled = <T extends object>(\n  methods: T,\n  context: unknown,\n  wait: number = 10,\n) => {\n  const throttledMethods: T = { ...methods };\n\n  typedKeys(methods).forEach((key) => {\n    const method = methods[key];\n    if (typeof method === 'function') {\n      throttledMethods[key] = throttle(\n        method.bind(context),\n        wait,\n        { leading: true, trailing: false },\n      ) as T[typeof key];\n    } else {\n      log.error('convertToThrottled: item is not a function', methods[key]);\n    }\n  });\n  return throttledMethods;\n};\n\n\nexport const convertToDebounced = <T extends object>(\n  methods: T,\n  context: unknown,\n  wait: number = 10,\n) => {\n  const debouncedMethods: T = { ...methods };\n\n  typedKeys(methods).forEach((key) => {\n    const method = methods[key];\n    if (typeof method === 'function') {\n      debouncedMethods[key] = debounce(\n        method.bind(context),\n        wait,\n        { leading: false, trailing: true },\n      ) as T[typeof key];\n    } else {\n      log.error('convertToDebounced: item is not a function', methods[key]);\n    }\n  });\n  return debouncedMethods;\n};\n","import type { AnyEvent, DrawModeName, LngLat, MapHandlerReturnData, ShapeName } from '@/main.ts';\nimport { BaseCircle } from '@/modes/draw/base-circle.ts';\nimport { convertToThrottled } from '@/utils/behavior.ts';\nimport { allCoordinatesEqual, getGeoJsonCircle } from '@/utils/geojson.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\n\n\nexport class DrawCircle extends BaseCircle {\n  mode: DrawModeName = 'circle';\n  shape: ShapeName = 'circle';\n\n  throttledMethods = convertToThrottled({\n    updateFeatureGeoJson: this.updateFeatureGeoJson,\n  }, this, this.gm.options.settings.throttlingDelay);\n\n  onMouseClick(event: AnyEvent): MapHandlerReturnData {\n    if (!isMapPointerEvent(event)) {\n      return { next: true };\n    }\n    const lngLat: LngLat = this.gm.markerPointer.marker?.getLngLat() || event.lngLat.toArray();\n\n    if (this.circleCenterPoint && this.circleCenterLngLat) {\n      this.fireBeforeFeatureCreate({\n        geoJsonFeatures: [this.getCircleGeoJson(this.circleCenterLngLat, lngLat)],\n      });\n\n      if (this.flags.featureCreateAllowed) {\n        this.saveCircleFeature(lngLat);\n        this.circleCenterLngLat = null;\n        this.circleCenterPoint = null;\n        this.fireFinishEvent();\n      }\n    } else {\n      this.fireBeforeFeatureCreate({ geoJsonFeatures: [this.getFeatureGeoJson(lngLat)] });\n\n      if (this.flags.featureCreateAllowed) {\n        this.circleCenterLngLat = lngLat;\n        this.circleCenterPoint = this.gm.mapAdapter.project(this.circleCenterLngLat);\n        this.featureData = this.createFeature();\n\n        const markerData = this.getControlMarkerData();\n        if (this.featureData && markerData) {\n          this.fireStartEvent(this.featureData, markerData);\n        }\n      }\n    }\n    return { next: false };\n  }\n\n  onMouseMove(): MapHandlerReturnData {\n    if (this.circleCenterLngLat && this.gm.markerPointer.marker) {\n      const markerLngLat = this.gm.markerPointer.marker.getLngLat();\n      this.fireBeforeFeatureCreate({\n        geoJsonFeatures: [this.getCircleGeoJson(this.circleCenterLngLat, markerLngLat)],\n      });\n\n      if (this.flags.featureCreateAllowed) {\n        this.throttledMethods.updateFeatureGeoJson(markerLngLat);\n      }\n    }\n\n    if (!this.circleCenterPoint) {\n      this.fireMarkerPointerUpdateEvent();\n    }\n\n    return { next: false };\n  }\n\n  updateFeatureGeoJson(rimLngLat: LngLat) {\n    if (this.featureData && this.circleCenterLngLat) {\n      const featureGeoJson = this.getCircleGeoJson(this.circleCenterLngLat, rimLngLat);\n      this.featureData.updateGeoJsonGeometry(featureGeoJson.geometry);\n\n      const markerData = this.getControlMarkerData();\n      if (markerData) {\n        this.fireUpdateEvent(this.featureData, markerData);\n      }\n    }\n  }\n\n  saveCircleFeature(eventLngLat: LngLat) {\n    // it's needed to have a custom logic for saving a circle\n    // for now circle is converted to a geojson polygon,\n\n    if (!this.circleCenterLngLat) {\n      return;\n    }\n\n    if (this.featureData) {\n      const lngLat = this.gm.markerPointer.marker?.getLngLat() || eventLngLat;\n      this.updateFeatureGeoJson(lngLat);\n      this.featureData.setShapeProperty('center', this.circleCenterLngLat);\n\n      if (this.isFeatureGeoJsonValid()) {\n        this.saveFeature();\n      } else {\n        this.removeTmpFeature();\n      }\n    }\n  }\n\n  isFeatureGeoJsonValid(): boolean {\n    if (!this.featureData) {\n      return false;\n    }\n\n    // for now only checks if all points aren't the same\n    return allCoordinatesEqual(this.featureData.getGeoJson());\n  }\n\n  getCircleGeoJson(center: LngLat, endLngLat: LngLat) {\n    const radius = this.gm.mapAdapter.getDistance(center, endLngLat);\n    const circleGeoJson = getGeoJsonCircle({ center, radius });\n\n    return {\n      ...circleGeoJson,\n      properties: {\n        shape: this.shape,\n      },\n    };\n  }\n}\n","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"21\\\" height=\\\"21\\\">\\n    <circle cx=\\\"10.5\\\" cy=\\\"10.5\\\" r=\\\"9.213\\\" fill=\\\"#fff\\\" stroke=\\\"#278cda\\\" stroke-width=\\\"2.303\\\"/>\\n</svg>\\n\"","import defaultShapeMarker from '@/assets/images/markers/default-shape-marker.svg';\nimport type { MarkerData } from '@/main.ts';\nimport log from 'loglevel';\n\n\nconst markerIcons: { [key in MarkerData['type']]?: string } = {\n  dom: defaultShapeMarker,\n};\n\nexport const createMarkerElement = (\n  type: MarkerData['type'],\n  style: Partial<CSSStyleDeclaration> | undefined = undefined,\n): HTMLElement => {\n  if (!markerIcons[type]) {\n    log.error(`createMarkerElement: marker type \"${type}\" not found`);\n  }\n\n  const element = document.createElement('div');\n  element.classList.add('marker-wrapper');\n  element.style.lineHeight = '0';\n\n  element.innerHTML = markerIcons[type] || 'NO_ICON';\n  const svgElement = element.firstChild as HTMLElement;\n\n  if (style) {\n    Object.assign(svgElement.style, style);\n  }\n\n  return element;\n};\n","// index.ts\nimport { bbox as turfBBox } from \"@turf/bbox\";\nimport { getCoords, getGeom } from \"@turf/invariant\";\nimport { polygon, multiPolygon, lineString } from \"@turf/helpers\";\nimport { clone } from \"@turf/clone\";\nfunction lineToPolygon(lines, options = {}) {\n  var _a, _b, _c;\n  var properties = options.properties;\n  var autoComplete = (_a = options.autoComplete) != null ? _a : true;\n  var orderCoords = (_b = options.orderCoords) != null ? _b : true;\n  var mutate = (_c = options.mutate) != null ? _c : false;\n  if (!mutate) {\n    lines = clone(lines);\n  }\n  switch (lines.type) {\n    case \"FeatureCollection\":\n      var coords = [];\n      lines.features.forEach(function(line) {\n        coords.push(\n          getCoords(lineStringToPolygon(line, {}, autoComplete, orderCoords))\n        );\n      });\n      return multiPolygon(coords, properties);\n    default:\n      return lineStringToPolygon(lines, properties, autoComplete, orderCoords);\n  }\n}\nfunction lineStringToPolygon(line, properties, autoComplete, orderCoords) {\n  properties = properties ? properties : line.type === \"Feature\" ? line.properties : {};\n  var geom = getGeom(line);\n  var coords = geom.coordinates;\n  var type = geom.type;\n  if (!coords.length) throw new Error(\"line must contain coordinates\");\n  switch (type) {\n    case \"LineString\":\n      if (autoComplete) coords = autoCompleteCoords(coords);\n      return polygon([coords], properties);\n    case \"MultiLineString\":\n      var multiCoords = [];\n      var largestArea = 0;\n      coords.forEach(function(coord) {\n        if (autoComplete) coord = autoCompleteCoords(coord);\n        if (orderCoords) {\n          var area = calculateArea(turfBBox(lineString(coord)));\n          if (area > largestArea) {\n            multiCoords.unshift(coord);\n            largestArea = area;\n          } else multiCoords.push(coord);\n        } else {\n          multiCoords.push(coord);\n        }\n      });\n      return polygon(multiCoords, properties);\n    default:\n      throw new Error(\"geometry type \" + type + \" is not supported\");\n  }\n}\nfunction autoCompleteCoords(coords) {\n  var first = coords[0];\n  var x1 = first[0];\n  var y1 = first[1];\n  var last = coords[coords.length - 1];\n  var x2 = last[0];\n  var y2 = last[1];\n  if (x1 !== x2 || y1 !== y2) {\n    coords.push(first);\n  }\n  return coords;\n}\nfunction calculateArea(bbox) {\n  var west = bbox[0];\n  var south = bbox[1];\n  var east = bbox[2];\n  var north = bbox[3];\n  return Math.abs(west - east) * Math.abs(south - north);\n}\nvar turf_line_to_polygon_default = lineToPolygon;\nexport {\n  turf_line_to_polygon_default as default,\n  lineToPolygon\n};\n//# sourceMappingURL=index.js.map","import type { AutoTraceHelperInterface, PinHelperInterface, SnapGuidesHelperInterface } from '@/types/interfaces.ts';\nimport { BaseHelper } from '@/modes/helpers/base.ts';\n\nexport const isSnapGuidesHelper = (instance: unknown): instance is SnapGuidesHelperInterface => {\n  return (\n    !!instance &&\n    typeof instance === 'object' &&\n    instance instanceof BaseHelper &&\n    'removeSnapGuides' in instance &&\n    'updateSnapGuides' in instance &&\n    instance.mode === 'snap_guides' &&\n    typeof instance.removeSnapGuides === 'function' &&\n    typeof instance.updateSnapGuides === 'function'\n  );\n};\n\nexport const isAutoTraceHelper = (instance: unknown): instance is AutoTraceHelperInterface => {\n  return (\n    !!instance &&\n    typeof instance === 'object' &&\n    instance instanceof BaseHelper &&\n    'getShortestPath' in instance &&\n    instance.mode === 'auto_trace' &&\n    typeof instance.getShortestPath === 'function'\n  );\n};\n\nexport const isPinHelper = (instance: unknown): instance is PinHelperInterface => {\n  return (\n    !!instance &&\n    typeof instance === 'object' &&\n    instance instanceof BaseHelper &&\n    'getSharedMarkers' in instance &&\n    instance.mode === 'pin' &&\n    typeof instance.getSharedMarkers === 'function'\n  );\n};\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport { BaseDomMarker } from '@/core/map/base/marker.ts';\nimport type {\n  AnyEvent,\n  DrawModeName,\n  GeoJsonLineFeature,\n  GeoJsonShapeFeature,\n  Geoman,\n  LineEventHandlerArguments,\n  LngLat,\n  MapHandlerReturnData,\n  MapPointerEvent,\n  MarkerData,\n  MarkerId,\n  ShapeName,\n} from '@/main.ts';\nimport { BaseDraw } from '@/modes/draw/base.ts';\n\nimport { convertToThrottled } from '@/utils/behavior.ts';\nimport { createMarkerElement } from '@/utils/dom.ts';\nimport { getGeoJsonBounds, lngLatToGeoJsonPoint } from '@/utils/geojson.ts';\nimport { isGmHelperEvent } from '@/utils/guards/events/helper.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\nimport lineToPolygon from '@turf/line-to-polygon';\nimport type { Position } from 'geojson';\nimport log from 'loglevel';\nimport { isAutoTraceHelper, isSnapGuidesHelper } from '@/utils/guards/interfaces.ts';\n\n\ntype LineDrawerOptions = {\n  snappingMarkers: 'first' | 'last' | 'all' | 'none',\n  targetShape: Extract<ShapeName, 'line' | 'polygon'>,\n};\n\ntype MarkerInfo = {\n  index: number,\n  path: MarkerId | null,\n};\n\ntype MarkerHandler = (\n  { markerIndex, shapeCoordinates, geoJson }: LineEventHandlerArguments,\n) => void;\n\ninterface DrawerHandlers {\n  // when the line is closed to its beginning (polygon is finished)\n  firstMarkerClick: MarkerHandler | null;\n  // when the last marker is clicked (line is finished)\n  lastMarkerClick: MarkerHandler | null;\n  // any marker is clicked to analyse for special cases\n  nMarkerClick: MarkerHandler | null;\n}\n\nexport class LineDrawer extends BaseDraw {\n  mode: DrawModeName = 'line';\n  snappingKey = 'line_drawer';\n  drawOptions: LineDrawerOptions;\n  shapeLngLats: Array<LngLat> = [];\n\n  throttledMethods = convertToThrottled({\n    onMouseMove: this.onMouseMove,\n  }, this, this.gm.options.settings.throttlingDelay);\n\n  mapEventHandlers = {\n    [`${gmPrefix}:helper`]: this.handleGmHelperEvent.bind(this),\n    click: this.onMouseClick.bind(this),\n    mousemove: this.throttledMethods.onMouseMove.bind(this),\n  };\n\n  drawerEventHandlers: DrawerHandlers = {\n    firstMarkerClick: null,\n    lastMarkerClick: null,\n    nMarkerClick: null,\n  };\n\n  constructor(\n    gm: Geoman,\n    options: LineDrawerOptions = {\n      snappingMarkers: 'none',\n      targetShape: 'line',\n    },\n  ) {\n    super(gm);\n    this.drawOptions = options;\n  }\n\n  get snapGuidesInstance() {\n    const instance = this.gm.actionInstances.helper__snap_guides;\n    return isSnapGuidesHelper(instance) ? instance : null;\n  }\n\n  get autoTraceEnabled(): boolean {\n    return this.gm.options.controls.helper.auto_trace?.active || false;\n  }\n\n  get autoTraceHelperInstance() {\n    if (!this.autoTraceEnabled) {\n      return null;\n    }\n    return Object.values(this.gm.actionInstances).find(isAutoTraceHelper) || null;\n  }\n\n  onStartAction() {\n    this.gm.markerPointer.enable();\n  }\n\n  onEndAction() {\n    this.gm.markerPointer.disable();\n    this.endShape();\n    this.snapGuidesInstance?.removeSnapGuides();\n  }\n\n  handleGmHelperEvent(event: AnyEvent): MapHandlerReturnData {\n    if (!isGmHelperEvent(event)) {\n      log.error('LineDrawer.handleGmHelperEvent: invalid event', event);\n      return { next: true };\n    }\n\n    if (event.mode === 'snap_guides' && event.action === 'mode_start') {\n      this.updateSnapGuides();\n    }\n\n    return { next: true };\n  }\n\n  updateSnapGuides() {\n    if (this.snapGuidesInstance) {\n      const shapeGeoJson = this.featureData?.getGeoJson();\n      if (shapeGeoJson) {\n        // line drawer has a control marker at the end, so it should be removed\n        shapeGeoJson.geometry.coordinates.pop();\n      }\n\n      this.snapGuidesInstance.updateSnapGuides(\n        shapeGeoJson || null,\n        this.shapeLngLats.at(-1) || null,\n        true,\n      );\n    }\n  }\n\n  on<T extends keyof DrawerHandlers>(eventType: T, handler: DrawerHandlers[T]) {\n    this.drawerEventHandlers[eventType] = handler;\n  }\n\n  onMouseClick(event: AnyEvent): MapHandlerReturnData {\n    if (!isMapPointerEvent(event, { warning: true })) {\n      return { next: true };\n    }\n    // we use a marker lngLat since it's auto adjusted when snapping is enabled\n    const lngLat = this.gm.markerPointer.marker?.getLngLat() || event.lngLat.toArray();\n\n    if (this.featureData) {\n      const markerInfo = this.getClickedMarkerInfo(event);\n      this.handleNextVertex(lngLat, markerInfo);\n    } else if (this.isFeatureAllowed(lngLatToGeoJsonPoint(lngLat))) {\n      this.startShape(lngLat);\n    }\n\n    this.updateSnapGuides();\n    return { next: true };\n  }\n\n  handleNextVertex(lngLat: LngLat, clickedMarkerInfo: MarkerInfo) {\n    if (!this.featureData) {\n      log.error('LineDrawer.handleNextVertex: no featureData');\n      return;\n    }\n\n    const totalMarkersCount = this.featureData.markers.size;\n    const eventData = this.getMarkerClickEventData(clickedMarkerInfo.index);\n\n    if (clickedMarkerInfo.index < totalMarkersCount - 1) {\n      // a point should be added all cases except the last marker clicked (including -1 index)\n      this.addPoint(lngLat, clickedMarkerInfo);\n    }\n\n    if (clickedMarkerInfo.index === -1) {\n      return;\n    }\n\n    if (clickedMarkerInfo.index === 0) {\n      this.drawerEventHandlers.firstMarkerClick?.(eventData);\n    } else if (clickedMarkerInfo.index > 0 && clickedMarkerInfo.index === totalMarkersCount - 1) {\n      this.drawerEventHandlers.lastMarkerClick?.(eventData);\n    }\n\n    if (clickedMarkerInfo.index >= 0) {\n      this.drawerEventHandlers.nMarkerClick?.(eventData);\n    }\n  }\n\n  getMarkerClickEventData(markerIndex: number): LineEventHandlerArguments {\n    const featureGeoJson = this.getFeatureGeoJson({ withControlMarker: false });\n    return {\n      markerIndex,\n      shapeCoordinates: this.getShapeCoordinates({ withControlMarker: false }),\n      geoJson: featureGeoJson,\n      bounds: getGeoJsonBounds(featureGeoJson),\n    };\n  }\n\n  onMouseMove(event: AnyEvent): MapHandlerReturnData {\n    if (!isMapPointerEvent(event, { warning: true })) {\n      return { next: true };\n    }\n\n    if (this.featureData && this.shapeLngLats.length) {\n      this.updateFeatureSource();\n    }\n    return { next: true };\n  }\n\n  startShape(startLngLat: LngLat) {\n    this.shapeLngLats = [startLngLat];\n\n    this.featureData = this.gm.features.createFeature({\n      shapeGeoJson: this.getFeatureGeoJson({ withControlMarker: true }),\n      sourceName: SOURCES.temporary,\n    });\n\n    const markerData: MarkerData = {\n      type: 'dom',\n      instance: this.createMarker(startLngLat),\n      position: {\n        coordinate: startLngLat,\n        path: ['geometry', 'coordinates', 0],\n      },\n    };\n\n    if (this.featureData) {\n      this.featureData.markers.set(\n        markerData.position.path.join('.'),\n        markerData,\n      );\n\n      this.setSnapping();\n      this.fireStartEvent(this.featureData, markerData);\n    }\n    this.gm.mapAdapter.disableMapInteractions(['doubleClickZoom']);\n  }\n\n  endShape() {\n    const featureGeoJson = this.getFeatureGeoJson({ withControlMarker: false });\n\n    this.removeSnapping();\n    this.removeTmpFeature();\n    this.shapeLngLats = [];\n    this.gm.mapAdapter.enableMapInteractions(['doubleClickZoom']);\n    this.fireStopEvent(featureGeoJson);\n  }\n\n  setSnapping() {\n    if (!this.snappingHelper) {\n      return;\n    }\n    const snappingMarkers = this.drawOptions.snappingMarkers;\n\n    if (snappingMarkers === 'none') {\n      this.snappingHelper.setCustomSnappingCoordinates(this.snappingKey, []);\n    } else if (snappingMarkers === 'all' && this.shapeLngLats.length) {\n      this.snappingHelper.setCustomSnappingCoordinates(this.snappingKey, this.shapeLngLats);\n    } else if (snappingMarkers === 'first' && this.shapeLngLats.length) {\n      this.snappingHelper.setCustomSnappingCoordinates(this.snappingKey, [this.shapeLngLats[0]]);\n    } else if (snappingMarkers === 'last' && this.shapeLngLats.length) {\n      this.snappingHelper.setCustomSnappingCoordinates(\n        this.snappingKey,\n        [this.shapeLngLats[this.shapeLngLats.length - 1]],\n      );\n    } else {\n      log.error('LineDrawer.setSnapping: invalid data', snappingMarkers, this.shapeLngLats);\n    }\n  }\n\n  removeSnapping() {\n    if (!this.snappingHelper) {\n      return;\n    }\n    this.snappingHelper.clearCustomSnappingCoordinates(this.snappingKey);\n  }\n\n  getClickedMarkerInfo(event: MapPointerEvent): MarkerInfo {\n    if (!this.featureData) {\n      return { index: -1, path: null };\n    }\n\n    let markerIndex = 0;\n    let markerPath: string | null = null;\n\n    try {\n      this.featureData.markers.forEach((markerData, key) => {\n        if (markerData.instance instanceof BaseDomMarker) {\n          const markerElement = markerData.instance.getElement() || null;\n          const eventTarget = event.originalEvent.target;\n          const eventElement = eventTarget instanceof Element ? eventTarget : null;\n\n          if (markerElement && markerElement.contains(eventElement)) {\n            markerPath = key;\n            throw new Error('stop');\n          }\n        }\n        markerIndex += 1;\n      });\n    } catch {\n      if (markerPath) {\n        return { index: markerIndex, path: markerPath };\n      }\n    }\n\n    return { index: -1, path: null };\n  }\n\n  addPoint(newLngLat: LngLat, existingMarkerInfo: MarkerInfo) {\n    const featureData = this.featureData;\n    if (!featureData) {\n      log.error('LineDrawer.addPoint: no featureData');\n      return;\n    }\n\n    const addedLngLats = this.getAddedLngLats(newLngLat, existingMarkerInfo);\n    const featureGeoJson = this.getFeatureGeoJsonWithType({\n      withControlMarker: true,\n      coordinates: this.shapeLngLats.concat(addedLngLats),\n    });\n\n    if (this.isFeatureAllowed(featureGeoJson)) {\n      addedLngLats.forEach((lngLat) => {\n        this.shapeLngLats.push(lngLat);\n        const markerData = this.addMarker(lngLat, featureData);\n        this.fireUpdateEvent(featureData, markerData);\n      });\n      this.updateFeatureSource();\n    }\n  }\n\n  isFeatureAllowed(featureGeoJson: GeoJsonShapeFeature) {\n    if (this.gm.getActiveDrawModes().length) {\n      this.fireBeforeFeatureCreate({ geoJsonFeatures: [featureGeoJson] });\n      return this.flags.featureCreateAllowed;\n    }\n\n    return true;\n  }\n\n  getAddedLngLats(newLngLat: LngLat, existingMarkerInfo: MarkerInfo) {\n    const featureData = this.featureData;\n    if (!featureData) {\n      log.error('LineDrawer.getCurrentLngLats: no featureData');\n      return [];\n    }\n\n    const targetLngLat = this.getMarkerInfoLngLat(existingMarkerInfo) || newLngLat;\n    const pathPositions = this.getAutoTracePath(targetLngLat);\n\n    return [\n      ...(pathPositions?.slice(1, -1) || []),\n      targetLngLat,\n    ];\n  }\n\n  getAutoTracePath(finishLngLat: LngLat): Array<LngLat> | null {\n    const previousLngLat = this.shapeLngLats.at(-1);\n    if (this.autoTraceEnabled && this.autoTraceHelperInstance && previousLngLat) {\n      const path = this.autoTraceHelperInstance.getShortestPath(\n        previousLngLat,\n        finishLngLat,\n      );\n      return path || null;\n    }\n    return null;\n  }\n\n  getMarkerInfoLngLat(markerInfo: MarkerInfo): LngLat | null {\n    if (this.featureData && markerInfo.path) {\n      const markerData = this.featureData.markers.get(markerInfo.path);\n      if (markerData && markerData.type === 'dom') {\n        return markerData.instance.getLngLat();\n      } else {\n        log.error('LineDrawer.addPoint: no markerData', markerInfo);\n      }\n    }\n    return null;\n  }\n\n  addMarker(lngLat: LngLat, featureData: FeatureData): MarkerData {\n    const markerData: MarkerData = {\n      type: 'dom',\n      instance: this.createMarker(lngLat),\n      position: {\n        coordinate: lngLat,\n        path: ['geometry', 'coordinates', this.shapeLngLats.length],\n      },\n    };\n\n    featureData.markers.set(\n      markerData.position.path.join('.'),\n      {\n        type: 'dom',\n        instance: markerData.instance,\n        position: {\n          coordinate: lngLat,\n          path: [],\n        },\n      },\n    );\n\n    return markerData;\n  }\n\n  createMarker(lngLat: LngLat) {\n    return this.gm.mapAdapter.createDomMarker({\n      element: createMarkerElement('dom', {\n        pointerEvents: 'auto',\n        cursor: 'pointer',\n      }),\n      anchor: 'center',\n    }, lngLat);\n  }\n\n  updateFeatureSource() {\n    if (!this.featureData) {\n      return;\n    }\n\n    this.featureData.updateGeoJsonGeometry(\n      this.getFeatureGeoJson({ withControlMarker: true }).geometry,\n    );\n\n    if (this.gm.markerPointer.marker) {\n      const markerData: MarkerData = {\n        type: 'dom',\n        instance: this.gm.markerPointer.marker,\n        position: {\n          coordinate: this.gm.markerPointer.marker.getLngLat(),\n          path: ['geometry', 'coordinates', this.shapeLngLats.length],\n        },\n      };\n\n      this.fireUpdateEvent(this.featureData, markerData);\n    }\n  }\n\n  getFeatureGeoJson({ withControlMarker, coordinates = undefined }: {\n    withControlMarker: boolean,\n    coordinates?: Array<Position>,\n  }): GeoJsonLineFeature {\n    return {\n      type: 'Feature',\n      properties: {\n        shape: 'line',\n      },\n      geometry: {\n        type: 'LineString',\n        coordinates: coordinates || this.getShapeCoordinates({ withControlMarker }),\n      },\n    };\n  }\n\n  getFeatureGeoJsonWithType({ withControlMarker, coordinates = undefined }: {\n    withControlMarker: boolean,\n    coordinates?: Array<Position>,\n  }) {\n    const featureGeoJson = this.getFeatureGeoJson({ withControlMarker, coordinates });\n\n    if (this.drawOptions.targetShape === 'polygon' && featureGeoJson.geometry.coordinates.length > 3) {\n      return lineToPolygon(\n        featureGeoJson,\n        { properties: featureGeoJson.properties },\n      ) as GeoJsonShapeFeature;\n    }\n\n    return featureGeoJson;\n  }\n\n  getShapeCoordinates({ withControlMarker }: {\n    withControlMarker: boolean\n  }): Array<LngLat> {\n    const coordinates = [...this.shapeLngLats];\n\n    if (withControlMarker && this.gm.markerPointer.marker) {\n      coordinates.push(this.gm.markerPointer.marker.getLngLat());\n    }\n\n    return coordinates;\n  }\n\n  fireStartEvent(featureData: FeatureData, markerData: MarkerData) {\n    this.gm.events.fire(\n      `${gmPrefix}:draw`,\n      {\n        level: 'system',\n        type: 'draw',\n        mode: 'line',\n        variant: 'line_drawer',\n        action: 'start',\n        featureData,\n        markerData,\n      },\n    );\n  }\n\n  fireUpdateEvent(featureData: FeatureData, markerData: MarkerData) {\n    this.gm.events.fire(\n      `${gmPrefix}:draw`,\n      {\n        level: 'system',\n        type: 'draw',\n        mode: 'line',\n        variant: 'line_drawer',\n        action: 'update',\n        featureData,\n        markerData,\n      },\n    );\n  }\n\n  fireStopEvent(featureGeoJson: GeoJsonLineFeature) {\n    this.gm.events.fire(`${gmPrefix}:draw`, {\n      level: 'system',\n      type: 'draw',\n      mode: 'line',\n      action: 'finish',\n      variant: 'line_drawer',\n      geoJsonFeature: featureGeoJson,\n    });\n  }\n}\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type { AnyEvent, DrawModeName, GeoJsonShapeFeature, LineEventHandlerArguments, ShapeName } from '@/main.ts';\nimport { BaseDraw } from '@/modes/draw/base.ts';\nimport { LineDrawer } from '@/utils/draw/line-drawer.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\nimport type { Position } from 'geojson';\n\n\nexport class DrawLine extends BaseDraw {\n  mode: DrawModeName = 'line';\n  shape: ShapeName = 'line';\n  lineDrawer = new LineDrawer(\n    this.gm,\n    { snappingMarkers: 'first', targetShape: 'line' },\n  );\n  mapEventHandlers = {\n    [`${gmPrefix}:draw`]: this.forwardLineDrawerEvent.bind(this),\n    mousemove: this.onMouseMove.bind(this),\n  };\n\n  onStartAction(): void {\n    this.lineDrawer.startAction();\n    this.lineDrawer.on('nMarkerClick', this.lineFinished.bind(this));\n  }\n\n  onEndAction(): void {\n    this.lineDrawer.endAction();\n  }\n\n  onMouseMove(event: AnyEvent) {\n    if (!isMapPointerEvent(event)) {\n      return { next: true };\n    }\n\n    if (!this.lineDrawer.featureData) {\n      this.fireMarkerPointerUpdateEvent();\n    }\n    return { next: true };\n  }\n\n  lineFinished(event: LineEventHandlerArguments) {\n    this.lineDrawer.endShape();\n\n    let shapeCoordinates = event.shapeCoordinates;\n    if (event.markerIndex > 0) {\n      // cut the shape coordinates to the marker index\n      shapeCoordinates = shapeCoordinates.slice(0, event.markerIndex + 1);\n    }\n\n    if (shapeCoordinates.length < 2) {\n      // lines with less than 2 points are discarded\n      return null;\n    }\n\n    return this.gm.features.createFeature({\n      shapeGeoJson: this.getFeatureGeoJson(shapeCoordinates),\n      sourceName: SOURCES.main,\n    });\n  }\n\n  getFeatureGeoJson(shapeCoordinates: Array<Position>): GeoJsonShapeFeature {\n    return {\n      type: 'Feature',\n      properties: {\n        shape: this.shape,\n      },\n      geometry: {\n        type: 'LineString',\n        coordinates: shapeCoordinates,\n      },\n    };\n  }\n}\n","import defaultMarker from '@/assets/images/markers/default-marker.png';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type {\n  AnyEvent,\n  DrawModeName,\n  GeoJsonShapeFeature,\n  GMEvent,\n  LngLat,\n  MapHandlerReturnData,\n  MapPointerEvent,\n  ShapeName,\n} from '@/main.ts';\nimport { BaseDraw } from '@/modes/draw/base.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\n\n\nexport class DrawMarker extends BaseDraw {\n  mode: DrawModeName = 'marker';\n  shape: ShapeName = 'marker';\n  mapEventHandlers = {\n    click: this.onMouseClick.bind(this),\n    mousemove: this.onMouseMove.bind(this),\n  };\n\n  onStartAction() {\n    const customMarker = this.createMarker();\n    this.gm.markerPointer.enable({ customMarker });\n    this.fireMarkerPointerStartEvent();\n  }\n\n  onEndAction() {\n    this.gm.markerPointer.disable();\n    this.fireMarkerPointerFinishEvent();\n  }\n\n  onMouseClick(event: AnyEvent): MapHandlerReturnData {\n    if (isMapPointerEvent(event)) {\n      this.featureData = this.createFeature(event);\n      if (this.featureData) {\n        this.saveFeature();\n      }\n    }\n    return { next: false };\n  }\n\n  onMouseMove(event: GMEvent): MapHandlerReturnData {\n    if (!isMapPointerEvent(event) || !this.gm.markerPointer.marker) {\n      return { next: true };\n    }\n    this.fireMarkerPointerUpdateEvent();\n    return { next: true };\n  }\n\n  protected createMarker() {\n    const iconElement = document.createElement('div');\n    iconElement.style.backgroundImage = `url(\"${defaultMarker}\")`;\n    iconElement.style.width = '36px';\n    iconElement.style.height = '36px';\n    iconElement.style.backgroundSize = 'cover';\n    iconElement.style.pointerEvents = 'none';\n\n    return this.gm.mapAdapter.createDomMarker({\n      draggable: false,\n      anchor: 'bottom',\n      element: iconElement,\n    }, [0, 0]);\n  }\n\n  createFeature(event: MapPointerEvent): FeatureData | null {\n    const lngLat = this.gm.markerPointer.marker?.getLngLat() || event.lngLat.toArray();\n    const geoJson = this.getFeatureGeoJson(lngLat);\n\n    if (geoJson) {\n      this.fireBeforeFeatureCreate({ geoJsonFeatures: [geoJson] });\n\n      if (this.flags.featureCreateAllowed) {\n        return this.gm.features.createFeature({\n          shapeGeoJson: geoJson,\n          sourceName: SOURCES.temporary,\n        });\n      }\n    }\n    return null;\n  }\n\n  getFeatureGeoJson(lngLat: LngLat): GeoJsonShapeFeature | null {\n    return {\n      type: 'Feature',\n      properties: {\n        shape: this.shape,\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: lngLat,\n      },\n    };\n  }\n}\n","// index.ts\nimport { feature, featureCollection } from \"@turf/helpers\";\nimport { featureEach } from \"@turf/meta\";\nfunction combine(fc) {\n  var groups = {\n    MultiPoint: {\n      coordinates: [],\n      properties: []\n    },\n    MultiLineString: {\n      coordinates: [],\n      properties: []\n    },\n    MultiPolygon: {\n      coordinates: [],\n      properties: []\n    }\n  };\n  featureEach(fc, (feature2) => {\n    var _a;\n    switch ((_a = feature2.geometry) == null ? void 0 : _a.type) {\n      case \"Point\":\n        groups.MultiPoint.coordinates.push(feature2.geometry.coordinates);\n        groups.MultiPoint.properties.push(feature2.properties);\n        break;\n      case \"MultiPoint\":\n        groups.MultiPoint.coordinates.push(...feature2.geometry.coordinates);\n        groups.MultiPoint.properties.push(feature2.properties);\n        break;\n      case \"LineString\":\n        groups.MultiLineString.coordinates.push(feature2.geometry.coordinates);\n        groups.MultiLineString.properties.push(feature2.properties);\n        break;\n      case \"MultiLineString\":\n        groups.MultiLineString.coordinates.push(\n          ...feature2.geometry.coordinates\n        );\n        groups.MultiLineString.properties.push(feature2.properties);\n        break;\n      case \"Polygon\":\n        groups.MultiPolygon.coordinates.push(feature2.geometry.coordinates);\n        groups.MultiPolygon.properties.push(feature2.properties);\n        break;\n      case \"MultiPolygon\":\n        groups.MultiPolygon.coordinates.push(...feature2.geometry.coordinates);\n        groups.MultiPolygon.properties.push(feature2.properties);\n        break;\n      default:\n        break;\n    }\n  });\n  return featureCollection(\n    Object.keys(groups).filter(function(key) {\n      return groups[key].coordinates.length;\n    }).sort().map(function(key) {\n      var geometry = { type: key, coordinates: groups[key].coordinates };\n      var properties = { collectedProperties: groups[key].properties };\n      return feature(geometry, properties);\n    })\n  );\n}\nvar turf_combine_default = combine;\nexport {\n  combine,\n  turf_combine_default as default\n};\n//# sourceMappingURL=index.js.map","\nexport default function quickselect(arr, k, left, right, compare) {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n","import quickselect from 'quickselect';\n\nexport default class RBush {\n    constructor(maxEntries = 9) {\n        // max entries in a node is 9 by default; min node fill is 40% for best performance\n        this._maxEntries = Math.max(4, maxEntries);\n        this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n        this.clear();\n    }\n\n    all() {\n        return this._all(this.data, []);\n    }\n\n    search(bbox) {\n        let node = this.data;\n        const result = [];\n\n        if (!intersects(bbox, node)) return result;\n\n        const toBBox = this.toBBox;\n        const nodesToSearch = [];\n\n        while (node) {\n            for (let i = 0; i < node.children.length; i++) {\n                const child = node.children[i];\n                const childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf) result.push(child);\n                    else if (contains(bbox, childBBox)) this._all(child, result);\n                    else nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return result;\n    }\n\n    collides(bbox) {\n        let node = this.data;\n\n        if (!intersects(bbox, node)) return false;\n\n        const nodesToSearch = [];\n        while (node) {\n            for (let i = 0; i < node.children.length; i++) {\n                const child = node.children[i];\n                const childBBox = node.leaf ? this.toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf || contains(bbox, childBBox)) return true;\n                    nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return false;\n    }\n\n    load(data) {\n        if (!(data && data.length)) return this;\n\n        if (data.length < this._minEntries) {\n            for (let i = 0; i < data.length; i++) {\n                this.insert(data[i]);\n            }\n            return this;\n        }\n\n        // recursively build the tree with the given data from scratch using OMT algorithm\n        let node = this._build(data.slice(), 0, data.length - 1, 0);\n\n        if (!this.data.children.length) {\n            // save as is if tree is empty\n            this.data = node;\n\n        } else if (this.data.height === node.height) {\n            // split root if trees have the same height\n            this._splitRoot(this.data, node);\n\n        } else {\n            if (this.data.height < node.height) {\n                // swap trees if inserted one is bigger\n                const tmpNode = this.data;\n                this.data = node;\n                node = tmpNode;\n            }\n\n            // insert the small tree into the large tree at appropriate level\n            this._insert(node, this.data.height - node.height - 1, true);\n        }\n\n        return this;\n    }\n\n    insert(item) {\n        if (item) this._insert(item, this.data.height - 1);\n        return this;\n    }\n\n    clear() {\n        this.data = createNode([]);\n        return this;\n    }\n\n    remove(item, equalsFn) {\n        if (!item) return this;\n\n        let node = this.data;\n        const bbox = this.toBBox(item);\n        const path = [];\n        const indexes = [];\n        let i, parent, goingUp;\n\n        // depth-first iterative tree traversal\n        while (node || path.length) {\n\n            if (!node) { // go up\n                node = path.pop();\n                parent = path[path.length - 1];\n                i = indexes.pop();\n                goingUp = true;\n            }\n\n            if (node.leaf) { // check current node\n                const index = findItem(item, node.children, equalsFn);\n\n                if (index !== -1) {\n                    // item found, remove the item and condense tree upwards\n                    node.children.splice(index, 1);\n                    path.push(node);\n                    this._condense(path);\n                    return this;\n                }\n            }\n\n            if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                path.push(node);\n                indexes.push(i);\n                i = 0;\n                parent = node;\n                node = node.children[0];\n\n            } else if (parent) { // go right\n                i++;\n                node = parent.children[i];\n                goingUp = false;\n\n            } else node = null; // nothing found\n        }\n\n        return this;\n    }\n\n    toBBox(item) { return item; }\n\n    compareMinX(a, b) { return a.minX - b.minX; }\n    compareMinY(a, b) { return a.minY - b.minY; }\n\n    toJSON() { return this.data; }\n\n    fromJSON(data) {\n        this.data = data;\n        return this;\n    }\n\n    _all(node, result) {\n        const nodesToSearch = [];\n        while (node) {\n            if (node.leaf) result.push(...node.children);\n            else nodesToSearch.push(...node.children);\n\n            node = nodesToSearch.pop();\n        }\n        return result;\n    }\n\n    _build(items, left, right, height) {\n\n        const N = right - left + 1;\n        let M = this._maxEntries;\n        let node;\n\n        if (N <= M) {\n            // reached leaf level; return leaf\n            node = createNode(items.slice(left, right + 1));\n            calcBBox(node, this.toBBox);\n            return node;\n        }\n\n        if (!height) {\n            // target height of the bulk-loaded tree\n            height = Math.ceil(Math.log(N) / Math.log(M));\n\n            // target number of root entries to maximize storage utilization\n            M = Math.ceil(N / Math.pow(M, height - 1));\n        }\n\n        node = createNode([]);\n        node.leaf = false;\n        node.height = height;\n\n        // split the items into M mostly square tiles\n\n        const N2 = Math.ceil(N / M);\n        const N1 = N2 * Math.ceil(Math.sqrt(M));\n\n        multiSelect(items, left, right, N1, this.compareMinX);\n\n        for (let i = left; i <= right; i += N1) {\n\n            const right2 = Math.min(i + N1 - 1, right);\n\n            multiSelect(items, i, right2, N2, this.compareMinY);\n\n            for (let j = i; j <= right2; j += N2) {\n\n                const right3 = Math.min(j + N2 - 1, right2);\n\n                // pack each entry recursively\n                node.children.push(this._build(items, j, right3, height - 1));\n            }\n        }\n\n        calcBBox(node, this.toBBox);\n\n        return node;\n    }\n\n    _chooseSubtree(bbox, node, level, path) {\n        while (true) {\n            path.push(node);\n\n            if (node.leaf || path.length - 1 === level) break;\n\n            let minArea = Infinity;\n            let minEnlargement = Infinity;\n            let targetNode;\n\n            for (let i = 0; i < node.children.length; i++) {\n                const child = node.children[i];\n                const area = bboxArea(child);\n                const enlargement = enlargedArea(bbox, child) - area;\n\n                // choose entry with the least area enlargement\n                if (enlargement < minEnlargement) {\n                    minEnlargement = enlargement;\n                    minArea = area < minArea ? area : minArea;\n                    targetNode = child;\n\n                } else if (enlargement === minEnlargement) {\n                    // otherwise choose one with the smallest area\n                    if (area < minArea) {\n                        minArea = area;\n                        targetNode = child;\n                    }\n                }\n            }\n\n            node = targetNode || node.children[0];\n        }\n\n        return node;\n    }\n\n    _insert(item, level, isNode) {\n        const bbox = isNode ? item : this.toBBox(item);\n        const insertPath = [];\n\n        // find the best node for accommodating the item, saving all nodes along the path too\n        const node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n        // put the item into the node\n        node.children.push(item);\n        extend(node, bbox);\n\n        // split on node overflow; propagate upwards if necessary\n        while (level >= 0) {\n            if (insertPath[level].children.length > this._maxEntries) {\n                this._split(insertPath, level);\n                level--;\n            } else break;\n        }\n\n        // adjust bboxes along the insertion path\n        this._adjustParentBBoxes(bbox, insertPath, level);\n    }\n\n    // split overflowed node into two\n    _split(insertPath, level) {\n        const node = insertPath[level];\n        const M = node.children.length;\n        const m = this._minEntries;\n\n        this._chooseSplitAxis(node, m, M);\n\n        const splitIndex = this._chooseSplitIndex(node, m, M);\n\n        const newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n        newNode.height = node.height;\n        newNode.leaf = node.leaf;\n\n        calcBBox(node, this.toBBox);\n        calcBBox(newNode, this.toBBox);\n\n        if (level) insertPath[level - 1].children.push(newNode);\n        else this._splitRoot(node, newNode);\n    }\n\n    _splitRoot(node, newNode) {\n        // split root node\n        this.data = createNode([node, newNode]);\n        this.data.height = node.height + 1;\n        this.data.leaf = false;\n        calcBBox(this.data, this.toBBox);\n    }\n\n    _chooseSplitIndex(node, m, M) {\n        let index;\n        let minOverlap = Infinity;\n        let minArea = Infinity;\n\n        for (let i = m; i <= M - m; i++) {\n            const bbox1 = distBBox(node, 0, i, this.toBBox);\n            const bbox2 = distBBox(node, i, M, this.toBBox);\n\n            const overlap = intersectionArea(bbox1, bbox2);\n            const area = bboxArea(bbox1) + bboxArea(bbox2);\n\n            // choose distribution with minimum overlap\n            if (overlap < minOverlap) {\n                minOverlap = overlap;\n                index = i;\n\n                minArea = area < minArea ? area : minArea;\n\n            } else if (overlap === minOverlap) {\n                // otherwise choose distribution with minimum area\n                if (area < minArea) {\n                    minArea = area;\n                    index = i;\n                }\n            }\n        }\n\n        return index || M - m;\n    }\n\n    // sorts node children by the best axis for split\n    _chooseSplitAxis(node, m, M) {\n        const compareMinX = node.leaf ? this.compareMinX : compareNodeMinX;\n        const compareMinY = node.leaf ? this.compareMinY : compareNodeMinY;\n        const xMargin = this._allDistMargin(node, m, M, compareMinX);\n        const yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n        // if total distributions margin value is minimal for x, sort by minX,\n        // otherwise it's already sorted by minY\n        if (xMargin < yMargin) node.children.sort(compareMinX);\n    }\n\n    // total margin of all possible split distributions where each node is at least m full\n    _allDistMargin(node, m, M, compare) {\n        node.children.sort(compare);\n\n        const toBBox = this.toBBox;\n        const leftBBox = distBBox(node, 0, m, toBBox);\n        const rightBBox = distBBox(node, M - m, M, toBBox);\n        let margin = bboxMargin(leftBBox) + bboxMargin(rightBBox);\n\n        for (let i = m; i < M - m; i++) {\n            const child = node.children[i];\n            extend(leftBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(leftBBox);\n        }\n\n        for (let i = M - m - 1; i >= m; i--) {\n            const child = node.children[i];\n            extend(rightBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(rightBBox);\n        }\n\n        return margin;\n    }\n\n    _adjustParentBBoxes(bbox, path, level) {\n        // adjust bboxes along the given tree path\n        for (let i = level; i >= 0; i--) {\n            extend(path[i], bbox);\n        }\n    }\n\n    _condense(path) {\n        // go through the path, removing empty nodes and updating bboxes\n        for (let i = path.length - 1, siblings; i >= 0; i--) {\n            if (path[i].children.length === 0) {\n                if (i > 0) {\n                    siblings = path[i - 1].children;\n                    siblings.splice(siblings.indexOf(path[i]), 1);\n\n                } else this.clear();\n\n            } else calcBBox(path[i], this.toBBox);\n        }\n    }\n}\n\nfunction findItem(item, items, equalsFn) {\n    if (!equalsFn) return items.indexOf(item);\n\n    for (let i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) return i;\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox(node, toBBox) {\n    distBBox(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox(node, k, p, toBBox, destNode) {\n    if (!destNode) destNode = createNode(null);\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (let i = k; i < p; i++) {\n        const child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea(a, b) {\n    const minX = Math.max(a.minX, b.minX);\n    const minY = Math.max(a.minY, b.minY);\n    const maxX = Math.min(a.maxX, b.maxX);\n    const maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode(children) {\n    return {\n        children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect(arr, left, right, n, compare) {\n    const stack = [left, right];\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) continue;\n\n        const mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n","// index.ts\nimport { earthRadius } from \"@turf/helpers\";\nimport { geomReduce } from \"@turf/meta\";\nfunction area(geojson) {\n  return geomReduce(\n    geojson,\n    (value, geom) => {\n      return value + calculateArea(geom);\n    },\n    0\n  );\n}\nfunction calculateArea(geom) {\n  let total = 0;\n  let i;\n  switch (geom.type) {\n    case \"Polygon\":\n      return polygonArea(geom.coordinates);\n    case \"MultiPolygon\":\n      for (i = 0; i < geom.coordinates.length; i++) {\n        total += polygonArea(geom.coordinates[i]);\n      }\n      return total;\n    case \"Point\":\n    case \"MultiPoint\":\n    case \"LineString\":\n    case \"MultiLineString\":\n      return 0;\n  }\n  return 0;\n}\nfunction polygonArea(coords) {\n  let total = 0;\n  if (coords && coords.length > 0) {\n    total += Math.abs(ringArea(coords[0]));\n    for (let i = 1; i < coords.length; i++) {\n      total -= Math.abs(ringArea(coords[i]));\n    }\n  }\n  return total;\n}\nvar FACTOR = earthRadius * earthRadius / 2;\nvar PI_OVER_180 = Math.PI / 180;\nfunction ringArea(coords) {\n  const coordsLength = coords.length - 1;\n  if (coordsLength <= 2) return 0;\n  let total = 0;\n  let i = 0;\n  while (i < coordsLength) {\n    const lower = coords[i];\n    const middle = coords[i + 1 === coordsLength ? 0 : i + 1];\n    const upper = coords[i + 2 >= coordsLength ? (i + 2) % coordsLength : i + 2];\n    const lowerX = lower[0] * PI_OVER_180;\n    const middleY = middle[1] * PI_OVER_180;\n    const upperX = upper[0] * PI_OVER_180;\n    total += (upperX - lowerX) * Math.sin(middleY);\n    i++;\n  }\n  return total * FACTOR;\n}\nvar turf_area_default = area;\nexport {\n  area,\n  turf_area_default as default\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { flattenEach, featureEach } from \"@turf/meta\";\nimport { polygon as polygon2, featureCollection as featureCollection2 } from \"@turf/helpers\";\n\n// lib/geojson-polygon-self-intersections.js\nimport rbush from \"rbush\";\nfunction geojsonPolygonSelfIntersections(feature, filterFn, useSpatialIndex) {\n  if (feature.geometry.type !== \"Polygon\")\n    throw new Error(\"The input feature must be a Polygon\");\n  if (useSpatialIndex === void 0) useSpatialIndex = 1;\n  var coord = feature.geometry.coordinates;\n  var output = [];\n  var seen = {};\n  if (useSpatialIndex) {\n    var allEdgesAsRbushTreeItems = [];\n    for (var ring0 = 0; ring0 < coord.length; ring0++) {\n      for (var edge0 = 0; edge0 < coord[ring0].length - 1; edge0++) {\n        allEdgesAsRbushTreeItems.push(rbushTreeItem(ring0, edge0));\n      }\n    }\n    var tree = new rbush();\n    tree.load(allEdgesAsRbushTreeItems);\n  }\n  for (var ringA = 0; ringA < coord.length; ringA++) {\n    for (var edgeA = 0; edgeA < coord[ringA].length - 1; edgeA++) {\n      if (useSpatialIndex) {\n        var bboxOverlaps = tree.search(rbushTreeItem(ringA, edgeA));\n        bboxOverlaps.forEach(function(bboxIsect) {\n          var ring12 = bboxIsect.ring;\n          var edge12 = bboxIsect.edge;\n          ifIsectAddToOutput(ringA, edgeA, ring12, edge12);\n        });\n      } else {\n        for (var ring1 = 0; ring1 < coord.length; ring1++) {\n          for (var edge1 = 0; edge1 < coord[ring1].length - 1; edge1++) {\n            ifIsectAddToOutput(ringA, edgeA, ring1, edge1);\n          }\n        }\n      }\n    }\n  }\n  if (!filterFn)\n    output = {\n      type: \"Feature\",\n      geometry: { type: \"MultiPoint\", coordinates: output }\n    };\n  return output;\n  function ifIsectAddToOutput(ring02, edge02, ring12, edge12) {\n    var start0 = coord[ring02][edge02];\n    var end0 = coord[ring02][edge02 + 1];\n    var start1 = coord[ring12][edge12];\n    var end1 = coord[ring12][edge12 + 1];\n    var isect = intersect(start0, end0, start1, end1);\n    if (isect === null) return;\n    var frac0;\n    var frac1;\n    if (end0[0] !== start0[0]) {\n      frac0 = (isect[0] - start0[0]) / (end0[0] - start0[0]);\n    } else {\n      frac0 = (isect[1] - start0[1]) / (end0[1] - start0[1]);\n    }\n    if (end1[0] !== start1[0]) {\n      frac1 = (isect[0] - start1[0]) / (end1[0] - start1[0]);\n    } else {\n      frac1 = (isect[1] - start1[1]) / (end1[1] - start1[1]);\n    }\n    if (frac0 >= 1 || frac0 <= 0 || frac1 >= 1 || frac1 <= 0) return;\n    var key = isect;\n    var unique = !seen[key];\n    if (unique) {\n      seen[key] = true;\n    }\n    if (filterFn) {\n      output.push(\n        filterFn(\n          isect,\n          ring02,\n          edge02,\n          start0,\n          end0,\n          frac0,\n          ring12,\n          edge12,\n          start1,\n          end1,\n          frac1,\n          unique\n        )\n      );\n    } else {\n      output.push(isect);\n    }\n  }\n  function rbushTreeItem(ring, edge) {\n    var start = coord[ring][edge];\n    var end = coord[ring][edge + 1];\n    var minX;\n    var maxX;\n    var minY;\n    var maxY;\n    if (start[0] < end[0]) {\n      minX = start[0];\n      maxX = end[0];\n    } else {\n      minX = end[0];\n      maxX = start[0];\n    }\n    if (start[1] < end[1]) {\n      minY = start[1];\n      maxY = end[1];\n    } else {\n      minY = end[1];\n      maxY = start[1];\n    }\n    return {\n      minX,\n      minY,\n      maxX,\n      maxY,\n      ring,\n      edge\n    };\n  }\n}\nfunction intersect(start0, end0, start1, end1) {\n  if (equalArrays(start0, start1) || equalArrays(start0, end1) || equalArrays(end0, start1) || equalArrays(end1, start1))\n    return null;\n  var x0 = start0[0], y0 = start0[1], x1 = end0[0], y1 = end0[1], x2 = start1[0], y2 = start1[1], x3 = end1[0], y3 = end1[1];\n  var denom = (x0 - x1) * (y2 - y3) - (y0 - y1) * (x2 - x3);\n  if (denom === 0) return null;\n  var x4 = ((x0 * y1 - y0 * x1) * (x2 - x3) - (x0 - x1) * (x2 * y3 - y2 * x3)) / denom;\n  var y4 = ((x0 * y1 - y0 * x1) * (y2 - y3) - (y0 - y1) * (x2 * y3 - y2 * x3)) / denom;\n  return [x4, y4];\n}\nfunction equalArrays(array1, array2) {\n  if (!array1 || !array2) return false;\n  if (array1.length !== array2.length) return false;\n  for (var i = 0, l = array1.length; i < l; i++) {\n    if (array1[i] instanceof Array && array2[i] instanceof Array) {\n      if (!equalArrays(array1[i], array2[i])) return false;\n    } else if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// lib/simplepolygon.js\nimport { area } from \"@turf/area\";\nimport { featureCollection, polygon } from \"@turf/helpers\";\nimport { booleanPointInPolygon } from \"@turf/boolean-point-in-polygon\";\nimport rbush2 from \"rbush\";\nfunction simplepolygon(feature) {\n  if (feature.type != \"Feature\")\n    throw new Error(\"The input must a geojson object of type Feature\");\n  if (feature.geometry === void 0 || feature.geometry == null)\n    throw new Error(\n      \"The input must a geojson object with a non-empty geometry\"\n    );\n  if (feature.geometry.type != \"Polygon\")\n    throw new Error(\"The input must be a geojson Polygon\");\n  var numRings = feature.geometry.coordinates.length;\n  var vertices = [];\n  for (var i = 0; i < numRings; i++) {\n    var ring = feature.geometry.coordinates[i];\n    if (!equalArrays2(ring[0], ring[ring.length - 1])) {\n      ring.push(ring[0]);\n    }\n    for (var j = 0; j < ring.length - 1; j++) {\n      vertices.push(ring[j]);\n    }\n  }\n  if (!isUnique(vertices))\n    throw new Error(\n      \"The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)\"\n    );\n  var numvertices = vertices.length;\n  var selfIsectsData = geojsonPolygonSelfIntersections(\n    feature,\n    function filterFn(isect, ring0, edge0, start0, end0, frac0, ring1, edge1, start1, end1, frac1, unique) {\n      return [\n        isect,\n        ring0,\n        edge0,\n        start0,\n        end0,\n        frac0,\n        ring1,\n        edge1,\n        start1,\n        end1,\n        frac1,\n        unique\n      ];\n    }\n  );\n  var numSelfIsect = selfIsectsData.length;\n  if (numSelfIsect == 0) {\n    var outputFeatureArray = [];\n    for (var i = 0; i < numRings; i++) {\n      outputFeatureArray.push(\n        polygon([feature.geometry.coordinates[i]], {\n          parent: -1,\n          winding: windingOfRing(feature.geometry.coordinates[i])\n        })\n      );\n    }\n    var output = featureCollection(outputFeatureArray);\n    determineParents();\n    setNetWinding();\n    return output;\n  }\n  var pseudoVtxListByRingAndEdge = [];\n  var isectList = [];\n  for (var i = 0; i < numRings; i++) {\n    pseudoVtxListByRingAndEdge.push([]);\n    for (var j = 0; j < feature.geometry.coordinates[i].length - 1; j++) {\n      pseudoVtxListByRingAndEdge[i].push([\n        new PseudoVtx(\n          feature.geometry.coordinates[i][modulo(j + 1, feature.geometry.coordinates[i].length - 1)],\n          1,\n          [i, j],\n          [i, modulo(j + 1, feature.geometry.coordinates[i].length - 1)],\n          void 0\n        )\n      ]);\n      isectList.push(\n        new Isect(\n          feature.geometry.coordinates[i][j],\n          [i, modulo(j - 1, feature.geometry.coordinates[i].length - 1)],\n          [i, j],\n          void 0,\n          void 0,\n          false,\n          true\n        )\n      );\n    }\n  }\n  for (var i = 0; i < numSelfIsect; i++) {\n    pseudoVtxListByRingAndEdge[selfIsectsData[i][1]][selfIsectsData[i][2]].push(\n      new PseudoVtx(\n        selfIsectsData[i][0],\n        selfIsectsData[i][5],\n        [selfIsectsData[i][1], selfIsectsData[i][2]],\n        [selfIsectsData[i][6], selfIsectsData[i][7]],\n        void 0\n      )\n    );\n    if (selfIsectsData[i][11])\n      isectList.push(\n        new Isect(\n          selfIsectsData[i][0],\n          [selfIsectsData[i][1], selfIsectsData[i][2]],\n          [selfIsectsData[i][6], selfIsectsData[i][7]],\n          void 0,\n          void 0,\n          true,\n          true\n        )\n      );\n  }\n  var numIsect = isectList.length;\n  for (var i = 0; i < pseudoVtxListByRingAndEdge.length; i++) {\n    for (var j = 0; j < pseudoVtxListByRingAndEdge[i].length; j++) {\n      pseudoVtxListByRingAndEdge[i][j].sort(function(a, b) {\n        return a.param < b.param ? -1 : 1;\n      });\n    }\n  }\n  var allIsectsAsIsectRbushTreeItem = [];\n  for (var i = 0; i < numIsect; i++) {\n    allIsectsAsIsectRbushTreeItem.push({\n      minX: isectList[i].coord[0],\n      minY: isectList[i].coord[1],\n      maxX: isectList[i].coord[0],\n      maxY: isectList[i].coord[1],\n      index: i\n    });\n  }\n  var isectRbushTree = new rbush2();\n  isectRbushTree.load(allIsectsAsIsectRbushTreeItem);\n  for (var i = 0; i < pseudoVtxListByRingAndEdge.length; i++) {\n    for (var j = 0; j < pseudoVtxListByRingAndEdge[i].length; j++) {\n      for (var k = 0; k < pseudoVtxListByRingAndEdge[i][j].length; k++) {\n        var coordToFind;\n        if (k == pseudoVtxListByRingAndEdge[i][j].length - 1) {\n          coordToFind = pseudoVtxListByRingAndEdge[i][modulo(j + 1, feature.geometry.coordinates[i].length - 1)][0].coord;\n        } else {\n          coordToFind = pseudoVtxListByRingAndEdge[i][j][k + 1].coord;\n        }\n        var IsectRbushTreeItemFound = isectRbushTree.search({\n          minX: coordToFind[0],\n          minY: coordToFind[1],\n          maxX: coordToFind[0],\n          maxY: coordToFind[1]\n        })[0];\n        pseudoVtxListByRingAndEdge[i][j][k].nxtIsectAlongEdgeIn = IsectRbushTreeItemFound.index;\n      }\n    }\n  }\n  for (var i = 0; i < pseudoVtxListByRingAndEdge.length; i++) {\n    for (var j = 0; j < pseudoVtxListByRingAndEdge[i].length; j++) {\n      for (var k = 0; k < pseudoVtxListByRingAndEdge[i][j].length; k++) {\n        var coordToFind = pseudoVtxListByRingAndEdge[i][j][k].coord;\n        var IsectRbushTreeItemFound = isectRbushTree.search({\n          minX: coordToFind[0],\n          minY: coordToFind[1],\n          maxX: coordToFind[0],\n          maxY: coordToFind[1]\n        })[0];\n        var l = IsectRbushTreeItemFound.index;\n        if (l < numvertices) {\n          isectList[l].nxtIsectAlongRingAndEdge2 = pseudoVtxListByRingAndEdge[i][j][k].nxtIsectAlongEdgeIn;\n        } else {\n          if (equalArrays2(\n            isectList[l].ringAndEdge1,\n            pseudoVtxListByRingAndEdge[i][j][k].ringAndEdgeIn\n          )) {\n            isectList[l].nxtIsectAlongRingAndEdge1 = pseudoVtxListByRingAndEdge[i][j][k].nxtIsectAlongEdgeIn;\n          } else {\n            isectList[l].nxtIsectAlongRingAndEdge2 = pseudoVtxListByRingAndEdge[i][j][k].nxtIsectAlongEdgeIn;\n          }\n        }\n      }\n    }\n  }\n  var queue = [];\n  var i = 0;\n  for (var j = 0; j < numRings; j++) {\n    var leftIsect = i;\n    for (var k = 0; k < feature.geometry.coordinates[j].length - 1; k++) {\n      if (isectList[i].coord[0] < isectList[leftIsect].coord[0]) {\n        leftIsect = i;\n      }\n      i++;\n    }\n    var isectAfterLeftIsect = isectList[leftIsect].nxtIsectAlongRingAndEdge2;\n    for (var k = 0; k < isectList.length; k++) {\n      if (isectList[k].nxtIsectAlongRingAndEdge1 == leftIsect || isectList[k].nxtIsectAlongRingAndEdge2 == leftIsect) {\n        var isectBeforeLeftIsect = k;\n        break;\n      }\n    }\n    var windingAtIsect = isConvex(\n      [\n        isectList[isectBeforeLeftIsect].coord,\n        isectList[leftIsect].coord,\n        isectList[isectAfterLeftIsect].coord\n      ],\n      true\n    ) ? 1 : -1;\n    queue.push({ isect: leftIsect, parent: -1, winding: windingAtIsect });\n  }\n  queue.sort(function(a, b) {\n    return isectList[a.isect].coord > isectList[b.isect].coord ? -1 : 1;\n  });\n  var outputFeatureArray = [];\n  while (queue.length > 0) {\n    var popped = queue.pop();\n    var startIsect = popped.isect;\n    var currentOutputRingParent = popped.parent;\n    var currentOutputRingWinding = popped.winding;\n    var currentOutputRing = outputFeatureArray.length;\n    var currentOutputRingCoords = [isectList[startIsect].coord];\n    var currentIsect = startIsect;\n    if (isectList[startIsect].ringAndEdge1Walkable) {\n      var walkingRingAndEdge = isectList[startIsect].ringAndEdge1;\n      var nxtIsect = isectList[startIsect].nxtIsectAlongRingAndEdge1;\n    } else {\n      var walkingRingAndEdge = isectList[startIsect].ringAndEdge2;\n      var nxtIsect = isectList[startIsect].nxtIsectAlongRingAndEdge2;\n    }\n    while (!equalArrays2(isectList[startIsect].coord, isectList[nxtIsect].coord)) {\n      currentOutputRingCoords.push(isectList[nxtIsect].coord);\n      var nxtIsectInQueue = void 0;\n      for (var i = 0; i < queue.length; i++) {\n        if (queue[i].isect == nxtIsect) {\n          nxtIsectInQueue = i;\n          break;\n        }\n      }\n      if (nxtIsectInQueue != void 0) {\n        queue.splice(nxtIsectInQueue, 1);\n      }\n      if (equalArrays2(walkingRingAndEdge, isectList[nxtIsect].ringAndEdge1)) {\n        walkingRingAndEdge = isectList[nxtIsect].ringAndEdge2;\n        isectList[nxtIsect].ringAndEdge2Walkable = false;\n        if (isectList[nxtIsect].ringAndEdge1Walkable) {\n          var pushing = { isect: nxtIsect };\n          if (isConvex(\n            [\n              isectList[currentIsect].coord,\n              isectList[nxtIsect].coord,\n              isectList[isectList[nxtIsect].nxtIsectAlongRingAndEdge2].coord\n            ],\n            currentOutputRingWinding == 1\n          )) {\n            pushing.parent = currentOutputRingParent;\n            pushing.winding = -currentOutputRingWinding;\n          } else {\n            pushing.parent = currentOutputRing;\n            pushing.winding = currentOutputRingWinding;\n          }\n          queue.push(pushing);\n        }\n        currentIsect = nxtIsect;\n        nxtIsect = isectList[nxtIsect].nxtIsectAlongRingAndEdge2;\n      } else {\n        walkingRingAndEdge = isectList[nxtIsect].ringAndEdge1;\n        isectList[nxtIsect].ringAndEdge1Walkable = false;\n        if (isectList[nxtIsect].ringAndEdge2Walkable) {\n          var pushing = { isect: nxtIsect };\n          if (isConvex(\n            [\n              isectList[currentIsect].coord,\n              isectList[nxtIsect].coord,\n              isectList[isectList[nxtIsect].nxtIsectAlongRingAndEdge1].coord\n            ],\n            currentOutputRingWinding == 1\n          )) {\n            pushing.parent = currentOutputRingParent;\n            pushing.winding = -currentOutputRingWinding;\n          } else {\n            pushing.parent = currentOutputRing;\n            pushing.winding = currentOutputRingWinding;\n          }\n          queue.push(pushing);\n        }\n        currentIsect = nxtIsect;\n        nxtIsect = isectList[nxtIsect].nxtIsectAlongRingAndEdge1;\n      }\n    }\n    currentOutputRingCoords.push(isectList[nxtIsect].coord);\n    outputFeatureArray.push(\n      polygon([currentOutputRingCoords], {\n        index: currentOutputRing,\n        parent: currentOutputRingParent,\n        winding: currentOutputRingWinding,\n        netWinding: void 0\n      })\n    );\n  }\n  var output = featureCollection(outputFeatureArray);\n  determineParents();\n  setNetWinding();\n  function determineParents() {\n    var featuresWithoutParent = [];\n    for (var i2 = 0; i2 < output.features.length; i2++) {\n      if (output.features[i2].properties.parent == -1)\n        featuresWithoutParent.push(i2);\n    }\n    if (featuresWithoutParent.length > 1) {\n      for (var i2 = 0; i2 < featuresWithoutParent.length; i2++) {\n        var parent = -1;\n        var parentArea = Infinity;\n        for (var j2 = 0; j2 < output.features.length; j2++) {\n          if (featuresWithoutParent[i2] == j2) continue;\n          if (booleanPointInPolygon(\n            output.features[featuresWithoutParent[i2]].geometry.coordinates[0][0],\n            output.features[j2],\n            { ignoreBoundary: true }\n          )) {\n            if (area(output.features[j2]) < parentArea) {\n              parent = j2;\n            }\n          }\n        }\n        output.features[featuresWithoutParent[i2]].properties.parent = parent;\n      }\n    }\n  }\n  function setNetWinding() {\n    for (var i2 = 0; i2 < output.features.length; i2++) {\n      if (output.features[i2].properties.parent == -1) {\n        var netWinding = output.features[i2].properties.winding;\n        output.features[i2].properties.netWinding = netWinding;\n        setNetWindingOfChildren(i2, netWinding);\n      }\n    }\n  }\n  function setNetWindingOfChildren(parent, ParentNetWinding) {\n    for (var i2 = 0; i2 < output.features.length; i2++) {\n      if (output.features[i2].properties.parent == parent) {\n        var netWinding = ParentNetWinding + output.features[i2].properties.winding;\n        output.features[i2].properties.netWinding = netWinding;\n        setNetWindingOfChildren(i2, netWinding);\n      }\n    }\n  }\n  return output;\n}\nvar PseudoVtx = function(coord, param, ringAndEdgeIn, ringAndEdgeOut, nxtIsectAlongEdgeIn) {\n  this.coord = coord;\n  this.param = param;\n  this.ringAndEdgeIn = ringAndEdgeIn;\n  this.ringAndEdgeOut = ringAndEdgeOut;\n  this.nxtIsectAlongEdgeIn = nxtIsectAlongEdgeIn;\n};\nvar Isect = function(coord, ringAndEdge1, ringAndEdge2, nxtIsectAlongRingAndEdge1, nxtIsectAlongRingAndEdge2, ringAndEdge1Walkable, ringAndEdge2Walkable) {\n  this.coord = coord;\n  this.ringAndEdge1 = ringAndEdge1;\n  this.ringAndEdge2 = ringAndEdge2;\n  this.nxtIsectAlongRingAndEdge1 = nxtIsectAlongRingAndEdge1;\n  this.nxtIsectAlongRingAndEdge2 = nxtIsectAlongRingAndEdge2;\n  this.ringAndEdge1Walkable = ringAndEdge1Walkable;\n  this.ringAndEdge2Walkable = ringAndEdge2Walkable;\n};\nfunction isConvex(pts, righthanded) {\n  if (typeof righthanded === \"undefined\") righthanded = true;\n  if (pts.length != 3)\n    throw new Error(\"This function requires an array of three points [x,y]\");\n  var d = (pts[1][0] - pts[0][0]) * (pts[2][1] - pts[0][1]) - (pts[1][1] - pts[0][1]) * (pts[2][0] - pts[0][0]);\n  return d >= 0 == righthanded;\n}\nfunction windingOfRing(ring) {\n  var leftVtx = 0;\n  for (var i = 0; i < ring.length - 1; i++) {\n    if (ring[i][0] < ring[leftVtx][0]) leftVtx = i;\n  }\n  if (isConvex(\n    [\n      ring[modulo(leftVtx - 1, ring.length - 1)],\n      ring[leftVtx],\n      ring[modulo(leftVtx + 1, ring.length - 1)]\n    ],\n    true\n  )) {\n    var winding = 1;\n  } else {\n    var winding = -1;\n  }\n  return winding;\n}\nfunction equalArrays2(array1, array2) {\n  if (!array1 || !array2) return false;\n  if (array1.length != array2.length) return false;\n  for (var i = 0, l = array1.length; i < l; i++) {\n    if (array1[i] instanceof Array && array2[i] instanceof Array) {\n      if (!equalArrays2(array1[i], array2[i])) return false;\n    } else if (array1[i] != array2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction modulo(n, m) {\n  return (n % m + m) % m;\n}\nfunction isUnique(array) {\n  var u = {};\n  var isUnique2 = 1;\n  for (var i = 0, l = array.length; i < l; ++i) {\n    if (Object.prototype.hasOwnProperty.call(u, array[i])) {\n      isUnique2 = 0;\n      break;\n    }\n    u[array[i]] = 1;\n  }\n  return isUnique2;\n}\n\n// index.ts\nfunction unkinkPolygon(geojson) {\n  var features = [];\n  flattenEach(geojson, function(feature) {\n    if (feature.geometry.type !== \"Polygon\") return;\n    featureEach(simplepolygon(feature), function(poly) {\n      features.push(polygon2(poly.geometry.coordinates, feature.properties));\n    });\n  });\n  return featureCollection2(features);\n}\nvar turf_unkink_polygon_default = unkinkPolygon;\nexport {\n  turf_unkink_polygon_default as default,\n  unkinkPolygon\n};\n//# sourceMappingURL=index.js.map","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type { AnyEvent, DrawModeName, LineEventHandlerArguments, ShapeName } from '@/main.ts';\nimport { BaseDraw } from '@/modes/draw/base.ts';\nimport { LineDrawer } from '@/utils/draw/line-drawer.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\nimport turfClone from '@turf/clone';\nimport combine from '@turf/combine';\nimport lineToPolygon from '@turf/line-to-polygon';\nimport unkinkPolygon from '@turf/unkink-polygon';\nimport type { Feature, MultiPolygon, Polygon } from 'geojson';\n\n\nexport class DrawPolygon extends BaseDraw {\n  mode: DrawModeName = 'polygon';\n  shape: ShapeName = 'polygon';\n  lineDrawer = new LineDrawer(\n    this.gm,\n    { snappingMarkers: 'first', targetShape: 'polygon' },\n  );\n  mapEventHandlers = {\n    [`${gmPrefix}:draw`]: this.forwardLineDrawerEvent.bind(this),\n    mousemove: this.onMouseMove.bind(this),\n  };\n\n  onEndAction(): void {\n    this.lineDrawer.endAction();\n  }\n\n  onStartAction(): void {\n    this.lineDrawer.startAction();\n    this.lineDrawer.on(\n      'firstMarkerClick',\n      this.polygonFinished.bind(this),\n    );\n  }\n\n  onMouseMove(event: AnyEvent) {\n    if (!isMapPointerEvent(event)) {\n      return { next: true };\n    }\n\n    if (!this.lineDrawer.featureData) {\n      this.fireMarkerPointerUpdateEvent();\n    }\n    return { next: true };\n  }\n\n  polygonFinished(event: LineEventHandlerArguments) {\n    this.lineDrawer.endShape();\n\n    if (event.shapeCoordinates.length < 3) {\n      // polygons with less than 3 points are discarded\n      return;\n    }\n\n    const geoJsonPolygon = this.fixShapeGeoJson(lineToPolygon(event.geoJson));\n    if (!geoJsonPolygon) {\n      return;\n    }\n\n    this.gm.features.createFeature({\n      shapeGeoJson: {\n        ...geoJsonPolygon,\n        properties: {\n          ...geoJsonPolygon.properties,\n          shape: this.shape,\n        },\n      },\n      sourceName: SOURCES.main,\n    });\n  }\n\n  fixShapeGeoJson(geoJsonPolygon: Feature<Polygon | MultiPolygon>) {\n    try {\n      const geoJson = turfClone(combine(unkinkPolygon(geoJsonPolygon)));\n      return geoJson.features[0] as Feature<Polygon | MultiPolygon>;\n    } catch {\n      return null;\n    }\n  }\n}\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type {\n  AnyEvent,\n  DrawModeName,\n  GeoJsonShapeFeature,\n  GMDrawShapeEvent,\n  GMDrawShapeEventWithData,\n  LngLat,\n  MapHandlerReturnData,\n  MarkerData,\n  ShapeName,\n} from '@/main.ts';\n\nimport { BaseDraw } from '@/modes/draw/base.ts';\nimport { convertToThrottled } from '@/utils/behavior.ts';\nimport { allCoordinatesEqual, getBboxFromTwoCoords, twoCoordsToGeoJsonRectangle } from '@/utils/geojson.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\nimport type { BBox } from 'geojson';\n\n\nexport class DrawRectangle extends BaseDraw {\n  mode: DrawModeName = 'rectangle';\n  shape: ShapeName = 'rectangle';\n  startLngLat: LngLat | null = null;\n\n  mapEventHandlers = {\n    mousemove: this.onMouseMove.bind(this),\n    click: this.onMouseClick.bind(this),\n  };\n  throttledMethods = convertToThrottled({\n    updateFeaturePosition: this.updateFeaturePosition,\n  }, this, this.gm.options.settings.throttlingDelay);\n\n  onStartAction() {\n    this.gm.markerPointer.enable();\n  }\n\n  onEndAction() {\n    this.removeTmpFeature();\n    this.startLngLat = null;\n    this.gm.markerPointer.disable();\n    this.fireFinishEvent();\n  }\n\n  onMouseClick(event: AnyEvent): MapHandlerReturnData {\n    if (!isMapPointerEvent(event, { warning: true })) {\n      return { next: false };\n    }\n\n    const lngLat = this.gm.markerPointer.marker?.getLngLat() || event.lngLat.toArray();\n\n    if (this.startLngLat) {\n      const geoJson = this.getFeatureGeoJson(\n        getBboxFromTwoCoords(this.startLngLat, lngLat),\n      );\n      this.fireBeforeFeatureCreate({ geoJsonFeatures: [geoJson] });\n\n      if (this.flags.featureCreateAllowed) {\n        this.finishShape(lngLat);\n      }\n    } else {\n      const geoJson = this.getFeatureGeoJson(\n        getBboxFromTwoCoords(lngLat, lngLat),\n      );\n      this.fireBeforeFeatureCreate({ geoJsonFeatures: [geoJson] });\n\n      if (this.flags.featureCreateAllowed) {\n        const featureData = this.startShape(lngLat);\n        if (featureData) {\n          const markerData = this.getControlMarkerData(['geometry', 'coordinates', 4]);\n          this.fireStartEvent(featureData, markerData);\n        }\n      }\n    }\n    return { next: false };\n  }\n\n  onMouseMove(event: AnyEvent): MapHandlerReturnData {\n    if (!isMapPointerEvent(event, { warning: true })) {\n      return { next: false };\n    }\n\n    if (!this.startLngLat) {\n      this.fireMarkerPointerUpdateEvent();\n      return { next: false };\n    }\n\n    const lngLat = this.gm.markerPointer.marker?.getLngLat() || event.lngLat.toArray();\n    const bounds = getBboxFromTwoCoords(this.startLngLat, lngLat);\n\n    const geoJson = this.getFeatureGeoJson(bounds);\n    this.fireBeforeFeatureCreate({ geoJsonFeatures: [geoJson] });\n\n    if (this.flags.featureCreateAllowed) {\n      this.throttledMethods.updateFeaturePosition(bounds);\n    }\n    return { next: false };\n  }\n\n  startShape(lngLat: LngLat) {\n    this.startLngLat = lngLat;\n    const bounds = getBboxFromTwoCoords(this.startLngLat, this.startLngLat);\n    this.featureData = this.createFeature(bounds);\n    return this.featureData;\n  }\n\n  finishShape(lngLat: LngLat) {\n    if (this.startLngLat) {\n      const bounds = getBboxFromTwoCoords(this.startLngLat, lngLat);\n      this.throttledMethods.updateFeaturePosition(bounds);\n    }\n\n    if (this.featureData) {\n      if (this.isFeatureGeoJsonValid()) {\n        this.saveFeature();\n      } else {\n        this.removeTmpFeature();\n      }\n    }\n    this.startLngLat = null;\n    this.fireFinishEvent();\n  }\n\n  createFeature(bounds: BBox): FeatureData | null {\n    return this.gm.features.createFeature({\n      shapeGeoJson: this.getFeatureGeoJson(bounds),\n      sourceName: SOURCES.temporary,\n    });\n  }\n\n  isFeatureGeoJsonValid(): boolean {\n    if (!this.featureData) {\n      return false;\n    }\n\n    // for now only checks if all points aren't the same\n    return allCoordinatesEqual(this.featureData.getGeoJson());\n  }\n\n  getFeatureGeoJson(bounds: BBox): GeoJsonShapeFeature {\n    const rectangleGeoJson = twoCoordsToGeoJsonRectangle(\n      [bounds[0], bounds[2]],\n      [bounds[2], bounds[3]],\n    );\n\n    return {\n      ...rectangleGeoJson,\n      properties: {\n        shape: this.shape,\n      },\n    };\n  }\n\n  updateFeaturePosition(bounds: BBox) {\n    if (!this.featureData) {\n      return;\n    }\n\n    const rectangleData: GeoJsonShapeFeature = twoCoordsToGeoJsonRectangle(\n      [bounds[0], bounds[1]],\n      [bounds[2], bounds[3]],\n    );\n    this.featureData.updateGeoJsonGeometry(rectangleData.geometry);\n    const markerData = this.getControlMarkerData(['geometry', 'coordinates', 4]);\n    this.fireUpdateEvent(this.featureData, markerData);\n  }\n\n  getControlMarkerData(path: Array<string | number>): MarkerData | null {\n    const controlMarker = this.gm.markerPointer.marker;\n    if (!controlMarker) {\n      return null;\n    }\n\n    return {\n      type: 'dom',\n      instance: controlMarker,\n      position: {\n        coordinate: controlMarker.getLngLat(),\n        path,\n      },\n    };\n  }\n\n  fireStartEvent(\n    featureData: FeatureData,\n    markerData: MarkerData | null,\n  ) {\n    const event: GMDrawShapeEventWithData = {\n      level: 'system',\n      type: 'draw',\n      mode: this.shape,\n      variant: null,\n      action: 'start',\n      featureData,\n      markerData,\n    };\n    this.gm.events.fire(`${gmPrefix}:draw`, event);\n  }\n\n  fireUpdateEvent(\n    featureData: FeatureData,\n    markerData: MarkerData | null,\n  ) {\n    const event: GMDrawShapeEventWithData = {\n      level: 'system',\n      type: 'draw',\n      mode: this.shape,\n      variant: null,\n      action: 'update',\n      featureData,\n      markerData,\n    };\n    this.gm.events.fire(`${gmPrefix}:draw`, event);\n  }\n\n  fireFinishEvent() {\n    const event: GMDrawShapeEvent = {\n      level: 'system',\n      type: 'draw',\n      mode: this.shape,\n      variant: null,\n      action: 'finish',\n    };\n    this.gm.events.fire(`${gmPrefix}:draw`, event);\n  }\n}\n","import { SOURCES } from '@/core/features/index.ts';\nimport type {\n  AnyEvent,\n  DrawModeName,\n  GeoJsonShapeFeature,\n  LngLat,\n  MapHandlerReturnData,\n  ScreenPoint,\n  ShapeName,\n} from '@/main.ts';\nimport { BaseDraw } from '@/modes/draw/base.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\n\n\nexport class DrawTextMarker extends BaseDraw {\n  mode: DrawModeName = 'text_marker';\n  shape: ShapeName = 'text_marker';\n  textarea: HTMLTextAreaElement | null = null;\n  mapEventHandlers = {\n    click: this.onMouseClick.bind(this),\n    mousemove: this.onMouseMove.bind(this),\n  };\n\n  onStartAction() {\n    this.gm.markerPointer.enable({ invisibleMarker: true });\n  }\n\n  onEndAction() {\n    this.removeTextarea();\n    this.removeTmpFeature();\n    this.featureData = null;\n    this.gm.markerPointer.disable();\n    this.fireMarkerPointerFinishEvent();\n  }\n\n  onMouseMove(event: AnyEvent): MapHandlerReturnData {\n    if (!isMapPointerEvent(event, { warning: true })) {\n      return { next: true };\n    }\n\n    this.fireMarkerPointerUpdateEvent();\n    return { next: true };\n  }\n\n  onMouseClick(event: AnyEvent): MapHandlerReturnData {\n    if (!isMapPointerEvent(event, { warning: true })) {\n      return { next: true };\n    }\n\n    if (this.textarea) {\n      this.endShape();\n      this.gm.markerPointer.enable({ invisibleMarker: true, lngLat: event.lngLat.toArray() });\n      this.fireMarkerPointerUpdateEvent();\n    } else {\n      const lngLat = this.gm.markerPointer.marker?.getLngLat() || event.lngLat.toArray();\n      this.fireBeforeFeatureCreate({ geoJsonFeatures: [this.getFeatureGeoJson(lngLat)] });\n\n      if (this.flags.featureCreateAllowed) {\n        this.featureData = this.createFeature(lngLat);\n        this.gm.markerPointer.disable();\n        this.fireMarkerPointerFinishEvent();\n      }\n    }\n    return { next: false };\n  }\n\n  createFeature(lngLat: LngLat) {\n    const point = this.gm.mapAdapter.project(lngLat);\n    this.createTextarea(point);\n    return this.gm.features.createFeature({\n      shapeGeoJson: this.getFeatureGeoJson(lngLat),\n      sourceName: SOURCES.temporary,\n    });\n  }\n\n  endShape() {\n    const text = this.textarea?.value || '';\n    this.removeTextarea();\n\n    if (text.trim()) {\n      this.updateFeatureSource(text);\n      this.saveFeature();\n    } else {\n      this.removeTmpFeature();\n    }\n  }\n\n  createTextarea(point: ScreenPoint) {\n    this.textarea = document.createElement('textarea');\n    this.textarea.style.position = 'absolute';\n    this.textarea.style.left = `${point[0]}px`;\n    this.textarea.style.top = `${point[1]}px`;\n    this.textarea.style.opacity = '0.7';\n    this.gm.mapAdapter.getContainer().appendChild(this.textarea);\n    this.textarea.focus();\n  }\n\n  removeTextarea() {\n    this.textarea?.remove();\n    this.textarea = null;\n  }\n\n  getFeatureGeoJson(lngLat: LngLat): GeoJsonShapeFeature {\n    return {\n      type: 'Feature',\n      properties: {\n        shape: this.shape,\n        text: '',\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: lngLat,\n      },\n    };\n  }\n\n  updateFeatureSource(text: string) {\n    if (!this.featureData) {\n      return;\n    }\n    this.featureData.updateGeoJsonProperties({ shape: this.shape, text });\n  }\n}\n","import type { DrawModeName, Geoman } from '@/main.ts';\nimport { BaseDraw } from '@/modes/draw/base.ts';\nimport { DrawCircleMarker } from '@/modes/draw/circle-marker.ts';\nimport { DrawCircle } from '@/modes/draw/circle.ts';\nimport { DrawLine } from '@/modes/draw/line.ts';\nimport { DrawMarker } from '@/modes/draw/marker.ts';\nimport { DrawPolygon } from '@/modes/draw/polygon.ts';\nimport { DrawRectangle } from '@/modes/draw/rectangle.ts';\nimport { DrawTextMarker } from '@/modes/draw/text-marker.ts';\n\n\ntype DrawClassConstructor = new (gm: Geoman) => BaseDraw;\ntype DrawClassMap = {\n  [K in DrawModeName]: DrawClassConstructor | null;\n};\n\nexport const drawClassMap: DrawClassMap = {\n  marker: DrawMarker,\n  circle: DrawCircle,\n  circle_marker: DrawCircleMarker,\n  text_marker: DrawTextMarker,\n  line: DrawLine,\n  rectangle: DrawRectangle,\n  polygon: DrawPolygon,\n  freehand: null,\n  custom_shape: null,\n} as const;\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type {\n  AnyEvent,\n  EditModeName,\n  FeatureShape,\n  GeoJsonShapeFeature,\n  LngLat,\n  MapHandlerReturnData,\n} from '@/main.ts';\nimport { BaseEdit } from '@/modes/edit/base.ts';\nimport { convertToThrottled } from '@/utils/behavior.ts';\nimport { getFeatureFirstPoint, getMovedGeoJson } from '@/utils/features.ts';\nimport { getGeoJsonCircle, getGeoJsonFirstPoint, getLngLatDiff } from '@/utils/geojson.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\nimport type { Feature, Polygon } from 'geojson';\nimport log from 'loglevel';\n\n\ntype UpdateShapeHandler = (\n  featureData: FeatureData,\n  lngLatStart: LngLat,\n  lngLatEnd: LngLat,\n) => GeoJsonShapeFeature | null;\n\nexport abstract class BaseDrag extends BaseEdit {\n  mode: EditModeName = 'drag';\n  isDragging: boolean = false;\n  previousLngLat: LngLat | null = null;\n\n  pointBasedShapes: Array<FeatureShape> = [\n    'marker',\n    'circle_marker',\n    'text_marker',\n  ];\n\n  throttledMethods = convertToThrottled({\n    onMouseMove: this.onMouseMove,\n  }, this, this.gm.options.settings.throttlingDelay);\n\n  mapEventHandlers = {\n    [`${gmPrefix}:edit`]: this.handleGmEdit.bind(this),\n\n    mousedown: this.onMouseDown.bind(this),\n    touchstart: this.onMouseDown.bind(this),\n\n    mousemove: this.throttledMethods.onMouseMove.bind(this),\n    touchmove: this.throttledMethods.onMouseMove.bind(this),\n\n    mouseup: this.onMouseUp.bind(this),\n    touchend: this.onMouseUp.bind(this),\n  };\n\n  getUpdatedGeoJsonHandlers: { [key in FeatureShape]?: UpdateShapeHandler } = {\n    marker: this.moveSource.bind(this),\n    circle: this.moveCircle.bind(this),\n    circle_marker: this.moveSource.bind(this),\n    text_marker: this.moveSource.bind(this),\n    line: this.moveSource.bind(this),\n    rectangle: this.moveSource.bind(this),\n    polygon: this.moveSource.bind(this),\n  };\n\n  onMouseDown(event: AnyEvent): MapHandlerReturnData {\n    this.featureData = this.gm.features.getFeatureByMouseEvent({\n      event,\n      sourceNames: [SOURCES.main],\n    });\n\n    if (this.featureData && this.getUpdatedGeoJsonHandlers[this.featureData.shape]) {\n      this.featureData.changeSource({ sourceName: SOURCES.temporary, atomic: true });\n      this.gm.mapAdapter.setDragPan(false);\n      this.isDragging = true;\n\n      this.snappingHelper?.addExcludedFeature(this.featureData);\n      if (this.isPointBasedShape()) {\n        this.alignShapeCenterWithControlMarker(this.featureData, event);\n      }\n      this.fireFeatureEditStartEvent({ feature: this.featureData, forceMode: 'drag' });\n      return { next: false };\n    }\n    return { next: true };\n  }\n\n  onMouseUp(): MapHandlerReturnData {\n    if (!this.featureData) {\n      return { next: true };\n    }\n\n    this.snappingHelper?.clearExcludedFeatures();\n    this.featureData.changeSource({ sourceName: SOURCES.main, atomic: true });\n\n    this.isDragging = false;\n    this.previousLngLat = null;\n    this.gm.mapAdapter.setDragPan(true);\n    this.fireFeatureEditEndEvent({ feature: this.featureData, forceMode: 'drag' });\n    this.featureData = null;\n    return { next: true };\n  }\n\n  onMouseMove(event: AnyEvent): MapHandlerReturnData {\n    if (!this.isDragging || !isMapPointerEvent(event, { warning: true })) {\n      return { next: true };\n    }\n\n    if (this.featureData) {\n      // marker pointer is automatically enabled when the drag starts\n      // see \"relatedModes\" in options\n      const endLngLat = this.gm.markerPointer.marker?.getLngLat() || event.lngLat.toArray();\n      this.moveFeature(this.featureData, endLngLat);\n    }\n    return { next: false };\n  }\n\n  isPointBasedShape(): boolean {\n    // snapping should be enabled only for point based geometries\n    // but shape markers provide its own snapping too\n    return !!this.featureData && this.pointBasedShapes.includes(this.featureData.shape);\n  }\n\n  abstract handleGmEdit(event: AnyEvent): MapHandlerReturnData;\n\n  alignShapeCenterWithControlMarker(featureData: FeatureData, event: AnyEvent) {\n    const shapeLngLat = getFeatureFirstPoint(featureData);\n    if (shapeLngLat) {\n      this.gm.markerPointer.marker?.setLngLat(shapeLngLat);\n      this.onMouseMove(event); // align control marker and feature center\n    }\n  }\n\n  moveFeature(featureData: FeatureData, newLngLat: LngLat) {\n    if (!this.isDragging) {\n      return;\n    }\n\n    if (!this.previousLngLat) {\n      this.previousLngLat = newLngLat;\n      return;\n    }\n\n    const shapeUpdateMethod = this.getUpdatedGeoJsonHandlers[featureData.shape];\n    if (shapeUpdateMethod) {\n      const updatedGeoJson = shapeUpdateMethod(featureData, this.previousLngLat, newLngLat);\n      if (!updatedGeoJson) {\n        log.error('BaseDrag.moveFeature: invalid updatedGeoJson', featureData);\n        return;\n      }\n\n      this.fireBeforeFeatureUpdate({\n        features: [featureData],\n        geoJsonFeatures: [updatedGeoJson],\n        forceMode: 'drag',\n      });\n\n      const isUpdated = this.updateFeatureGeoJson({\n        featureData,\n        featureGeoJson: updatedGeoJson,\n        forceMode: 'drag',\n      });\n\n      if (isUpdated) {\n        this.previousLngLat = newLngLat;\n      }\n    }\n  }\n\n  moveSource(featureData: FeatureData, oldLngLat: LngLat, newLngLat: LngLat) {\n    const lngLatDiff = getLngLatDiff(oldLngLat, newLngLat);\n    // moveFeatureData(featureData, lngLatDiff);\n    return getMovedGeoJson(featureData, lngLatDiff);\n  }\n\n  moveCircle(\n    featureData: FeatureData,\n    oldLngLat: LngLat,\n    newLngLat: LngLat,\n  ): GeoJsonShapeFeature | null {\n    if (featureData.shape !== 'circle') {\n      log.error('BaseDrag.moveCircle: invalid shape type', featureData);\n      return null;\n    }\n\n    const shapeCenter = featureData.getShapeProperty('center');\n    if (!shapeCenter) {\n      log.error('BaseDrag.moveCircle: missing center in the featureData', featureData);\n      return null;\n    }\n\n    const geoJson = featureData.getGeoJson() as Feature<Polygon>;\n    const lngLatDiff = getLngLatDiff(oldLngLat, newLngLat);\n    const circleRimLngLat = getGeoJsonFirstPoint(geoJson);\n    if (!circleRimLngLat) {\n      log.error('BaseDrag.moveCircle: missing center circleRimLngLat');\n      return null;\n    }\n\n    const newCenterCoords: LngLat = [\n      shapeCenter[0] + lngLatDiff.lng,\n      shapeCenter[1] + lngLatDiff.lat,\n    ];\n\n    const circlePolygon = getGeoJsonCircle({\n      center: newCenterCoords,\n      radius: this.gm.mapAdapter.getDistance(shapeCenter, circleRimLngLat),\n    });\n\n    return {\n      type: 'Feature',\n      properties: {\n        shape: 'circle',\n        center: newCenterCoords,\n      },\n      geometry: circlePolygon.geometry,\n    };\n  }\n}\n","export const toMod = (\n  num: number,\n  mod: number,\n) => ((num % mod) + mod) % mod;\n\nexport const formatNumber = (num: number): string => {\n  return new Intl.NumberFormat('nb-NO', {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2,\n  }).format(num);\n};\n\nexport const formatDistance = (num: number): string => {\n  type Range = {\n    range: [number, number];\n    factor: number,\n    unit: string;\n  };\n\n  const ranges: Array<Range> = [\n    { range: [0, 1], unit: 'cm', factor: 100 },\n    { range: [1, 10000], unit: 'm', factor: 1 },\n    { range: [10000, Infinity], unit: 'km', factor: 0.001 },\n  ];\n\n  const range = ranges.find((item) => num >= item.range[0] && num < item.range[1]);\n  if (range) {\n    return `${formatNumber(num * range.factor)} ${range.unit}`;\n  }\n\n  return formatNumber(num);\n};\n\nexport const formatArea = (num: number): string => {\n  type Range = {\n    range: [number, number];\n    factor: number,\n    unit: string;\n  };\n\n  const ranges: Array<Range> = [\n    { range: [0, 1], unit: 'cm²', factor: 10000 },\n    { range: [1, 10000], unit: 'm²', factor: 1 },\n    { range: [100000, Infinity], unit: 'km²', factor: 0.000001 },\n  ];\n\n  const range = ranges.find((item) => num >= item.range[0] && num < item.range[1]);\n  if (range) {\n    return `${formatNumber(num * range.factor)} ${range.unit}`;\n  }\n\n  return formatNumber(num);\n};\n","import { SOURCES } from '@/core/features/index.ts';\nimport type {\n  AnyEvent,\n  EditModeName,\n  FeatureShape,\n  GeoJsonShapeFeature,\n  GMEditMarkerEvent,\n  GMEditMarkerMoveEvent,\n  LngLat,\n  MapHandlerReturnData,\n  MarkerData,\n} from '@/main.ts';\nimport { BaseDrag } from '@/modes/edit/base-drag.ts';\nimport { getFeatureFirstPoint } from '@/utils/features.ts';\nimport {\n  findCoordinateIndices,\n  getGeoJsonCircle,\n  getGeoJsonCoordinatesCount,\n  isLineStringFeature,\n  isMultiPolygonFeature,\n  isPolygonFeature,\n  removeVertexFromGeoJsonFeature,\n  twoCoordsToGeoJsonRectangle,\n} from '@/utils/geojson.ts';\nimport { isGmEditEvent } from '@/utils/guards/modes.ts';\nimport { toMod } from '@/utils/number.ts';\nimport type { Feature, LineString, MultiPolygon, Polygon } from 'geojson';\nimport { cloneDeep, get } from 'lodash-es';\nimport log from 'loglevel';\nimport { isSnapGuidesHelper } from '@/utils/guards/interfaces.ts';\n\n\ntype UpdateShapeHandler = (event: GMEditMarkerMoveEvent) => GeoJsonShapeFeature | null;\n\nexport class EditChange extends BaseDrag {\n  mode: EditModeName = 'change';\n  cutVertexShapeTypes: Array<FeatureShape> = ['line', 'polygon', 'rectangle'];\n  markerData: MarkerData | null = null;\n\n  shapeUpdateHandlers: { [key in FeatureShape]?: UpdateShapeHandler } = {\n    marker: this.updateSingleVertex.bind(this),\n    circle: this.updateCircle.bind(this),\n    circle_marker: this.updateSingleVertex.bind(this),\n    text_marker: this.updateSingleVertex.bind(this),\n    line: this.updateSingleVertex.bind(this),\n    rectangle: this.updateRectangle.bind(this),\n    polygon: this.updateSingleVertex.bind(this),\n  };\n\n  get snapGuidesInstance() {\n    const instance = this.gm.actionInstances.helper__snap_guides;\n    return isSnapGuidesHelper(instance) ? instance : null;\n  }\n\n  onStartAction() {\n    // ...\n  }\n\n  onEndAction() {\n    this.snapGuidesInstance?.removeSnapGuides();\n  }\n\n  handleGmEdit(event: AnyEvent): MapHandlerReturnData {\n    if (!isGmEditEvent(event)) {\n      return { next: true };\n    }\n\n    if (event.action === 'marker_move' && event.lngLatStart && event.markerData) {\n      if (event.markerData.type === 'vertex') {\n        this.moveVertex(event);\n        return { next: false };\n      } else if (event.lngLatEnd) {\n        this.moveSource(\n          event.featureData,\n          event.lngLatStart,\n          event.lngLatEnd,\n        );\n        return { next: false };\n      }\n    }\n\n    if (event.action === 'marker_right_click') {\n      this.cutVertex(event);\n      this.fireFeatureEditEndEvent({ feature: event.featureData });\n    } else if (event.action === 'edge_marker_click') {\n      this.insertVertex(event);\n    } else if (event.action === 'marker_captured') {\n      event.featureData.changeSource({ sourceName: SOURCES.temporary, atomic: true });\n      this.fireFeatureEditStartEvent({ feature: event.featureData });\n    } else if (event.action === 'marker_released') {\n      this.markerData = null;\n      this.snapGuidesInstance?.removeSnapGuides();\n      event.featureData.changeSource({ sourceName: SOURCES.main, atomic: true });\n      this.fireFeatureEditEndEvent({ feature: event.featureData });\n    }\n\n    return { next: true };\n  }\n\n  moveVertex(event: GMEditMarkerMoveEvent) {\n    if (!this.markerData) {\n      this.markerData = event.markerData || null;\n      this.snapGuidesInstance?.updateSnapGuides(\n        event.featureData.getGeoJson(),\n        event.lngLatStart,\n      );\n    }\n\n    const featureData = event.featureData;\n    const shape = featureData.shape;\n    const updatedGeoJson = this.shapeUpdateHandlers[shape]?.(event) || null;\n\n    if (updatedGeoJson) {\n      this.fireBeforeFeatureUpdate({\n        features: [featureData],\n        geoJsonFeatures: [updatedGeoJson],\n      });\n\n      this.updateFeatureGeoJson({ featureData, featureGeoJson: updatedGeoJson });\n    } else {\n      log.error('EditChange.moveVertex: invalid geojson', updatedGeoJson, event);\n    }\n  }\n\n  cutVertex(event: GMEditMarkerEvent) {\n    const featureData = event.featureData;\n    if (event.markerData.type !== 'vertex') {\n      return;\n    }\n\n    if (!this.cutVertexShapeTypes.includes(featureData.shape)) {\n      return;\n    }\n\n    let featureUpdated = false;\n    type CutFeature = Feature<LineString | Polygon | MultiPolygon>;\n    const geoJson = featureData.getGeoJson() as CutFeature;\n    const marker = event.markerData.instance;\n\n    if (isLineStringFeature(geoJson)) {\n      if (getGeoJsonCoordinatesCount(geoJson) <= 2) {\n        this.gm.features.delete(featureData);\n        return;\n      }\n    } else if (isMultiPolygonFeature(geoJson)) {\n      if (getGeoJsonCoordinatesCount(geoJson) <= 3) {\n        this.gm.features.delete(featureData);\n        return;\n      }\n    } else if (isPolygonFeature(geoJson)) {\n      if (getGeoJsonCoordinatesCount(geoJson) <= 3) {\n        this.gm.features.delete(featureData);\n        return;\n      }\n    }\n\n    const markerPosition = getFeatureFirstPoint(marker);\n    if (markerPosition) {\n      featureUpdated = removeVertexFromGeoJsonFeature(geoJson, markerPosition);\n    }\n\n    if (featureUpdated) {\n      featureData.convertToPolygon(); // if possible\n      featureData.updateGeoJsonGeometry(geoJson.geometry);\n      this.fireFeatureUpdatedEvent({\n        sourceFeatures: [featureData],\n        targetFeatures: [featureData],\n        markerData: event.markerData,\n      });\n    } else {\n      log.error('EditChange.cutVertex: feature not updated', event);\n    }\n  }\n\n  insertVertex(event: GMEditMarkerEvent) {\n    if (event.markerData.type !== 'edge') {\n      return;\n    }\n\n    type InsertFeature = Feature<LineString | Polygon | MultiPolygon>;\n    const geoJson = event.featureData.getGeoJson() as InsertFeature;\n\n    const coordinatesPath = event.markerData.segment.end.path;\n    const insertIndex = coordinatesPath.pop();\n    const coordinates = get(geoJson, coordinatesPath) as Array<LngLat>;\n\n    if (typeof insertIndex === 'number') {\n      coordinates.splice(insertIndex, 0, [...event.markerData.position.coordinate]);\n      event.featureData.updateGeoJsonGeometry(geoJson.geometry);\n      event.featureData.convertToPolygon(); // if possible\n      this.fireFeatureUpdatedEvent({\n        sourceFeatures: [event.featureData],\n        targetFeatures: [event.featureData],\n        markerData: event.markerData,\n      });\n    }\n  }\n\n  updateSingleVertex(\n    { featureData, lngLatEnd, markerData }: GMEditMarkerMoveEvent,\n  ) {\n    const geoJson = cloneDeep(featureData.getGeoJson() as GeoJsonShapeFeature);\n    const coordPath = cloneDeep(markerData.position.path);\n    const coordIndex = coordPath.pop();\n    const coordinates = get(geoJson, coordPath) as Array<LngLat>;\n\n    if (Array.isArray(coordinates) && typeof coordIndex === 'number') {\n      coordinates[coordIndex] = [...lngLatEnd];\n      if (coordIndex === 0 && featureData.shape === 'polygon') {\n        coordinates[coordinates.length - 1] = [...lngLatEnd];\n      }\n    } else {\n      log.error('BaseDrag.moveSingleVertex: invalid coordinates', geoJson, coordPath);\n    }\n\n    return geoJson;\n  }\n\n  updateCircle({ featureData, lngLatEnd }: GMEditMarkerMoveEvent): GeoJsonShapeFeature | null {\n    if (featureData.shape !== 'circle' || featureData.shapeProperties.center === null) {\n      log.error('BaseDrag.moveCircle: invalid shape type / missing center', featureData);\n      return null;\n    }\n\n    const shapeCenter = featureData.shapeProperties.center;\n\n    const circlePolygon = getGeoJsonCircle({\n      center: shapeCenter,\n      radius: this.gm.mapAdapter.getDistance(shapeCenter, lngLatEnd),\n    });\n\n    return {\n      type: 'Feature',\n      properties: {\n        shape: 'circle',\n        center: shapeCenter,\n      },\n      geometry: circlePolygon.geometry,\n    };\n  }\n\n  updateRectangle({ featureData, lngLatStart, lngLatEnd }: GMEditMarkerMoveEvent) {\n    const totalCoordsCount = 4;\n    const geoJson = featureData.getGeoJson() as GeoJsonShapeFeature;\n    const shapeCoords = geoJson.geometry.coordinates[0] as Array<LngLat>;\n\n    // Find the index of the starting vertex\n    const { absCoordIndex: startIndex } = findCoordinateIndices(geoJson, lngLatStart);\n    if (startIndex === -1) {\n      log.error('EditChange.updateRectangle: start vertex not found', featureData);\n      return null;\n    }\n\n    const oppositeVertexIndex = toMod(startIndex - 2, totalCoordsCount);\n    const oppositeCoordinate = shapeCoords[oppositeVertexIndex] as LngLat;\n    return twoCoordsToGeoJsonRectangle(\n      lngLatEnd,\n      oppositeCoordinate,\n    );\n  }\n}\n","import type { NonEmptyArray } from '@/types/index.ts';\n\nexport const isNonEmptyArray = <T>(arr: T[] | readonly T[]): arr is NonEmptyArray<T> => {\n  return arr.length > 0;\n};\n\n// exports\nexport { isGmModeEvent } from '@/utils/guards/events/index.ts';\nexport { isGmEvent } from '@/utils/guards/events/index.ts';\nexport { isModeName } from '@/utils/guards/modes.ts';\nexport { isHelperModeName } from '@/utils/guards/modes.ts';\nexport { isEditModeName } from '@/utils/guards/modes.ts';\nexport { isDrawModeName } from '@/utils/guards/modes.ts';\nexport { isActionType } from '@/utils/guards/modes.ts';\nexport { isMapPointerEvent } from '@/utils/guards/map.ts';\nexport { hasMapOnceMethod } from '@/utils/guards/map.ts';\nexport { isBaseMapEventName } from '@/utils/guards/map.ts';\nexport { isPointerEventName } from '@/utils/guards/map.ts';\n","// index.ts\nimport { booleanPointInPolygon } from \"@turf/boolean-point-in-polygon\";\nimport { lineIntersect } from \"@turf/line-intersect\";\nimport { flattenEach } from \"@turf/meta\";\nimport { polygonToLine } from \"@turf/polygon-to-line\";\nfunction booleanDisjoint(feature1, feature2, {\n  ignoreSelfIntersections = true\n} = { ignoreSelfIntersections: true }) {\n  let bool = true;\n  flattenEach(feature1, (flatten1) => {\n    flattenEach(feature2, (flatten2) => {\n      if (bool === false) {\n        return false;\n      }\n      bool = disjoint(\n        flatten1.geometry,\n        flatten2.geometry,\n        ignoreSelfIntersections\n      );\n    });\n  });\n  return bool;\n}\nfunction disjoint(geom1, geom2, ignoreSelfIntersections) {\n  switch (geom1.type) {\n    case \"Point\":\n      switch (geom2.type) {\n        case \"Point\":\n          return !compareCoords(geom1.coordinates, geom2.coordinates);\n        case \"LineString\":\n          return !isPointOnLine(geom2, geom1);\n        case \"Polygon\":\n          return !booleanPointInPolygon(geom1, geom2);\n      }\n      break;\n    case \"LineString\":\n      switch (geom2.type) {\n        case \"Point\":\n          return !isPointOnLine(geom1, geom2);\n        case \"LineString\":\n          return !isLineOnLine(geom1, geom2, ignoreSelfIntersections);\n        case \"Polygon\":\n          return !isLineInPoly(geom2, geom1, ignoreSelfIntersections);\n      }\n      break;\n    case \"Polygon\":\n      switch (geom2.type) {\n        case \"Point\":\n          return !booleanPointInPolygon(geom2, geom1);\n        case \"LineString\":\n          return !isLineInPoly(geom1, geom2, ignoreSelfIntersections);\n        case \"Polygon\":\n          return !isPolyInPoly(geom2, geom1, ignoreSelfIntersections);\n      }\n  }\n  return false;\n}\nfunction isPointOnLine(lineString, pt) {\n  for (let i = 0; i < lineString.coordinates.length - 1; i++) {\n    if (isPointOnLineSegment(\n      lineString.coordinates[i],\n      lineString.coordinates[i + 1],\n      pt.coordinates\n    )) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction isLineOnLine(lineString1, lineString2, ignoreSelfIntersections) {\n  const doLinesIntersect = lineIntersect(lineString1, lineString2, {\n    ignoreSelfIntersections\n  });\n  if (doLinesIntersect.features.length > 0) {\n    return true;\n  }\n  return false;\n}\nfunction isLineInPoly(polygon, lineString, ignoreSelfIntersections) {\n  for (const coord of lineString.coordinates) {\n    if (booleanPointInPolygon(coord, polygon)) {\n      return true;\n    }\n  }\n  const doLinesIntersect = lineIntersect(lineString, polygonToLine(polygon), {\n    ignoreSelfIntersections\n  });\n  if (doLinesIntersect.features.length > 0) {\n    return true;\n  }\n  return false;\n}\nfunction isPolyInPoly(feature1, feature2, ignoreSelfIntersections) {\n  for (const coord1 of feature1.coordinates[0]) {\n    if (booleanPointInPolygon(coord1, feature2)) {\n      return true;\n    }\n  }\n  for (const coord2 of feature2.coordinates[0]) {\n    if (booleanPointInPolygon(coord2, feature1)) {\n      return true;\n    }\n  }\n  const doLinesIntersect = lineIntersect(\n    polygonToLine(feature1),\n    polygonToLine(feature2),\n    { ignoreSelfIntersections }\n  );\n  if (doLinesIntersect.features.length > 0) {\n    return true;\n  }\n  return false;\n}\nfunction isPointOnLineSegment(lineSegmentStart, lineSegmentEnd, pt) {\n  const dxc = pt[0] - lineSegmentStart[0];\n  const dyc = pt[1] - lineSegmentStart[1];\n  const dxl = lineSegmentEnd[0] - lineSegmentStart[0];\n  const dyl = lineSegmentEnd[1] - lineSegmentStart[1];\n  const cross = dxc * dyl - dyc * dxl;\n  if (cross !== 0) {\n    return false;\n  }\n  if (Math.abs(dxl) >= Math.abs(dyl)) {\n    if (dxl > 0) {\n      return lineSegmentStart[0] <= pt[0] && pt[0] <= lineSegmentEnd[0];\n    } else {\n      return lineSegmentEnd[0] <= pt[0] && pt[0] <= lineSegmentStart[0];\n    }\n  } else if (dyl > 0) {\n    return lineSegmentStart[1] <= pt[1] && pt[1] <= lineSegmentEnd[1];\n  } else {\n    return lineSegmentEnd[1] <= pt[1] && pt[1] <= lineSegmentStart[1];\n  }\n}\nfunction compareCoords(pair1, pair2) {\n  return pair1[0] === pair2[0] && pair1[1] === pair2[1];\n}\nvar turf_boolean_disjoint_default = booleanDisjoint;\nexport {\n  booleanDisjoint,\n  turf_boolean_disjoint_default as default\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { booleanDisjoint } from \"@turf/boolean-disjoint\";\nimport { flattenEach } from \"@turf/meta\";\nfunction booleanIntersects(feature1, feature2, {\n  ignoreSelfIntersections = true\n} = {}) {\n  let bool = false;\n  flattenEach(feature1, (flatten1) => {\n    flattenEach(feature2, (flatten2) => {\n      if (bool === true) {\n        return true;\n      }\n      bool = !booleanDisjoint(flatten1.geometry, flatten2.geometry, {\n        ignoreSelfIntersections\n      });\n    });\n  });\n  return bool;\n}\nvar turf_boolean_intersects_default = booleanIntersects;\nexport {\n  booleanIntersects,\n  turf_boolean_intersects_default as default\n};\n//# sourceMappingURL=index.js.map","/*\r\n *      bignumber.js v9.1.2\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\nvar\r\n  isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n  mathceil = Math.ceil,\r\n  mathfloor = Math.floor,\r\n\r\n  bignumberError = '[BigNumber Error] ',\r\n  tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n  BASE = 1e14,\r\n  LOG_BASE = 14,\r\n  MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n  SQRT_BASE = 1e7,\r\n\r\n  // EDITABLE\r\n  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n  // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n  MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n/*\r\n * Create and return a BigNumber constructor.\r\n */\r\nfunction clone(configObject) {\r\n  var div, convertBase, parseNumeric,\r\n    P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n    ONE = new BigNumber(1),\r\n\r\n\r\n    //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n    // The default values below must be integers within the inclusive ranges stated.\r\n    // The values can also be changed at run-time using BigNumber.set.\r\n\r\n    // The maximum number of decimal places for operations involving division.\r\n    DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n    // The rounding mode used when rounding to the above decimal places, and when using\r\n    // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n    // UP         0 Away from zero.\r\n    // DOWN       1 Towards zero.\r\n    // CEIL       2 Towards +Infinity.\r\n    // FLOOR      3 Towards -Infinity.\r\n    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n    ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n    // The exponent value at and beneath which toString returns exponential notation.\r\n    // Number type: -7\r\n    TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n    // The exponent value at and above which toString returns exponential notation.\r\n    // Number type: 21\r\n    TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n    // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n    // The minimum exponent value, beneath which underflow to zero occurs.\r\n    // Number type: -324  (5e-324)\r\n    MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n    // The maximum exponent value, above which overflow to Infinity occurs.\r\n    // Number type:  308  (1.7976931348623157e+308)\r\n    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n    MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n    // Whether to use cryptographically-secure random number generation, if available.\r\n    CRYPTO = false,                          // true or false\r\n\r\n    // The modulo mode used when calculating the modulus: a mod n.\r\n    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n    // The remainder (r) is calculated as: r = a - n * q.\r\n    //\r\n    // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n    // DOWN      1 The remainder has the same sign as the dividend.\r\n    //             This modulo mode is commonly known as 'truncated division' and is\r\n    //             equivalent to (a % n) in JavaScript.\r\n    // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n    //             The remainder is always positive.\r\n    //\r\n    // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n    // modes are commonly used for the modulus operation.\r\n    // Although the other rounding modes can also be used, they may not give useful results.\r\n    MODULO_MODE = 1,                         // 0 to 9\r\n\r\n    // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n    // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n    POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n    // The format specification used by the BigNumber.prototype.toFormat method.\r\n    FORMAT = {\r\n      prefix: '',\r\n      groupSize: 3,\r\n      secondaryGroupSize: 0,\r\n      groupSeparator: ',',\r\n      decimalSeparator: '.',\r\n      fractionGroupSize: 0,\r\n      fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n      suffix: ''\r\n    },\r\n\r\n    // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n    // '-', '.', whitespace, or repeated character.\r\n    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n    alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n  //------------------------------------------------------------------------------------------\r\n\r\n\r\n  // CONSTRUCTOR\r\n\r\n\r\n  /*\r\n   * The BigNumber constructor and exported function.\r\n   * Create and return a new instance of a BigNumber object.\r\n   *\r\n   * v {number|string|BigNumber} A numeric value.\r\n   * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n   */\r\n  function BigNumber(v, b) {\r\n    var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n      x = this;\r\n\r\n    // Enable constructor call without `new`.\r\n    if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n    if (b == null) {\r\n\r\n      if (v && v._isBigNumber === true) {\r\n        x.s = v.s;\r\n\r\n        if (!v.c || v.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n        } else if (v.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = v.e;\r\n          x.c = v.c.slice();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n        // Use `1 / n` to handle minus zero also.\r\n        x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n        // Fast path for integers, where n < 2147483648 (2**31).\r\n        if (v === ~~v) {\r\n          for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n          if (e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else {\r\n            x.e = e;\r\n            x.c = [v];\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        str = String(v);\r\n      } else {\r\n\r\n        if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n        x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n      // Exponential form?\r\n      if ((i = str.search(/e/i)) > 0) {\r\n\r\n        // Determine exponent.\r\n        if (e < 0) e = i;\r\n        e += +str.slice(i + 1);\r\n        str = str.substring(0, i);\r\n      } else if (e < 0) {\r\n\r\n        // Integer.\r\n        e = str.length;\r\n      }\r\n\r\n    } else {\r\n\r\n      // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n      intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n      // Allow exponential notation to be used with base 10 argument, while\r\n      // also rounding to DECIMAL_PLACES as with other bases.\r\n      if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n        x = new BigNumber(v);\r\n        return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n      }\r\n\r\n      str = String(v);\r\n\r\n      if (isNum = typeof v == 'number') {\r\n\r\n        // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n        if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n        x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n          throw Error\r\n           (tooManyDigits + v);\r\n        }\r\n      } else {\r\n        x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      alphabet = ALPHABET.slice(0, b);\r\n      e = i = 0;\r\n\r\n      // Check that str is a valid base b number.\r\n      // Don't use RegExp, so alphabet can contain special characters.\r\n      for (len = str.length; i < len; i++) {\r\n        if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n          if (c == '.') {\r\n\r\n            // If '.' is not the first character and it has not be found before.\r\n            if (i > e) {\r\n              e = len;\r\n              continue;\r\n            }\r\n          } else if (!caseChanged) {\r\n\r\n            // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n            if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n              caseChanged = true;\r\n              i = -1;\r\n              e = 0;\r\n              continue;\r\n            }\r\n          }\r\n\r\n          return parseNumeric(x, String(v), isNum, b);\r\n        }\r\n      }\r\n\r\n      // Prevent later check for length on converted number.\r\n      isNum = false;\r\n      str = convertBase(str, b, 10, x.s);\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n      else e = str.length;\r\n    }\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n    // Determine trailing zeros.\r\n    for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n    if (str = str.slice(i, ++len)) {\r\n      len -= i;\r\n\r\n      // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n      if (isNum && BigNumber.DEBUG &&\r\n        len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n          throw Error\r\n           (tooManyDigits + (x.s * v));\r\n      }\r\n\r\n       // Overflow?\r\n      if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        x.c = x.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      } else {\r\n        x.e = e;\r\n        x.c = [];\r\n\r\n        // Transform base\r\n\r\n        // e is the base 10 exponent.\r\n        // i is where to slice str to get the first element of the coefficient array.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n        if (i < len) {\r\n          if (i) x.c.push(+str.slice(0, i));\r\n\r\n          for (len -= LOG_BASE; i < len;) {\r\n            x.c.push(+str.slice(i, i += LOG_BASE));\r\n          }\r\n\r\n          i = LOG_BASE - (str = str.slice(i)).length;\r\n        } else {\r\n          i -= len;\r\n        }\r\n\r\n        for (; i--; str += '0');\r\n        x.c.push(+str);\r\n      }\r\n    } else {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    }\r\n  }\r\n\r\n\r\n  // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n  BigNumber.clone = clone;\r\n\r\n  BigNumber.ROUND_UP = 0;\r\n  BigNumber.ROUND_DOWN = 1;\r\n  BigNumber.ROUND_CEIL = 2;\r\n  BigNumber.ROUND_FLOOR = 3;\r\n  BigNumber.ROUND_HALF_UP = 4;\r\n  BigNumber.ROUND_HALF_DOWN = 5;\r\n  BigNumber.ROUND_HALF_EVEN = 6;\r\n  BigNumber.ROUND_HALF_CEIL = 7;\r\n  BigNumber.ROUND_HALF_FLOOR = 8;\r\n  BigNumber.EUCLID = 9;\r\n\r\n\r\n  /*\r\n   * Configure infrequently-changing library-wide settings.\r\n   *\r\n   * Accept an object with the following optional properties (if the value of a property is\r\n   * a number, it must be an integer within the inclusive range stated):\r\n   *\r\n   *   DECIMAL_PLACES   {number}           0 to MAX\r\n   *   ROUNDING_MODE    {number}           0 to 8\r\n   *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n   *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n   *   CRYPTO           {boolean}          true or false\r\n   *   MODULO_MODE      {number}           0 to 9\r\n   *   POW_PRECISION       {number}           0 to MAX\r\n   *   ALPHABET         {string}           A string of two or more unique characters which does\r\n   *                                       not contain '.'.\r\n   *   FORMAT           {object}           An object with some of the following properties:\r\n   *     prefix                 {string}\r\n   *     groupSize              {number}\r\n   *     secondaryGroupSize     {number}\r\n   *     groupSeparator         {string}\r\n   *     decimalSeparator       {string}\r\n   *     fractionGroupSize      {number}\r\n   *     fractionGroupSeparator {string}\r\n   *     suffix                 {string}\r\n   *\r\n   * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n   *\r\n   * E.g.\r\n   * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n   *\r\n   * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n   *\r\n   * Return an object with the properties current values.\r\n   */\r\n  BigNumber.config = BigNumber.set = function (obj) {\r\n    var p, v;\r\n\r\n    if (obj != null) {\r\n\r\n      if (typeof obj == 'object') {\r\n\r\n        // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          DECIMAL_PLACES = v;\r\n        }\r\n\r\n        // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n        // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 8, p);\r\n          ROUNDING_MODE = v;\r\n        }\r\n\r\n        // EXPONENTIAL_AT {number|number[]}\r\n        // Integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n        // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, 0, p);\r\n            intCheck(v[1], 0, MAX, p);\r\n            TO_EXP_NEG = v[0];\r\n            TO_EXP_POS = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n          }\r\n        }\r\n\r\n        // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n        // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n        if (obj.hasOwnProperty(p = 'RANGE')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, -1, p);\r\n            intCheck(v[1], 1, MAX, p);\r\n            MIN_EXP = v[0];\r\n            MAX_EXP = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            if (v) {\r\n              MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' cannot be zero: ' + v);\r\n            }\r\n          }\r\n        }\r\n\r\n        // CRYPTO {boolean} true or false.\r\n        // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n        // '[BigNumber Error] crypto unavailable'\r\n        if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n          v = obj[p];\r\n          if (v === !!v) {\r\n            if (v) {\r\n              if (typeof crypto != 'undefined' && crypto &&\r\n               (crypto.getRandomValues || crypto.randomBytes)) {\r\n                CRYPTO = v;\r\n              } else {\r\n                CRYPTO = !v;\r\n                throw Error\r\n                 (bignumberError + 'crypto unavailable');\r\n              }\r\n            } else {\r\n              CRYPTO = v;\r\n            }\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' not true or false: ' + v);\r\n          }\r\n        }\r\n\r\n        // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n        // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 9, p);\r\n          MODULO_MODE = v;\r\n        }\r\n\r\n        // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          POW_PRECISION = v;\r\n        }\r\n\r\n        // FORMAT {object}\r\n        // '[BigNumber Error] FORMAT not an object: {v}'\r\n        if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n          v = obj[p];\r\n          if (typeof v == 'object') FORMAT = v;\r\n          else throw Error\r\n           (bignumberError + p + ' not an object: ' + v);\r\n        }\r\n\r\n        // ALPHABET {string}\r\n        // '[BigNumber Error] ALPHABET invalid: {v}'\r\n        if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n          v = obj[p];\r\n\r\n          // Disallow if less than two characters,\r\n          // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n          if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n            alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n            ALPHABET = v;\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' invalid: ' + v);\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Object expected: {v}'\r\n        throw Error\r\n         (bignumberError + 'Object expected: ' + obj);\r\n      }\r\n    }\r\n\r\n    return {\r\n      DECIMAL_PLACES: DECIMAL_PLACES,\r\n      ROUNDING_MODE: ROUNDING_MODE,\r\n      EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n      RANGE: [MIN_EXP, MAX_EXP],\r\n      CRYPTO: CRYPTO,\r\n      MODULO_MODE: MODULO_MODE,\r\n      POW_PRECISION: POW_PRECISION,\r\n      FORMAT: FORMAT,\r\n      ALPHABET: ALPHABET\r\n    };\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if v is a BigNumber instance, otherwise return false.\r\n   *\r\n   * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n   *\r\n   * v {any}\r\n   *\r\n   * '[BigNumber Error] Invalid BigNumber: {v}'\r\n   */\r\n  BigNumber.isBigNumber = function (v) {\r\n    if (!v || v._isBigNumber !== true) return false;\r\n    if (!BigNumber.DEBUG) return true;\r\n\r\n    var i, n,\r\n      c = v.c,\r\n      e = v.e,\r\n      s = v.s;\r\n\r\n    out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n      if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n        // If the first element is zero, the BigNumber value must be zero.\r\n        if (c[0] === 0) {\r\n          if (e === 0 && c.length === 1) return true;\r\n          break out;\r\n        }\r\n\r\n        // Calculate number of digits that c[0] should have, based on the exponent.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (i < 1) i += LOG_BASE;\r\n\r\n        // Calculate number of digits of c[0].\r\n        //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n        if (String(c[0]).length == i) {\r\n\r\n          for (i = 0; i < c.length; i++) {\r\n            n = c[i];\r\n            if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n          }\r\n\r\n          // Last element cannot be zero, unless it is the only element.\r\n          if (n !== 0) return true;\r\n        }\r\n      }\r\n\r\n    // Infinity/NaN\r\n    } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n      return true;\r\n    }\r\n\r\n    throw Error\r\n      (bignumberError + 'Invalid BigNumber: ' + v);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the maximum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.maximum = BigNumber.max = function () {\r\n    return maxOrMin(arguments, -1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the minimum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.minimum = BigNumber.min = function () {\r\n    return maxOrMin(arguments, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n   * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n   * zeros are produced).\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n   * '[BigNumber Error] crypto unavailable'\r\n   */\r\n  BigNumber.random = (function () {\r\n    var pow2_53 = 0x20000000000000;\r\n\r\n    // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n    // Check if Math.random() produces more than 32 bits of randomness.\r\n    // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n    // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n    var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n     ? function () { return mathfloor(Math.random() * pow2_53); }\r\n     : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n       (Math.random() * 0x800000 | 0); };\r\n\r\n    return function (dp) {\r\n      var a, b, e, k, v,\r\n        i = 0,\r\n        c = [],\r\n        rand = new BigNumber(ONE);\r\n\r\n      if (dp == null) dp = DECIMAL_PLACES;\r\n      else intCheck(dp, 0, MAX);\r\n\r\n      k = mathceil(dp / LOG_BASE);\r\n\r\n      if (CRYPTO) {\r\n\r\n        // Browsers supporting crypto.getRandomValues.\r\n        if (crypto.getRandomValues) {\r\n\r\n          a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n          for (; i < k;) {\r\n\r\n            // 53 bits:\r\n            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n            //                                     11111 11111111 11111111\r\n            // 0x20000 is 2^21.\r\n            v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n            // Rejection sampling:\r\n            // 0 <= v < 9007199254740992\r\n            // Probability that v >= 9e15, is\r\n            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n            if (v >= 9e15) {\r\n              b = crypto.getRandomValues(new Uint32Array(2));\r\n              a[i] = b[0];\r\n              a[i + 1] = b[1];\r\n            } else {\r\n\r\n              // 0 <= v <= 8999999999999999\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 2;\r\n            }\r\n          }\r\n          i = k / 2;\r\n\r\n        // Node.js supporting crypto.randomBytes.\r\n        } else if (crypto.randomBytes) {\r\n\r\n          // buffer\r\n          a = crypto.randomBytes(k *= 7);\r\n\r\n          for (; i < k;) {\r\n\r\n            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n            // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n            // 0 <= v < 9007199254740992\r\n            v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n               (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n               (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n            if (v >= 9e15) {\r\n              crypto.randomBytes(7).copy(a, i);\r\n            } else {\r\n\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 7;\r\n            }\r\n          }\r\n          i = k / 7;\r\n        } else {\r\n          CRYPTO = false;\r\n          throw Error\r\n           (bignumberError + 'crypto unavailable');\r\n        }\r\n      }\r\n\r\n      // Use Math.random.\r\n      if (!CRYPTO) {\r\n\r\n        for (; i < k;) {\r\n          v = random53bitInt();\r\n          if (v < 9e15) c[i++] = v % 1e14;\r\n        }\r\n      }\r\n\r\n      k = c[--i];\r\n      dp %= LOG_BASE;\r\n\r\n      // Convert trailing digits to zeros according to dp.\r\n      if (k && dp) {\r\n        v = POWS_TEN[LOG_BASE - dp];\r\n        c[i] = mathfloor(k / v) * v;\r\n      }\r\n\r\n      // Remove trailing elements which are zero.\r\n      for (; c[i] === 0; c.pop(), i--);\r\n\r\n      // Zero?\r\n      if (i < 0) {\r\n        c = [e = 0];\r\n      } else {\r\n\r\n        // Remove leading elements which are zero and adjust exponent accordingly.\r\n        for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n        // Count the digits of the first element of c to determine leading zeros, and...\r\n        for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n        // adjust the exponent accordingly.\r\n        if (i < LOG_BASE) e -= LOG_BASE - i;\r\n      }\r\n\r\n      rand.e = e;\r\n      rand.c = c;\r\n      return rand;\r\n    };\r\n  })();\r\n\r\n\r\n   /*\r\n   * Return a BigNumber whose value is the sum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.sum = function () {\r\n    var i = 1,\r\n      args = arguments,\r\n      sum = new BigNumber(args[0]);\r\n    for (; i < args.length;) sum = sum.plus(args[i++]);\r\n    return sum;\r\n  };\r\n\r\n\r\n  // PRIVATE FUNCTIONS\r\n\r\n\r\n  // Called by BigNumber and BigNumber.prototype.toString.\r\n  convertBase = (function () {\r\n    var decimal = '0123456789';\r\n\r\n    /*\r\n     * Convert string of baseIn to an array of numbers of baseOut.\r\n     * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n     * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n     */\r\n    function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n      var j,\r\n        arr = [0],\r\n        arrL,\r\n        i = 0,\r\n        len = str.length;\r\n\r\n      for (; i < len;) {\r\n        for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n        arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n        for (j = 0; j < arr.length; j++) {\r\n\r\n          if (arr[j] > baseOut - 1) {\r\n            if (arr[j + 1] == null) arr[j + 1] = 0;\r\n            arr[j + 1] += arr[j] / baseOut | 0;\r\n            arr[j] %= baseOut;\r\n          }\r\n        }\r\n      }\r\n\r\n      return arr.reverse();\r\n    }\r\n\r\n    // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n    // If the caller is toString, we are converting from base 10 to baseOut.\r\n    // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n    return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n      var alphabet, d, e, k, r, x, xc, y,\r\n        i = str.indexOf('.'),\r\n        dp = DECIMAL_PLACES,\r\n        rm = ROUNDING_MODE;\r\n\r\n      // Non-integer.\r\n      if (i >= 0) {\r\n        k = POW_PRECISION;\r\n\r\n        // Unlimited precision.\r\n        POW_PRECISION = 0;\r\n        str = str.replace('.', '');\r\n        y = new BigNumber(baseIn);\r\n        x = y.pow(str.length - i);\r\n        POW_PRECISION = k;\r\n\r\n        // Convert str as if an integer, then restore the fraction part by dividing the\r\n        // result by its base raised to a power.\r\n\r\n        y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n         10, baseOut, decimal);\r\n        y.e = y.c.length;\r\n      }\r\n\r\n      // Convert the number as integer.\r\n\r\n      xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n       ? (alphabet = ALPHABET, decimal)\r\n       : (alphabet = decimal, ALPHABET));\r\n\r\n      // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n      e = k = xc.length;\r\n\r\n      // Remove trailing zeros.\r\n      for (; xc[--k] == 0; xc.pop());\r\n\r\n      // Zero?\r\n      if (!xc[0]) return alphabet.charAt(0);\r\n\r\n      // Does str represent an integer? If so, no need for the division.\r\n      if (i < 0) {\r\n        --e;\r\n      } else {\r\n        x.c = xc;\r\n        x.e = e;\r\n\r\n        // The sign is needed for correct rounding.\r\n        x.s = sign;\r\n        x = div(x, y, dp, rm, baseOut);\r\n        xc = x.c;\r\n        r = x.r;\r\n        e = x.e;\r\n      }\r\n\r\n      // xc now represents str converted to baseOut.\r\n\r\n      // THe index of the rounding digit.\r\n      d = e + dp + 1;\r\n\r\n      // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n      i = xc[d];\r\n\r\n      // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n      k = baseOut / 2;\r\n      r = r || d < 0 || xc[d + 1] != null;\r\n\r\n      r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n            : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n      // If the index of the rounding digit is not greater than zero, or xc represents\r\n      // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n      // such as 0.00001.\r\n      if (d < 1 || !xc[0]) {\r\n\r\n        // 1^-dp or 0\r\n        str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n      } else {\r\n\r\n        // Truncate xc to the required number of decimal places.\r\n        xc.length = d;\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up and so on.\r\n          for (--baseOut; ++xc[--d] > baseOut;) {\r\n            xc[d] = 0;\r\n\r\n            if (!d) {\r\n              ++e;\r\n              xc = [1].concat(xc);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Determine trailing zeros.\r\n        for (k = xc.length; !xc[--k];);\r\n\r\n        // E.g. [4, 11, 15] becomes 4bf.\r\n        for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n        // Add leading zeros, decimal point and trailing zeros as required.\r\n        str = toFixedPoint(str, e, alphabet.charAt(0));\r\n      }\r\n\r\n      // The caller will add the sign.\r\n      return str;\r\n    };\r\n  })();\r\n\r\n\r\n  // Perform division in the specified base. Called by div and convertBase.\r\n  div = (function () {\r\n\r\n    // Assume non-zero x and k.\r\n    function multiply(x, k, base) {\r\n      var m, temp, xlo, xhi,\r\n        carry = 0,\r\n        i = x.length,\r\n        klo = k % SQRT_BASE,\r\n        khi = k / SQRT_BASE | 0;\r\n\r\n      for (x = x.slice(); i--;) {\r\n        xlo = x[i] % SQRT_BASE;\r\n        xhi = x[i] / SQRT_BASE | 0;\r\n        m = khi * xlo + xhi * klo;\r\n        temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n        carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n        x[i] = temp % base;\r\n      }\r\n\r\n      if (carry) x = [carry].concat(x);\r\n\r\n      return x;\r\n    }\r\n\r\n    function compare(a, b, aL, bL) {\r\n      var i, cmp;\r\n\r\n      if (aL != bL) {\r\n        cmp = aL > bL ? 1 : -1;\r\n      } else {\r\n\r\n        for (i = cmp = 0; i < aL; i++) {\r\n\r\n          if (a[i] != b[i]) {\r\n            cmp = a[i] > b[i] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return cmp;\r\n    }\r\n\r\n    function subtract(a, b, aL, base) {\r\n      var i = 0;\r\n\r\n      // Subtract b from a.\r\n      for (; aL--;) {\r\n        a[aL] -= i;\r\n        i = a[aL] < b[aL] ? 1 : 0;\r\n        a[aL] = i * base + a[aL] - b[aL];\r\n      }\r\n\r\n      // Remove leading zeros.\r\n      for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n    }\r\n\r\n    // x: dividend, y: divisor.\r\n    return function (x, y, dp, rm, base) {\r\n      var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n        yL, yz,\r\n        s = x.s == y.s ? 1 : -1,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n        return new BigNumber(\r\n\r\n         // Return NaN if either NaN, or both Infinity or 0.\r\n         !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n          // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\r\n          xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n       );\r\n      }\r\n\r\n      q = new BigNumber(s);\r\n      qc = q.c = [];\r\n      e = x.e - y.e;\r\n      s = dp + e + 1;\r\n\r\n      if (!base) {\r\n        base = BASE;\r\n        e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n        s = s / LOG_BASE | 0;\r\n      }\r\n\r\n      // Result exponent may be one less then the current value of e.\r\n      // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n      for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n      if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n      if (s < 0) {\r\n        qc.push(1);\r\n        more = true;\r\n      } else {\r\n        xL = xc.length;\r\n        yL = yc.length;\r\n        i = 0;\r\n        s += 2;\r\n\r\n        // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n        n = mathfloor(base / (yc[0] + 1));\r\n\r\n        // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n        // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n        if (n > 1) {\r\n          yc = multiply(yc, n, base);\r\n          xc = multiply(xc, n, base);\r\n          yL = yc.length;\r\n          xL = xc.length;\r\n        }\r\n\r\n        xi = yL;\r\n        rem = xc.slice(0, yL);\r\n        remL = rem.length;\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL < yL; rem[remL++] = 0);\r\n        yz = yc.slice();\r\n        yz = [0].concat(yz);\r\n        yc0 = yc[0];\r\n        if (yc[1] >= base / 2) yc0++;\r\n        // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n        // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n        do {\r\n          n = 0;\r\n\r\n          // Compare divisor and remainder.\r\n          cmp = compare(yc, rem, yL, remL);\r\n\r\n          // If divisor < remainder.\r\n          if (cmp < 0) {\r\n\r\n            // Calculate trial digit, n.\r\n\r\n            rem0 = rem[0];\r\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n            // n is how many times the divisor goes into the current remainder.\r\n            n = mathfloor(rem0 / yc0);\r\n\r\n            //  Algorithm:\r\n            //  product = divisor multiplied by trial digit (n).\r\n            //  Compare product and remainder.\r\n            //  If product is greater than remainder:\r\n            //    Subtract divisor from product, decrement trial digit.\r\n            //  Subtract product from remainder.\r\n            //  If product was less than remainder at the last compare:\r\n            //    Compare new remainder and divisor.\r\n            //    If remainder is greater than divisor:\r\n            //      Subtract divisor from remainder, increment trial digit.\r\n\r\n            if (n > 1) {\r\n\r\n              // n may be > base only when base is 3.\r\n              if (n >= base) n = base - 1;\r\n\r\n              // product = divisor * trial digit.\r\n              prod = multiply(yc, n, base);\r\n              prodL = prod.length;\r\n              remL = rem.length;\r\n\r\n              // Compare product and remainder.\r\n              // If product > remainder then trial digit n too high.\r\n              // n is 1 too high about 5% of the time, and is not known to have\r\n              // ever been more than 1 too high.\r\n              while (compare(prod, rem, prodL, remL) == 1) {\r\n                n--;\r\n\r\n                // Subtract divisor from product.\r\n                subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                prodL = prod.length;\r\n                cmp = 1;\r\n              }\r\n            } else {\r\n\r\n              // n is 0 or 1, cmp is -1.\r\n              // If n is 0, there is no need to compare yc and rem again below,\r\n              // so change cmp to 1 to avoid it.\r\n              // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n              if (n == 0) {\r\n\r\n                // divisor < remainder, so n must be at least 1.\r\n                cmp = n = 1;\r\n              }\r\n\r\n              // product = divisor\r\n              prod = yc.slice();\r\n              prodL = prod.length;\r\n            }\r\n\r\n            if (prodL < remL) prod = [0].concat(prod);\r\n\r\n            // Subtract product from remainder.\r\n            subtract(rem, prod, remL, base);\r\n            remL = rem.length;\r\n\r\n             // If product was < remainder.\r\n            if (cmp == -1) {\r\n\r\n              // Compare divisor and new remainder.\r\n              // If divisor < new remainder, subtract divisor from remainder.\r\n              // Trial digit n too low.\r\n              // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n              while (compare(yc, rem, yL, remL) < 1) {\r\n                n++;\r\n\r\n                // Subtract divisor from remainder.\r\n                subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                remL = rem.length;\r\n              }\r\n            }\r\n          } else if (cmp === 0) {\r\n            n++;\r\n            rem = [0];\r\n          } // else cmp === 1 and n will be 0\r\n\r\n          // Add the next digit, n, to the result array.\r\n          qc[i++] = n;\r\n\r\n          // Update the remainder.\r\n          if (rem[0]) {\r\n            rem[remL++] = xc[xi] || 0;\r\n          } else {\r\n            rem = [xc[xi]];\r\n            remL = 1;\r\n          }\r\n        } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n        more = rem[0] != null;\r\n\r\n        // Leading zero?\r\n        if (!qc[0]) qc.splice(0, 1);\r\n      }\r\n\r\n      if (base == BASE) {\r\n\r\n        // To calculate q.e, first get the number of digits of qc[0].\r\n        for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n        round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n      // Caller is convertBase.\r\n      } else {\r\n        q.e = e;\r\n        q.r = +more;\r\n      }\r\n\r\n      return q;\r\n    };\r\n  })();\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n   * notation rounded to the specified decimal places or significant digits.\r\n   *\r\n   * n: a BigNumber.\r\n   * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n   * rm: the rounding mode.\r\n   * id: 1 (toExponential) or 2 (toPrecision).\r\n   */\r\n  function format(n, i, rm, id) {\r\n    var c0, e, ne, len, str;\r\n\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n\r\n    if (!n.c) return n.toString();\r\n\r\n    c0 = n.c[0];\r\n    ne = n.e;\r\n\r\n    if (i == null) {\r\n      str = coeffToString(n.c);\r\n      str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n       ? toExponential(str, ne)\r\n       : toFixedPoint(str, ne, '0');\r\n    } else {\r\n      n = round(new BigNumber(n), i, rm);\r\n\r\n      // n.e may have changed if the value was rounded up.\r\n      e = n.e;\r\n\r\n      str = coeffToString(n.c);\r\n      len = str.length;\r\n\r\n      // toPrecision returns exponential notation if the number of significant digits\r\n      // specified is less than the number of digits necessary to represent the integer\r\n      // part of the value in fixed-point notation.\r\n\r\n      // Exponential notation.\r\n      if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n        // Append zeros?\r\n        for (; len < i; str += '0', len++);\r\n        str = toExponential(str, e);\r\n\r\n      // Fixed-point notation.\r\n      } else {\r\n        i -= ne;\r\n        str = toFixedPoint(str, e, '0');\r\n\r\n        // Append zeros?\r\n        if (e + 1 > len) {\r\n          if (--i > 0) for (str += '.'; i--; str += '0');\r\n        } else {\r\n          i += e - len;\r\n          if (i > 0) {\r\n            if (e + 1 == len) str += '.';\r\n            for (; i--; str += '0');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return n.s < 0 && c0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // Handle BigNumber.max and BigNumber.min.\r\n  // If any number is NaN, return NaN.\r\n  function maxOrMin(args, n) {\r\n    var k, y,\r\n      i = 1,\r\n      x = new BigNumber(args[0]);\r\n\r\n    for (; i < args.length; i++) {\r\n      y = new BigNumber(args[i]);\r\n      if (!y.s || (k = compare(x, y)) === n || k === 0 && x.s === n) {\r\n        x = y;\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  /*\r\n   * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n   * Called by minus, plus and times.\r\n   */\r\n  function normalise(n, c, e) {\r\n    var i = 1,\r\n      j = c.length;\r\n\r\n     // Remove trailing zeros.\r\n    for (; !c[--j]; c.pop());\r\n\r\n    // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n    for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n    // Overflow?\r\n    if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n      // Infinity.\r\n      n.c = n.e = null;\r\n\r\n    // Underflow?\r\n    } else if (e < MIN_EXP) {\r\n\r\n      // Zero.\r\n      n.c = [n.e = 0];\r\n    } else {\r\n      n.e = e;\r\n      n.c = c;\r\n    }\r\n\r\n    return n;\r\n  }\r\n\r\n\r\n  // Handle values that fail the validity test in BigNumber.\r\n  parseNumeric = (function () {\r\n    var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n      dotAfter = /^([^.]+)\\.$/,\r\n      dotBefore = /^\\.([^.]+)$/,\r\n      isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n      whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n    return function (x, str, isNum, b) {\r\n      var base,\r\n        s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n      // No exception on ±Infinity or NaN.\r\n      if (isInfinityOrNaN.test(s)) {\r\n        x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n      } else {\r\n        if (!isNum) {\r\n\r\n          // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n          s = s.replace(basePrefix, function (m, p1, p2) {\r\n            base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n            return !b || b == base ? p1 : m;\r\n          });\r\n\r\n          if (b) {\r\n            base = b;\r\n\r\n            // E.g. '1.' to '1', '.1' to '0.1'\r\n            s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n          }\r\n\r\n          if (str != s) return new BigNumber(s, base);\r\n        }\r\n\r\n        // '[BigNumber Error] Not a number: {n}'\r\n        // '[BigNumber Error] Not a base {b} number: {n}'\r\n        if (BigNumber.DEBUG) {\r\n          throw Error\r\n            (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n        }\r\n\r\n        // NaN\r\n        x.s = null;\r\n      }\r\n\r\n      x.c = x.e = null;\r\n    }\r\n  })();\r\n\r\n\r\n  /*\r\n   * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n   * If r is truthy, it is known that there are more digits after the rounding digit.\r\n   */\r\n  function round(x, sd, rm, r) {\r\n    var d, i, j, k, n, ni, rd,\r\n      xc = x.c,\r\n      pows10 = POWS_TEN;\r\n\r\n    // if x is not Infinity or NaN...\r\n    if (xc) {\r\n\r\n      // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n      // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n      // ni is the index of n within x.c.\r\n      // d is the number of digits of n.\r\n      // i is the index of rd within n including leading zeros.\r\n      // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n      out: {\r\n\r\n        // Get the number of digits of the first element of xc.\r\n        for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n        i = sd - d;\r\n\r\n        // If the rounding digit is in the first element of xc...\r\n        if (i < 0) {\r\n          i += LOG_BASE;\r\n          j = sd;\r\n          n = xc[ni = 0];\r\n\r\n          // Get the rounding digit at index j of n.\r\n          rd = mathfloor(n / pows10[d - j - 1] % 10);\r\n        } else {\r\n          ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n          if (ni >= xc.length) {\r\n\r\n            if (r) {\r\n\r\n              // Needed by sqrt.\r\n              for (; xc.length <= ni; xc.push(0));\r\n              n = rd = 0;\r\n              d = 1;\r\n              i %= LOG_BASE;\r\n              j = i - LOG_BASE + 1;\r\n            } else {\r\n              break out;\r\n            }\r\n          } else {\r\n            n = k = xc[ni];\r\n\r\n            // Get the number of digits of n.\r\n            for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n            // Get the index of rd within n.\r\n            i %= LOG_BASE;\r\n\r\n            // Get the index of rd within n, adjusted for leading zeros.\r\n            // The number of leading zeros of n is given by LOG_BASE - d.\r\n            j = i - LOG_BASE + d;\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = j < 0 ? 0 : mathfloor(n / pows10[d - j - 1] % 10);\r\n          }\r\n        }\r\n\r\n        r = r || sd < 0 ||\r\n\r\n        // Are there any non-zero digits after the rounding digit?\r\n        // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n        // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n         xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n        r = rm < 4\r\n         ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n         : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n          // Check whether the digit to the left of the rounding digit is odd.\r\n          ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n           rm == (x.s < 0 ? 8 : 7));\r\n\r\n        if (sd < 1 || !xc[0]) {\r\n          xc.length = 0;\r\n\r\n          if (r) {\r\n\r\n            // Convert sd to decimal places.\r\n            sd -= x.e + 1;\r\n\r\n            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n            x.e = -sd || 0;\r\n          } else {\r\n\r\n            // Zero.\r\n            xc[0] = x.e = 0;\r\n          }\r\n\r\n          return x;\r\n        }\r\n\r\n        // Remove excess digits.\r\n        if (i == 0) {\r\n          xc.length = ni;\r\n          k = 1;\r\n          ni--;\r\n        } else {\r\n          xc.length = ni + 1;\r\n          k = pows10[LOG_BASE - i];\r\n\r\n          // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n          // j > 0 means i > number of leading zeros of n.\r\n          xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n        }\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          for (; ;) {\r\n\r\n            // If the digit to be rounded up is in the first element of xc...\r\n            if (ni == 0) {\r\n\r\n              // i will be the length of xc[0] before k is added.\r\n              for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n              j = xc[0] += k;\r\n              for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n              // if i != k the length has increased.\r\n              if (i != k) {\r\n                x.e++;\r\n                if (xc[0] == BASE) xc[0] = 1;\r\n              }\r\n\r\n              break;\r\n            } else {\r\n              xc[ni] += k;\r\n              if (xc[ni] != BASE) break;\r\n              xc[ni--] = 0;\r\n              k = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; xc[--i] === 0; xc.pop());\r\n      }\r\n\r\n      // Overflow? Infinity.\r\n      if (x.e > MAX_EXP) {\r\n        x.c = x.e = null;\r\n\r\n      // Underflow? Zero.\r\n      } else if (x.e < MIN_EXP) {\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  function valueOf(n) {\r\n    var str,\r\n      e = n.e;\r\n\r\n    if (e === null) return n.toString();\r\n\r\n    str = coeffToString(n.c);\r\n\r\n    str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n      ? toExponential(str, e)\r\n      : toFixedPoint(str, e, '0');\r\n\r\n    return n.s < 0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n   */\r\n  P.absoluteValue = P.abs = function () {\r\n    var x = new BigNumber(this);\r\n    if (x.s < 0) x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return\r\n   *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   *   0 if they have the same value,\r\n   *   or null if the value of either is NaN.\r\n   */\r\n  P.comparedTo = function (y, b) {\r\n    return compare(this, new BigNumber(y, b));\r\n  };\r\n\r\n\r\n  /*\r\n   * If dp is undefined or null or true or false, return the number of decimal places of the\r\n   * value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n   *\r\n   * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.decimalPlaces = P.dp = function (dp, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), dp + x.e + 1, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n    // Subtract the number of trailing zeros of the last number.\r\n    if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n    if (n < 0) n = 0;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n / 0 = I\r\n   *  n / N = N\r\n   *  n / I = 0\r\n   *  0 / n = 0\r\n   *  0 / 0 = N\r\n   *  0 / N = N\r\n   *  0 / I = 0\r\n   *  N / n = N\r\n   *  N / 0 = N\r\n   *  N / N = N\r\n   *  N / I = N\r\n   *  I / n = I\r\n   *  I / 0 = I\r\n   *  I / N = N\r\n   *  I / I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n   * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.dividedBy = P.div = function (y, b) {\r\n    return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n   * BigNumber by the value of BigNumber(y, b).\r\n   */\r\n  P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n    return div(this, new BigNumber(y, b), 0, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n   *\r\n   * If m is present, return the result modulo m.\r\n   * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n   *\r\n   * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n   * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n   *\r\n   * n {number|string|BigNumber} The exponent. An integer.\r\n   * [m] {number|string|BigNumber} The modulus.\r\n   *\r\n   * '[BigNumber Error] Exponent not an integer: {n}'\r\n   */\r\n  P.exponentiatedBy = P.pow = function (n, m) {\r\n    var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n      x = this;\r\n\r\n    n = new BigNumber(n);\r\n\r\n    // Allow NaN and ±Infinity, but not other non-integers.\r\n    if (n.c && !n.isInteger()) {\r\n      throw Error\r\n        (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n    }\r\n\r\n    if (m != null) m = new BigNumber(m);\r\n\r\n    // Exponent of MAX_SAFE_INTEGER is 15.\r\n    nIsBig = n.e > 14;\r\n\r\n    // If x is NaN, ±Infinity, ±0 or ±1, or n is ±Infinity, NaN or ±0.\r\n    if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n      // The sign of the result of pow when x is negative depends on the evenness of n.\r\n      // If +n overflows to ±Infinity, the evenness of n would be not be known.\r\n      y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? n.s * (2 - isOdd(n)) : +valueOf(n)));\r\n      return m ? y.mod(m) : y;\r\n    }\r\n\r\n    nIsNeg = n.s < 0;\r\n\r\n    if (m) {\r\n\r\n      // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n      if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n      isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n      if (isModExp) x = x.mod(m);\r\n\r\n    // Overflow to ±Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n    // Underflow to ±0: <=0.79**1e10 or <=0.9999975**1e15.\r\n    } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n      // [1, 240000000]\r\n      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n      // [80000000000000]  [99999750000000]\r\n      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n      // If x is negative and n is odd, k = -0, else k = 0.\r\n      k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n      // If x >= 1, k = ±Infinity.\r\n      if (x.e > -1) k = 1 / k;\r\n\r\n      // If n is negative return ±0, else return ±Infinity.\r\n      return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n    } else if (POW_PRECISION) {\r\n\r\n      // Truncating each coefficient array to a length of k after each multiplication\r\n      // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n      // i.e. there will be a minimum of 28 guard digits retained.\r\n      k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n    }\r\n\r\n    if (nIsBig) {\r\n      half = new BigNumber(0.5);\r\n      if (nIsNeg) n.s = 1;\r\n      nIsOdd = isOdd(n);\r\n    } else {\r\n      i = Math.abs(+valueOf(n));\r\n      nIsOdd = i % 2;\r\n    }\r\n\r\n    y = new BigNumber(ONE);\r\n\r\n    // Performs 54 loop iterations for n of 9007199254740991.\r\n    for (; ;) {\r\n\r\n      if (nIsOdd) {\r\n        y = y.times(x);\r\n        if (!y.c) break;\r\n\r\n        if (k) {\r\n          if (y.c.length > k) y.c.length = k;\r\n        } else if (isModExp) {\r\n          y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (i) {\r\n        i = mathfloor(i / 2);\r\n        if (i === 0) break;\r\n        nIsOdd = i % 2;\r\n      } else {\r\n        n = n.times(half);\r\n        round(n, n.e + 1, 1);\r\n\r\n        if (n.e > 14) {\r\n          nIsOdd = isOdd(n);\r\n        } else {\r\n          i = +valueOf(n);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        }\r\n      }\r\n\r\n      x = x.times(x);\r\n\r\n      if (k) {\r\n        if (x.c && x.c.length > k) x.c.length = k;\r\n      } else if (isModExp) {\r\n        x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n      }\r\n    }\r\n\r\n    if (isModExp) return y;\r\n    if (nIsNeg) y = ONE.div(y);\r\n\r\n    return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n   * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n   */\r\n  P.integerValue = function (rm) {\r\n    var n = new BigNumber(this);\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n    return round(n, n.e + 1, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isEqualTo = P.eq = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n   */\r\n  P.isFinite = function () {\r\n    return !!this.c;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isGreaterThan = P.gt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n   */\r\n  P.isInteger = function () {\r\n    return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isLessThan = P.lt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n   */\r\n  P.isNaN = function () {\r\n    return !this.s;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is negative, otherwise return false.\r\n   */\r\n  P.isNegative = function () {\r\n    return this.s < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is positive, otherwise return false.\r\n   */\r\n  P.isPositive = function () {\r\n    return this.s > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n   */\r\n  P.isZero = function () {\r\n    return !!this.c && this.c[0] == 0;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n - 0 = n\r\n   *  n - N = N\r\n   *  n - I = -I\r\n   *  0 - n = -n\r\n   *  0 - 0 = 0\r\n   *  0 - N = N\r\n   *  0 - I = -I\r\n   *  N - n = N\r\n   *  N - 0 = N\r\n   *  N - N = N\r\n   *  N - I = N\r\n   *  I - n = I\r\n   *  I - 0 = I\r\n   *  I - N = N\r\n   *  I - I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.minus = function (y, b) {\r\n    var i, j, t, xLTy,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Either Infinity?\r\n      if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n      // Either zero?\r\n      if (!xc[0] || !yc[0]) {\r\n\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n         // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n         ROUNDING_MODE == 3 ? -0 : 0);\r\n      }\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Determine which is the bigger number.\r\n    if (a = xe - ye) {\r\n\r\n      if (xLTy = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n\r\n      // Prepend zeros to equalise exponents.\r\n      for (b = a; b--; t.push(0));\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n\r\n        if (xc[b] != yc[b]) {\r\n          xLTy = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xLTy) {\r\n      t = xc;\r\n      xc = yc;\r\n      yc = t;\r\n      y.s = -y.s;\r\n    }\r\n\r\n    b = (j = yc.length) - (i = xc.length);\r\n\r\n    // Append zeros to xc if shorter.\r\n    // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n    if (b > 0) for (; b--; xc[i++] = 0);\r\n    b = BASE - 1;\r\n\r\n    // Subtract yc from xc.\r\n    for (; j > a;) {\r\n\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i]; xc[i] = b);\r\n        --xc[i];\r\n        xc[j] += BASE;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n    // Zero?\r\n    if (!xc[0]) {\r\n\r\n      // Following IEEE 754 (2008) 6.3,\r\n      // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n      y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n      y.c = [y.e = 0];\r\n      return y;\r\n    }\r\n\r\n    // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n    // for finite x and y.\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   *   n % 0 =  N\r\n   *   n % N =  N\r\n   *   n % I =  n\r\n   *   0 % n =  0\r\n   *  -0 % n = -0\r\n   *   0 % 0 =  N\r\n   *   0 % N =  N\r\n   *   0 % I =  0\r\n   *   N % n =  N\r\n   *   N % 0 =  N\r\n   *   N % N =  N\r\n   *   N % I =  N\r\n   *   I % n =  N\r\n   *   I % 0 =  N\r\n   *   I % N =  N\r\n   *   I % I =  N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n   * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n   */\r\n  P.modulo = P.mod = function (y, b) {\r\n    var q, s,\r\n      x = this;\r\n\r\n    y = new BigNumber(y, b);\r\n\r\n    // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n    if (!x.c || !y.s || y.c && !y.c[0]) {\r\n      return new BigNumber(NaN);\r\n\r\n    // Return x if y is Infinity or x is zero.\r\n    } else if (!y.c || x.c && !x.c[0]) {\r\n      return new BigNumber(x);\r\n    }\r\n\r\n    if (MODULO_MODE == 9) {\r\n\r\n      // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n      // r = x - qy    where  0 <= r < abs(y)\r\n      s = y.s;\r\n      y.s = 1;\r\n      q = div(x, y, 0, 3);\r\n      y.s = s;\r\n      q.s *= s;\r\n    } else {\r\n      q = div(x, y, 0, MODULO_MODE);\r\n    }\r\n\r\n    y = x.minus(q.times(y));\r\n\r\n    // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n    if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n * 0 = 0\r\n   *  n * N = N\r\n   *  n * I = I\r\n   *  0 * n = 0\r\n   *  0 * 0 = 0\r\n   *  0 * N = N\r\n   *  0 * I = N\r\n   *  N * n = N\r\n   *  N * 0 = N\r\n   *  N * N = N\r\n   *  N * I = N\r\n   *  I * n = I\r\n   *  I * 0 = N\r\n   *  I * N = N\r\n   *  I * I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n   * of BigNumber(y, b).\r\n   */\r\n  P.multipliedBy = P.times = function (y, b) {\r\n    var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n      base, sqrtBase,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new BigNumber(y, b)).c;\r\n\r\n    // Either NaN, ±Infinity or ±0?\r\n    if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n      // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n      if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n        y.c = y.e = y.s = null;\r\n      } else {\r\n        y.s *= x.s;\r\n\r\n        // Return ±Infinity if either is ±Infinity.\r\n        if (!xc || !yc) {\r\n          y.c = y.e = null;\r\n\r\n        // Return ±0 if either is ±0.\r\n        } else {\r\n          y.c = [0];\r\n          y.e = 0;\r\n        }\r\n      }\r\n\r\n      return y;\r\n    }\r\n\r\n    e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n    y.s *= x.s;\r\n    xcL = xc.length;\r\n    ycL = yc.length;\r\n\r\n    // Ensure xc points to longer array and xcL to its length.\r\n    if (xcL < ycL) {\r\n      zc = xc;\r\n      xc = yc;\r\n      yc = zc;\r\n      i = xcL;\r\n      xcL = ycL;\r\n      ycL = i;\r\n    }\r\n\r\n    // Initialise the result array with zeros.\r\n    for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n    base = BASE;\r\n    sqrtBase = SQRT_BASE;\r\n\r\n    for (i = ycL; --i >= 0;) {\r\n      c = 0;\r\n      ylo = yc[i] % sqrtBase;\r\n      yhi = yc[i] / sqrtBase | 0;\r\n\r\n      for (k = xcL, j = i + k; j > i;) {\r\n        xlo = xc[--k] % sqrtBase;\r\n        xhi = xc[k] / sqrtBase | 0;\r\n        m = yhi * xlo + xhi * ylo;\r\n        xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n        c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n        zc[j--] = xlo % base;\r\n      }\r\n\r\n      zc[j] = c;\r\n    }\r\n\r\n    if (c) {\r\n      ++e;\r\n    } else {\r\n      zc.splice(0, 1);\r\n    }\r\n\r\n    return normalise(y, zc, e);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n   * i.e. multiplied by -1.\r\n   */\r\n  P.negated = function () {\r\n    var x = new BigNumber(this);\r\n    x.s = -x.s || null;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n + 0 = n\r\n   *  n + N = N\r\n   *  n + I = I\r\n   *  0 + n = n\r\n   *  0 + 0 = 0\r\n   *  0 + N = N\r\n   *  0 + I = I\r\n   *  N + n = N\r\n   *  N + 0 = N\r\n   *  N + N = N\r\n   *  N + I = N\r\n   *  I + n = I\r\n   *  I + 0 = I\r\n   *  I + N = N\r\n   *  I + I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.plus = function (y, b) {\r\n    var t,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n     if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Return ±Infinity if either ±Infinity.\r\n      if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n      // Either zero?\r\n      // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n      if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--; t.push(0));\r\n      t.reverse();\r\n    }\r\n\r\n    a = xc.length;\r\n    b = yc.length;\r\n\r\n    // Point xc to the longer array, and b to the shorter length.\r\n    if (a - b < 0) {\r\n      t = yc;\r\n      yc = xc;\r\n      xc = t;\r\n      b = a;\r\n    }\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n    for (a = 0; b;) {\r\n      a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n      xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n    }\r\n\r\n    if (a) {\r\n      xc = [a].concat(xc);\r\n      ++ye;\r\n    }\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n    // ye = MAX_EXP + 1 possible\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   * If sd is undefined or null or true or false, return the number of significant digits of\r\n   * the value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n   * If sd is true include integer-part trailing zeros in the count.\r\n   *\r\n   * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n   *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.precision = P.sd = function (sd, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (sd != null && sd !== !!sd) {\r\n      intCheck(sd, 1, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), sd, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    v = c.length - 1;\r\n    n = v * LOG_BASE + 1;\r\n\r\n    if (v = c[v]) {\r\n\r\n      // Subtract the number of trailing zeros of the last element.\r\n      for (; v % 10 == 0; v /= 10, n--);\r\n\r\n      // Add the number of digits of the first element.\r\n      for (v = c[0]; v >= 10; v /= 10, n++);\r\n    }\r\n\r\n    if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n   * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n   *\r\n   * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n   */\r\n  P.shiftedBy = function (k) {\r\n    intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n    return this.times('1e' + k);\r\n  };\r\n\r\n\r\n  /*\r\n   *  sqrt(-n) =  N\r\n   *  sqrt(N) =  N\r\n   *  sqrt(-I) =  N\r\n   *  sqrt(I) =  I\r\n   *  sqrt(0) =  0\r\n   *  sqrt(-0) = -0\r\n   *\r\n   * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n   * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.squareRoot = P.sqrt = function () {\r\n    var m, n, r, rep, t,\r\n      x = this,\r\n      c = x.c,\r\n      s = x.s,\r\n      e = x.e,\r\n      dp = DECIMAL_PLACES + 4,\r\n      half = new BigNumber('0.5');\r\n\r\n    // Negative/NaN/Infinity/zero?\r\n    if (s !== 1 || !c || !c[0]) {\r\n      return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n    }\r\n\r\n    // Initial estimate.\r\n    s = Math.sqrt(+valueOf(x));\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n    if (s == 0 || s == 1 / 0) {\r\n      n = coeffToString(c);\r\n      if ((n.length + e) % 2 == 0) n += '0';\r\n      s = Math.sqrt(+n);\r\n      e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n      if (s == 1 / 0) {\r\n        n = '5e' + e;\r\n      } else {\r\n        n = s.toExponential();\r\n        n = n.slice(0, n.indexOf('e') + 1) + e;\r\n      }\r\n\r\n      r = new BigNumber(n);\r\n    } else {\r\n      r = new BigNumber(s + '');\r\n    }\r\n\r\n    // Check for zero.\r\n    // r could be zero if MIN_EXP is changed after the this value was created.\r\n    // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n    // coeffToString to throw.\r\n    if (r.c[0]) {\r\n      e = r.e;\r\n      s = e + dp;\r\n      if (s < 3) s = 0;\r\n\r\n      // Newton-Raphson iteration.\r\n      for (; ;) {\r\n        t = r;\r\n        r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n        if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n          // The exponent of r may here be one less than the final result exponent,\r\n          // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n          // are indexed correctly.\r\n          if (r.e < e) --s;\r\n          n = n.slice(s - 3, s + 1);\r\n\r\n          // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n          // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n          // iteration.\r\n          if (n == '9999' || !rep && n == '4999') {\r\n\r\n            // On the first iteration only, check to see if rounding up gives the\r\n            // exact result as the nines may infinitely repeat.\r\n            if (!rep) {\r\n              round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n              if (t.times(t).eq(x)) {\r\n                r = t;\r\n                break;\r\n              }\r\n            }\r\n\r\n            dp += 4;\r\n            s += 4;\r\n            rep = 1;\r\n          } else {\r\n\r\n            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n            // result. If not, then there are further digits and m will be truthy.\r\n            if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n              // Truncate to the first rounding digit.\r\n              round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n              m = !r.times(r).eq(x);\r\n            }\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in exponential notation and\r\n   * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toExponential = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp++;\r\n    }\r\n    return format(this, dp, rm, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n   * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n   * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toFixed = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp = dp + this.e + 1;\r\n    }\r\n    return format(this, dp, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n   * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n   * of the format or FORMAT object (see BigNumber.set).\r\n   *\r\n   * The formatting object may contain some or all of the properties shown below.\r\n   *\r\n   * FORMAT = {\r\n   *   prefix: '',\r\n   *   groupSize: 3,\r\n   *   secondaryGroupSize: 0,\r\n   *   groupSeparator: ',',\r\n   *   decimalSeparator: '.',\r\n   *   fractionGroupSize: 0,\r\n   *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n   *   suffix: ''\r\n   * };\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   * [format] {object} Formatting options. See FORMAT pbject above.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   * '[BigNumber Error] Argument not an object: {format}'\r\n   */\r\n  P.toFormat = function (dp, rm, format) {\r\n    var str,\r\n      x = this;\r\n\r\n    if (format == null) {\r\n      if (dp != null && rm && typeof rm == 'object') {\r\n        format = rm;\r\n        rm = null;\r\n      } else if (dp && typeof dp == 'object') {\r\n        format = dp;\r\n        dp = rm = null;\r\n      } else {\r\n        format = FORMAT;\r\n      }\r\n    } else if (typeof format != 'object') {\r\n      throw Error\r\n        (bignumberError + 'Argument not an object: ' + format);\r\n    }\r\n\r\n    str = x.toFixed(dp, rm);\r\n\r\n    if (x.c) {\r\n      var i,\r\n        arr = str.split('.'),\r\n        g1 = +format.groupSize,\r\n        g2 = +format.secondaryGroupSize,\r\n        groupSeparator = format.groupSeparator || '',\r\n        intPart = arr[0],\r\n        fractionPart = arr[1],\r\n        isNeg = x.s < 0,\r\n        intDigits = isNeg ? intPart.slice(1) : intPart,\r\n        len = intDigits.length;\r\n\r\n      if (g2) {\r\n        i = g1;\r\n        g1 = g2;\r\n        g2 = i;\r\n        len -= i;\r\n      }\r\n\r\n      if (g1 > 0 && len > 0) {\r\n        i = len % g1 || g1;\r\n        intPart = intDigits.substr(0, i);\r\n        for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n        if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n        if (isNeg) intPart = '-' + intPart;\r\n      }\r\n\r\n      str = fractionPart\r\n       ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n        ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n         '$&' + (format.fractionGroupSeparator || ''))\r\n        : fractionPart)\r\n       : intPart;\r\n    }\r\n\r\n    return (format.prefix || '') + str + (format.suffix || '');\r\n  };\r\n\r\n\r\n  /*\r\n   * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n   * fraction with an integer numerator and an integer denominator.\r\n   * The denominator will be a positive non-zero value less than or equal to the specified\r\n   * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n   * the lowest value necessary to represent the number exactly.\r\n   *\r\n   * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n   *\r\n   * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n   */\r\n  P.toFraction = function (md) {\r\n    var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n      x = this,\r\n      xc = x.c;\r\n\r\n    if (md != null) {\r\n      n = new BigNumber(md);\r\n\r\n      // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n      if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n        throw Error\r\n          (bignumberError + 'Argument ' +\r\n            (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n      }\r\n    }\r\n\r\n    if (!xc) return new BigNumber(x);\r\n\r\n    d = new BigNumber(ONE);\r\n    n1 = d0 = new BigNumber(ONE);\r\n    d1 = n0 = new BigNumber(ONE);\r\n    s = coeffToString(xc);\r\n\r\n    // Determine initial denominator.\r\n    // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n    e = d.e = s.length - x.e - 1;\r\n    d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n    md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n    exp = MAX_EXP;\r\n    MAX_EXP = 1 / 0;\r\n    n = new BigNumber(s);\r\n\r\n    // n0 = d1 = 0\r\n    n0.c[0] = 0;\r\n\r\n    for (; ;)  {\r\n      q = div(n, d, 0, 1);\r\n      d2 = d0.plus(q.times(d1));\r\n      if (d2.comparedTo(md) == 1) break;\r\n      d0 = d1;\r\n      d1 = d2;\r\n      n1 = n0.plus(q.times(d2 = n1));\r\n      n0 = d2;\r\n      d = n.minus(q.times(d2 = d));\r\n      n = d2;\r\n    }\r\n\r\n    d2 = div(md.minus(d0), d1, 0, 1);\r\n    n0 = n0.plus(d2.times(n1));\r\n    d0 = d0.plus(d2.times(d1));\r\n    n0.s = n1.s = x.s;\r\n    e = e * 2;\r\n\r\n    // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n    r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n        div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n    MAX_EXP = exp;\r\n\r\n    return r;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return the value of this BigNumber converted to a number primitive.\r\n   */\r\n  P.toNumber = function () {\r\n    return +valueOf(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n   * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n   * necessary to represent the integer part of the value in fixed-point notation, then use\r\n   * exponential notation.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.toPrecision = function (sd, rm) {\r\n    if (sd != null) intCheck(sd, 1, MAX);\r\n    return format(this, sd, rm, 2);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n   * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n   * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n   * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n   * TO_EXP_NEG, return exponential notation.\r\n   *\r\n   * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n   *\r\n   * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n   */\r\n  P.toString = function (b) {\r\n    var str,\r\n      n = this,\r\n      s = n.s,\r\n      e = n.e;\r\n\r\n    // Infinity or NaN?\r\n    if (e === null) {\r\n      if (s) {\r\n        str = 'Infinity';\r\n        if (s < 0) str = '-' + str;\r\n      } else {\r\n        str = 'NaN';\r\n      }\r\n    } else {\r\n      if (b == null) {\r\n        str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n         ? toExponential(coeffToString(n.c), e)\r\n         : toFixedPoint(coeffToString(n.c), e, '0');\r\n      } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n        n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n        str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n      } else {\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n        str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n      }\r\n\r\n      if (s < 0 && n.c[0]) str = '-' + str;\r\n    }\r\n\r\n    return str;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return as toString, but do not accept a base argument, and include the minus sign for\r\n   * negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return valueOf(this);\r\n  };\r\n\r\n\r\n  P._isBigNumber = true;\r\n\r\n  P[Symbol.toStringTag] = 'BigNumber';\r\n\r\n  // Node.js v10.12.0+\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;\r\n\r\n  if (configObject != null) BigNumber.set(configObject);\r\n\r\n  return BigNumber;\r\n}\r\n\r\n\r\n// PRIVATE HELPER FUNCTIONS\r\n\r\n// These functions don't need access to variables,\r\n// e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\nfunction bitFloor(n) {\r\n  var i = n | 0;\r\n  return n > 0 || n === i ? i : i - 1;\r\n}\r\n\r\n\r\n// Return a coefficient array as a string of base 10 digits.\r\nfunction coeffToString(a) {\r\n  var s, z,\r\n    i = 1,\r\n    j = a.length,\r\n    r = a[0] + '';\r\n\r\n  for (; i < j;) {\r\n    s = a[i++] + '';\r\n    z = LOG_BASE - s.length;\r\n    for (; z--; s = '0' + s);\r\n    r += s;\r\n  }\r\n\r\n  // Determine trailing zeros.\r\n  for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n  return r.slice(0, j + 1 || 1);\r\n}\r\n\r\n\r\n// Compare the value of BigNumbers x and y.\r\nfunction compare(x, y) {\r\n  var a, b,\r\n    xc = x.c,\r\n    yc = y.c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either NaN?\r\n  if (!i || !j) return null;\r\n\r\n  a = xc && !xc[0];\r\n  b = yc && !yc[0];\r\n\r\n  // Either zero?\r\n  if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  a = i < 0;\r\n  b = k == l;\r\n\r\n  // Either Infinity?\r\n  if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n  // Compare exponents.\r\n  if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n}\r\n\r\n\r\n/*\r\n * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n */\r\nfunction intCheck(n, min, max, name) {\r\n  if (n < min || n > max || n !== mathfloor(n)) {\r\n    throw Error\r\n     (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n       ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n       : ' not a primitive number: ') + String(n));\r\n  }\r\n}\r\n\r\n\r\n// Assumes finite n.\r\nfunction isOdd(n) {\r\n  var k = n.c.length - 1;\r\n  return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n}\r\n\r\n\r\nfunction toExponential(str, e) {\r\n  return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n   (e < 0 ? 'e' : 'e+') + e;\r\n}\r\n\r\n\r\nfunction toFixedPoint(str, e, z) {\r\n  var len, zs;\r\n\r\n  // Negative exponent?\r\n  if (e < 0) {\r\n\r\n    // Prepend zeros.\r\n    for (zs = z + '.'; ++e; zs += z);\r\n    str = zs + str;\r\n\r\n  // Positive exponent\r\n  } else {\r\n    len = str.length;\r\n\r\n    // Append zeros.\r\n    if (++e > len) {\r\n      for (zs = z, e -= len; --e; zs += z);\r\n      str += zs;\r\n    } else if (e < len) {\r\n      str = str.slice(0, e) + '.' + str.slice(e);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n\r\n// EXPORT\r\n\r\n\r\nexport var BigNumber = clone();\r\n\r\nexport default BigNumber;\r\n","// src/index.ts\nvar SplayTreeNode = class {\n  key;\n  left = null;\n  right = null;\n  constructor(key) {\n    this.key = key;\n  }\n};\nvar SplayTreeSetNode = class extends SplayTreeNode {\n  constructor(key) {\n    super(key);\n  }\n};\nvar SplayTreeMapNode = class _SplayTreeMapNode extends SplayTreeNode {\n  value;\n  constructor(key, value) {\n    super(key);\n    this.value = value;\n  }\n  replaceValue(value) {\n    const node = new _SplayTreeMapNode(this.key, value);\n    node.left = this.left;\n    node.right = this.right;\n    return node;\n  }\n};\nvar SplayTree = class {\n  size = 0;\n  modificationCount = 0;\n  splayCount = 0;\n  splay(key) {\n    const root = this.root;\n    if (root == null) {\n      this.compare(key, key);\n      return -1;\n    }\n    let right = null;\n    let newTreeRight = null;\n    let left = null;\n    let newTreeLeft = null;\n    let current = root;\n    const compare = this.compare;\n    let comp;\n    while (true) {\n      comp = compare(current.key, key);\n      if (comp > 0) {\n        let currentLeft = current.left;\n        if (currentLeft == null) break;\n        comp = compare(currentLeft.key, key);\n        if (comp > 0) {\n          current.left = currentLeft.right;\n          currentLeft.right = current;\n          current = currentLeft;\n          currentLeft = current.left;\n          if (currentLeft == null) break;\n        }\n        if (right == null) {\n          newTreeRight = current;\n        } else {\n          right.left = current;\n        }\n        right = current;\n        current = currentLeft;\n      } else if (comp < 0) {\n        let currentRight = current.right;\n        if (currentRight == null) break;\n        comp = compare(currentRight.key, key);\n        if (comp < 0) {\n          current.right = currentRight.left;\n          currentRight.left = current;\n          current = currentRight;\n          currentRight = current.right;\n          if (currentRight == null) break;\n        }\n        if (left == null) {\n          newTreeLeft = current;\n        } else {\n          left.right = current;\n        }\n        left = current;\n        current = currentRight;\n      } else {\n        break;\n      }\n    }\n    if (left != null) {\n      left.right = current.left;\n      current.left = newTreeLeft;\n    }\n    if (right != null) {\n      right.left = current.right;\n      current.right = newTreeRight;\n    }\n    if (this.root !== current) {\n      this.root = current;\n      this.splayCount++;\n    }\n    return comp;\n  }\n  splayMin(node) {\n    let current = node;\n    let nextLeft = current.left;\n    while (nextLeft != null) {\n      const left = nextLeft;\n      current.left = left.right;\n      left.right = current;\n      current = left;\n      nextLeft = current.left;\n    }\n    return current;\n  }\n  splayMax(node) {\n    let current = node;\n    let nextRight = current.right;\n    while (nextRight != null) {\n      const right = nextRight;\n      current.right = right.left;\n      right.left = current;\n      current = right;\n      nextRight = current.right;\n    }\n    return current;\n  }\n  _delete(key) {\n    if (this.root == null) return null;\n    const comp = this.splay(key);\n    if (comp != 0) return null;\n    let root = this.root;\n    const result = root;\n    const left = root.left;\n    this.size--;\n    if (left == null) {\n      this.root = root.right;\n    } else {\n      const right = root.right;\n      root = this.splayMax(left);\n      root.right = right;\n      this.root = root;\n    }\n    this.modificationCount++;\n    return result;\n  }\n  addNewRoot(node, comp) {\n    this.size++;\n    this.modificationCount++;\n    const root = this.root;\n    if (root == null) {\n      this.root = node;\n      return;\n    }\n    if (comp < 0) {\n      node.left = root;\n      node.right = root.right;\n      root.right = null;\n    } else {\n      node.right = root;\n      node.left = root.left;\n      root.left = null;\n    }\n    this.root = node;\n  }\n  _first() {\n    const root = this.root;\n    if (root == null) return null;\n    this.root = this.splayMin(root);\n    return this.root;\n  }\n  _last() {\n    const root = this.root;\n    if (root == null) return null;\n    this.root = this.splayMax(root);\n    return this.root;\n  }\n  clear() {\n    this.root = null;\n    this.size = 0;\n    this.modificationCount++;\n  }\n  has(key) {\n    return this.validKey(key) && this.splay(key) == 0;\n  }\n  defaultCompare() {\n    return (a, b) => a < b ? -1 : a > b ? 1 : 0;\n  }\n  wrap() {\n    return {\n      getRoot: () => {\n        return this.root;\n      },\n      setRoot: (root) => {\n        this.root = root;\n      },\n      getSize: () => {\n        return this.size;\n      },\n      getModificationCount: () => {\n        return this.modificationCount;\n      },\n      getSplayCount: () => {\n        return this.splayCount;\n      },\n      setSplayCount: (count) => {\n        this.splayCount = count;\n      },\n      splay: (key) => {\n        return this.splay(key);\n      },\n      has: (key) => {\n        return this.has(key);\n      }\n    };\n  }\n};\nvar SplayTreeMap = class extends SplayTree {\n  root = null;\n  compare;\n  validKey;\n  constructor(compare, isValidKey) {\n    super();\n    this.compare = compare ?? this.defaultCompare();\n    this.validKey = isValidKey ?? ((a) => a != null && a != void 0);\n  }\n  delete(key) {\n    if (!this.validKey(key)) return false;\n    return this._delete(key) != null;\n  }\n  forEach(f) {\n    const nodes = new SplayTreeMapEntryIterableIterator(this.wrap());\n    let result;\n    while (result = nodes.next(), !result.done) {\n      f(result.value[1], result.value[0], this);\n    }\n  }\n  get(key) {\n    if (!this.validKey(key)) return void 0;\n    if (this.root != null) {\n      const comp = this.splay(key);\n      if (comp == 0) {\n        return this.root.value;\n      }\n    }\n    return void 0;\n  }\n  hasValue(value) {\n    const initialSplayCount = this.splayCount;\n    const visit = (node) => {\n      while (node != null) {\n        if (node.value == value) return true;\n        if (initialSplayCount != this.splayCount) {\n          throw \"Concurrent modification during iteration.\";\n        }\n        if (node.right != null && visit(node.right)) {\n          return true;\n        }\n        node = node.left;\n      }\n      return false;\n    };\n    return visit(this.root);\n  }\n  set(key, value) {\n    const comp = this.splay(key);\n    if (comp == 0) {\n      this.root = this.root.replaceValue(value);\n      this.splayCount += 1;\n      return this;\n    }\n    this.addNewRoot(new SplayTreeMapNode(key, value), comp);\n    return this;\n  }\n  setAll(other) {\n    other.forEach((value, key) => {\n      this.set(key, value);\n    });\n  }\n  setIfAbsent(key, ifAbsent) {\n    let comp = this.splay(key);\n    if (comp == 0) {\n      return this.root.value;\n    }\n    const modificationCount = this.modificationCount;\n    const splayCount = this.splayCount;\n    const value = ifAbsent();\n    if (modificationCount != this.modificationCount) {\n      throw \"Concurrent modification during iteration.\";\n    }\n    if (splayCount != this.splayCount) {\n      comp = this.splay(key);\n    }\n    this.addNewRoot(new SplayTreeMapNode(key, value), comp);\n    return value;\n  }\n  isEmpty() {\n    return this.root == null;\n  }\n  isNotEmpty() {\n    return !this.isEmpty();\n  }\n  firstKey() {\n    if (this.root == null) return null;\n    return this._first().key;\n  }\n  lastKey() {\n    if (this.root == null) return null;\n    return this._last().key;\n  }\n  lastKeyBefore(key) {\n    if (key == null) throw \"Invalid arguments(s)\";\n    if (this.root == null) return null;\n    const comp = this.splay(key);\n    if (comp < 0) return this.root.key;\n    let node = this.root.left;\n    if (node == null) return null;\n    let nodeRight = node.right;\n    while (nodeRight != null) {\n      node = nodeRight;\n      nodeRight = node.right;\n    }\n    return node.key;\n  }\n  firstKeyAfter(key) {\n    if (key == null) throw \"Invalid arguments(s)\";\n    if (this.root == null) return null;\n    const comp = this.splay(key);\n    if (comp > 0) return this.root.key;\n    let node = this.root.right;\n    if (node == null) return null;\n    let nodeLeft = node.left;\n    while (nodeLeft != null) {\n      node = nodeLeft;\n      nodeLeft = node.left;\n    }\n    return node.key;\n  }\n  update(key, update, ifAbsent) {\n    let comp = this.splay(key);\n    if (comp == 0) {\n      const modificationCount = this.modificationCount;\n      const splayCount = this.splayCount;\n      const newValue = update(this.root.value);\n      if (modificationCount != this.modificationCount) {\n        throw \"Concurrent modification during iteration.\";\n      }\n      if (splayCount != this.splayCount) {\n        this.splay(key);\n      }\n      this.root = this.root.replaceValue(newValue);\n      this.splayCount += 1;\n      return newValue;\n    }\n    if (ifAbsent != null) {\n      const modificationCount = this.modificationCount;\n      const splayCount = this.splayCount;\n      const newValue = ifAbsent();\n      if (modificationCount != this.modificationCount) {\n        throw \"Concurrent modification during iteration.\";\n      }\n      if (splayCount != this.splayCount) {\n        comp = this.splay(key);\n      }\n      this.addNewRoot(new SplayTreeMapNode(key, newValue), comp);\n      return newValue;\n    }\n    throw \"Invalid argument (key): Key not in map.\";\n  }\n  updateAll(update) {\n    const root = this.root;\n    if (root == null) return;\n    const iterator = new SplayTreeMapEntryIterableIterator(this.wrap());\n    let node;\n    while (node = iterator.next(), !node.done) {\n      const newValue = update(...node.value);\n      iterator.replaceValue(newValue);\n    }\n  }\n  keys() {\n    return new SplayTreeKeyIterableIterator(this.wrap());\n  }\n  values() {\n    return new SplayTreeValueIterableIterator(this.wrap());\n  }\n  entries() {\n    return this[Symbol.iterator]();\n  }\n  [Symbol.iterator]() {\n    return new SplayTreeMapEntryIterableIterator(this.wrap());\n  }\n  [Symbol.toStringTag] = \"[object Map]\";\n};\nvar SplayTreeSet = class _SplayTreeSet extends SplayTree {\n  root = null;\n  compare;\n  validKey;\n  constructor(compare, isValidKey) {\n    super();\n    this.compare = compare ?? this.defaultCompare();\n    this.validKey = isValidKey ?? ((v) => v != null && v != void 0);\n  }\n  delete(element) {\n    if (!this.validKey(element)) return false;\n    return this._delete(element) != null;\n  }\n  deleteAll(elements) {\n    for (const element of elements) {\n      this.delete(element);\n    }\n  }\n  forEach(f) {\n    const nodes = this[Symbol.iterator]();\n    let result;\n    while (result = nodes.next(), !result.done) {\n      f(result.value, result.value, this);\n    }\n  }\n  add(element) {\n    const compare = this.splay(element);\n    if (compare != 0) this.addNewRoot(new SplayTreeSetNode(element), compare);\n    return this;\n  }\n  addAndReturn(element) {\n    const compare = this.splay(element);\n    if (compare != 0) this.addNewRoot(new SplayTreeSetNode(element), compare);\n    return this.root.key;\n  }\n  addAll(elements) {\n    for (const element of elements) {\n      this.add(element);\n    }\n  }\n  isEmpty() {\n    return this.root == null;\n  }\n  isNotEmpty() {\n    return this.root != null;\n  }\n  single() {\n    if (this.size == 0) throw \"Bad state: No element\";\n    if (this.size > 1) throw \"Bad state: Too many element\";\n    return this.root.key;\n  }\n  first() {\n    if (this.size == 0) throw \"Bad state: No element\";\n    return this._first().key;\n  }\n  last() {\n    if (this.size == 0) throw \"Bad state: No element\";\n    return this._last().key;\n  }\n  lastBefore(element) {\n    if (element == null) throw \"Invalid arguments(s)\";\n    if (this.root == null) return null;\n    const comp = this.splay(element);\n    if (comp < 0) return this.root.key;\n    let node = this.root.left;\n    if (node == null) return null;\n    let nodeRight = node.right;\n    while (nodeRight != null) {\n      node = nodeRight;\n      nodeRight = node.right;\n    }\n    return node.key;\n  }\n  firstAfter(element) {\n    if (element == null) throw \"Invalid arguments(s)\";\n    if (this.root == null) return null;\n    const comp = this.splay(element);\n    if (comp > 0) return this.root.key;\n    let node = this.root.right;\n    if (node == null) return null;\n    let nodeLeft = node.left;\n    while (nodeLeft != null) {\n      node = nodeLeft;\n      nodeLeft = node.left;\n    }\n    return node.key;\n  }\n  retainAll(elements) {\n    const retainSet = new _SplayTreeSet(this.compare, this.validKey);\n    const modificationCount = this.modificationCount;\n    for (const object of elements) {\n      if (modificationCount != this.modificationCount) {\n        throw \"Concurrent modification during iteration.\";\n      }\n      if (this.validKey(object) && this.splay(object) == 0) {\n        retainSet.add(this.root.key);\n      }\n    }\n    if (retainSet.size != this.size) {\n      this.root = retainSet.root;\n      this.size = retainSet.size;\n      this.modificationCount++;\n    }\n  }\n  lookup(object) {\n    if (!this.validKey(object)) return null;\n    const comp = this.splay(object);\n    if (comp != 0) return null;\n    return this.root.key;\n  }\n  intersection(other) {\n    const result = new _SplayTreeSet(this.compare, this.validKey);\n    for (const element of this) {\n      if (other.has(element)) result.add(element);\n    }\n    return result;\n  }\n  difference(other) {\n    const result = new _SplayTreeSet(this.compare, this.validKey);\n    for (const element of this) {\n      if (!other.has(element)) result.add(element);\n    }\n    return result;\n  }\n  union(other) {\n    const u = this.clone();\n    u.addAll(other);\n    return u;\n  }\n  clone() {\n    const set = new _SplayTreeSet(this.compare, this.validKey);\n    set.size = this.size;\n    set.root = this.copyNode(this.root);\n    return set;\n  }\n  copyNode(node) {\n    if (node == null) return null;\n    function copyChildren(node2, dest) {\n      let left;\n      let right;\n      do {\n        left = node2.left;\n        right = node2.right;\n        if (left != null) {\n          const newLeft = new SplayTreeSetNode(left.key);\n          dest.left = newLeft;\n          copyChildren(left, newLeft);\n        }\n        if (right != null) {\n          const newRight = new SplayTreeSetNode(right.key);\n          dest.right = newRight;\n          node2 = right;\n          dest = newRight;\n        }\n      } while (right != null);\n    }\n    const result = new SplayTreeSetNode(node.key);\n    copyChildren(node, result);\n    return result;\n  }\n  toSet() {\n    return this.clone();\n  }\n  entries() {\n    return new SplayTreeSetEntryIterableIterator(this.wrap());\n  }\n  keys() {\n    return this[Symbol.iterator]();\n  }\n  values() {\n    return this[Symbol.iterator]();\n  }\n  [Symbol.iterator]() {\n    return new SplayTreeKeyIterableIterator(this.wrap());\n  }\n  [Symbol.toStringTag] = \"[object Set]\";\n};\nvar SplayTreeIterableIterator = class {\n  tree;\n  path = new Array();\n  modificationCount = null;\n  splayCount;\n  constructor(tree) {\n    this.tree = tree;\n    this.splayCount = tree.getSplayCount();\n  }\n  [Symbol.iterator]() {\n    return this;\n  }\n  next() {\n    if (this.moveNext()) return { done: false, value: this.current() };\n    return { done: true, value: null };\n  }\n  current() {\n    if (!this.path.length) return null;\n    const node = this.path[this.path.length - 1];\n    return this.getValue(node);\n  }\n  rebuildPath(key) {\n    this.path.splice(0, this.path.length);\n    this.tree.splay(key);\n    this.path.push(this.tree.getRoot());\n    this.splayCount = this.tree.getSplayCount();\n  }\n  findLeftMostDescendent(node) {\n    while (node != null) {\n      this.path.push(node);\n      node = node.left;\n    }\n  }\n  moveNext() {\n    if (this.modificationCount != this.tree.getModificationCount()) {\n      if (this.modificationCount == null) {\n        this.modificationCount = this.tree.getModificationCount();\n        let node2 = this.tree.getRoot();\n        while (node2 != null) {\n          this.path.push(node2);\n          node2 = node2.left;\n        }\n        return this.path.length > 0;\n      }\n      throw \"Concurrent modification during iteration.\";\n    }\n    if (!this.path.length) return false;\n    if (this.splayCount != this.tree.getSplayCount()) {\n      this.rebuildPath(this.path[this.path.length - 1].key);\n    }\n    let node = this.path[this.path.length - 1];\n    let next = node.right;\n    if (next != null) {\n      while (next != null) {\n        this.path.push(next);\n        next = next.left;\n      }\n      return true;\n    }\n    this.path.pop();\n    while (this.path.length && this.path[this.path.length - 1].right === node) {\n      node = this.path.pop();\n    }\n    return this.path.length > 0;\n  }\n};\nvar SplayTreeKeyIterableIterator = class extends SplayTreeIterableIterator {\n  getValue(node) {\n    return node.key;\n  }\n};\nvar SplayTreeSetEntryIterableIterator = class extends SplayTreeIterableIterator {\n  getValue(node) {\n    return [node.key, node.key];\n  }\n};\nvar SplayTreeValueIterableIterator = class extends SplayTreeIterableIterator {\n  constructor(map) {\n    super(map);\n  }\n  getValue(node) {\n    return node.value;\n  }\n};\nvar SplayTreeMapEntryIterableIterator = class extends SplayTreeIterableIterator {\n  constructor(map) {\n    super(map);\n  }\n  getValue(node) {\n    return [node.key, node.value];\n  }\n  replaceValue(value) {\n    if (this.modificationCount != this.tree.getModificationCount()) {\n      throw \"Concurrent modification during iteration.\";\n    }\n    if (this.splayCount != this.tree.getSplayCount()) {\n      this.rebuildPath(this.path[this.path.length - 1].key);\n    }\n    const last = this.path.pop();\n    const newLast = last.replaceValue(value);\n    if (!this.path.length) {\n      this.tree.setRoot(newLast);\n    } else {\n      const parent = this.path[this.path.length - 1];\n      if (last === parent.left) {\n        parent.left = newLast;\n      } else {\n        parent.right = newLast;\n      }\n    }\n    this.path.push(newLast);\n    const count = this.tree.getSplayCount() + 1;\n    this.tree.setSplayCount(count);\n    this.splayCount = count;\n  }\n};\nexport {\n  SplayTreeMap,\n  SplayTreeSet\n};\n//# sourceMappingURL=index.js.map","// src/geom-in.ts\nimport BigNumber2 from \"bignumber.js\";\n\n// src/constant.ts\nvar constant_default = (x) => {\n  return () => {\n    return x;\n  };\n};\n\n// src/compare.ts\nvar compare_default = (eps) => {\n  const almostEqual = eps ? (a, b) => b.minus(a).abs().isLessThanOrEqualTo(eps) : constant_default(false);\n  return (a, b) => {\n    if (almostEqual(a, b)) return 0;\n    return a.comparedTo(b);\n  };\n};\n\n// src/orient.ts\nfunction orient_default(eps) {\n  const almostCollinear = eps ? (area2, ax, ay, cx, cy) => area2.exponentiatedBy(2).isLessThanOrEqualTo(\n    cx.minus(ax).exponentiatedBy(2).plus(cy.minus(ay).exponentiatedBy(2)).times(eps)\n  ) : constant_default(false);\n  return (a, b, c) => {\n    const ax = a.x, ay = a.y, cx = c.x, cy = c.y;\n    const area2 = ay.minus(cy).times(b.x.minus(cx)).minus(ax.minus(cx).times(b.y.minus(cy)));\n    if (almostCollinear(area2, ax, ay, cx, cy)) return 0;\n    return area2.comparedTo(0);\n  };\n}\n\n// src/snap.ts\nimport BigNumber from \"bignumber.js\";\nimport { SplayTreeSet } from \"splaytree-ts\";\n\n// src/identity.ts\nvar identity_default = (x) => {\n  return x;\n};\n\n// src/snap.ts\nvar snap_default = (eps) => {\n  if (eps) {\n    const xTree = new SplayTreeSet(compare_default(eps));\n    const yTree = new SplayTreeSet(compare_default(eps));\n    const snapCoord = (coord, tree) => {\n      return tree.addAndReturn(coord);\n    };\n    const snap = (v) => {\n      return {\n        x: snapCoord(v.x, xTree),\n        y: snapCoord(v.y, yTree)\n      };\n    };\n    snap({ x: new BigNumber(0), y: new BigNumber(0) });\n    return snap;\n  }\n  return identity_default;\n};\n\n// src/precision.ts\nvar set = (eps) => {\n  return {\n    set: (eps2) => {\n      precision = set(eps2);\n    },\n    reset: () => set(eps),\n    compare: compare_default(eps),\n    snap: snap_default(eps),\n    orient: orient_default(eps)\n  };\n};\nvar precision = set();\n\n// src/bbox.ts\nvar isInBbox = (bbox, point) => {\n  return bbox.ll.x.isLessThanOrEqualTo(point.x) && point.x.isLessThanOrEqualTo(bbox.ur.x) && bbox.ll.y.isLessThanOrEqualTo(point.y) && point.y.isLessThanOrEqualTo(bbox.ur.y);\n};\nvar getBboxOverlap = (b1, b2) => {\n  if (b2.ur.x.isLessThan(b1.ll.x) || b1.ur.x.isLessThan(b2.ll.x) || b2.ur.y.isLessThan(b1.ll.y) || b1.ur.y.isLessThan(b2.ll.y))\n    return null;\n  const lowerX = b1.ll.x.isLessThan(b2.ll.x) ? b2.ll.x : b1.ll.x;\n  const upperX = b1.ur.x.isLessThan(b2.ur.x) ? b1.ur.x : b2.ur.x;\n  const lowerY = b1.ll.y.isLessThan(b2.ll.y) ? b2.ll.y : b1.ll.y;\n  const upperY = b1.ur.y.isLessThan(b2.ur.y) ? b1.ur.y : b2.ur.y;\n  return { ll: { x: lowerX, y: lowerY }, ur: { x: upperX, y: upperY } };\n};\n\n// src/operation.ts\nimport { SplayTreeSet as SplayTreeSet3 } from \"splaytree-ts\";\n\n// src/vector.ts\nvar crossProduct = (a, b) => a.x.times(b.y).minus(a.y.times(b.x));\nvar dotProduct = (a, b) => a.x.times(b.x).plus(a.y.times(b.y));\nvar length = (v) => dotProduct(v, v).sqrt();\nvar sineOfAngle = (pShared, pBase, pAngle) => {\n  const vBase = { x: pBase.x.minus(pShared.x), y: pBase.y.minus(pShared.y) };\n  const vAngle = { x: pAngle.x.minus(pShared.x), y: pAngle.y.minus(pShared.y) };\n  return crossProduct(vAngle, vBase).div(length(vAngle)).div(length(vBase));\n};\nvar cosineOfAngle = (pShared, pBase, pAngle) => {\n  const vBase = { x: pBase.x.minus(pShared.x), y: pBase.y.minus(pShared.y) };\n  const vAngle = { x: pAngle.x.minus(pShared.x), y: pAngle.y.minus(pShared.y) };\n  return dotProduct(vAngle, vBase).div(length(vAngle)).div(length(vBase));\n};\nvar horizontalIntersection = (pt, v, y) => {\n  if (v.y.isZero()) return null;\n  return { x: pt.x.plus(v.x.div(v.y).times(y.minus(pt.y))), y };\n};\nvar verticalIntersection = (pt, v, x) => {\n  if (v.x.isZero()) return null;\n  return { x, y: pt.y.plus(v.y.div(v.x).times(x.minus(pt.x))) };\n};\nvar intersection = (pt1, v1, pt2, v2) => {\n  if (v1.x.isZero()) return verticalIntersection(pt2, v2, pt1.x);\n  if (v2.x.isZero()) return verticalIntersection(pt1, v1, pt2.x);\n  if (v1.y.isZero()) return horizontalIntersection(pt2, v2, pt1.y);\n  if (v2.y.isZero()) return horizontalIntersection(pt1, v1, pt2.y);\n  const kross = crossProduct(v1, v2);\n  if (kross.isZero()) return null;\n  const ve = { x: pt2.x.minus(pt1.x), y: pt2.y.minus(pt1.y) };\n  const d1 = crossProduct(ve, v1).div(kross);\n  const d2 = crossProduct(ve, v2).div(kross);\n  const x1 = pt1.x.plus(d2.times(v1.x)), x2 = pt2.x.plus(d1.times(v2.x));\n  const y1 = pt1.y.plus(d2.times(v1.y)), y2 = pt2.y.plus(d1.times(v2.y));\n  const x = x1.plus(x2).div(2);\n  const y = y1.plus(y2).div(2);\n  return { x, y };\n};\n\n// src/sweep-event.ts\nvar SweepEvent = class _SweepEvent {\n  point;\n  isLeft;\n  segment;\n  otherSE;\n  consumedBy;\n  // for ordering sweep events in the sweep event queue\n  static compare(a, b) {\n    const ptCmp = _SweepEvent.comparePoints(a.point, b.point);\n    if (ptCmp !== 0) return ptCmp;\n    if (a.point !== b.point) a.link(b);\n    if (a.isLeft !== b.isLeft) return a.isLeft ? 1 : -1;\n    return Segment.compare(a.segment, b.segment);\n  }\n  // for ordering points in sweep line order\n  static comparePoints(aPt, bPt) {\n    if (aPt.x.isLessThan(bPt.x)) return -1;\n    if (aPt.x.isGreaterThan(bPt.x)) return 1;\n    if (aPt.y.isLessThan(bPt.y)) return -1;\n    if (aPt.y.isGreaterThan(bPt.y)) return 1;\n    return 0;\n  }\n  // Warning: 'point' input will be modified and re-used (for performance)\n  constructor(point, isLeft) {\n    if (point.events === void 0) point.events = [this];\n    else point.events.push(this);\n    this.point = point;\n    this.isLeft = isLeft;\n  }\n  link(other) {\n    if (other.point === this.point) {\n      throw new Error(\"Tried to link already linked events\");\n    }\n    const otherEvents = other.point.events;\n    for (let i = 0, iMax = otherEvents.length; i < iMax; i++) {\n      const evt = otherEvents[i];\n      this.point.events.push(evt);\n      evt.point = this.point;\n    }\n    this.checkForConsuming();\n  }\n  /* Do a pass over our linked events and check to see if any pair\n   * of segments match, and should be consumed. */\n  checkForConsuming() {\n    const numEvents = this.point.events.length;\n    for (let i = 0; i < numEvents; i++) {\n      const evt1 = this.point.events[i];\n      if (evt1.segment.consumedBy !== void 0) continue;\n      for (let j = i + 1; j < numEvents; j++) {\n        const evt2 = this.point.events[j];\n        if (evt2.consumedBy !== void 0) continue;\n        if (evt1.otherSE.point.events !== evt2.otherSE.point.events) continue;\n        evt1.segment.consume(evt2.segment);\n      }\n    }\n  }\n  getAvailableLinkedEvents() {\n    const events = [];\n    for (let i = 0, iMax = this.point.events.length; i < iMax; i++) {\n      const evt = this.point.events[i];\n      if (evt !== this && !evt.segment.ringOut && evt.segment.isInResult()) {\n        events.push(evt);\n      }\n    }\n    return events;\n  }\n  /**\n   * Returns a comparator function for sorting linked events that will\n   * favor the event that will give us the smallest left-side angle.\n   * All ring construction starts as low as possible heading to the right,\n   * so by always turning left as sharp as possible we'll get polygons\n   * without uncessary loops & holes.\n   *\n   * The comparator function has a compute cache such that it avoids\n   * re-computing already-computed values.\n   */\n  getLeftmostComparator(baseEvent) {\n    const cache = /* @__PURE__ */ new Map();\n    const fillCache = (linkedEvent) => {\n      const nextEvent = linkedEvent.otherSE;\n      cache.set(linkedEvent, {\n        sine: sineOfAngle(this.point, baseEvent.point, nextEvent.point),\n        cosine: cosineOfAngle(this.point, baseEvent.point, nextEvent.point)\n      });\n    };\n    return (a, b) => {\n      if (!cache.has(a)) fillCache(a);\n      if (!cache.has(b)) fillCache(b);\n      const { sine: asine, cosine: acosine } = cache.get(a);\n      const { sine: bsine, cosine: bcosine } = cache.get(b);\n      if (asine.isGreaterThanOrEqualTo(0) && bsine.isGreaterThanOrEqualTo(0)) {\n        if (acosine.isLessThan(bcosine)) return 1;\n        if (acosine.isGreaterThan(bcosine)) return -1;\n        return 0;\n      }\n      if (asine.isLessThan(0) && bsine.isLessThan(0)) {\n        if (acosine.isLessThan(bcosine)) return -1;\n        if (acosine.isGreaterThan(bcosine)) return 1;\n        return 0;\n      }\n      if (bsine.isLessThan(asine)) return -1;\n      if (bsine.isGreaterThan(asine)) return 1;\n      return 0;\n    };\n  }\n};\n\n// src/geom-out.ts\nvar RingOut = class _RingOut {\n  events;\n  poly;\n  _isExteriorRing;\n  _enclosingRing;\n  /* Given the segments from the sweep line pass, compute & return a series\n   * of closed rings from all the segments marked to be part of the result */\n  static factory(allSegments) {\n    const ringsOut = [];\n    for (let i = 0, iMax = allSegments.length; i < iMax; i++) {\n      const segment = allSegments[i];\n      if (!segment.isInResult() || segment.ringOut) continue;\n      let prevEvent = null;\n      let event = segment.leftSE;\n      let nextEvent = segment.rightSE;\n      const events = [event];\n      const startingPoint = event.point;\n      const intersectionLEs = [];\n      while (true) {\n        prevEvent = event;\n        event = nextEvent;\n        events.push(event);\n        if (event.point === startingPoint) break;\n        while (true) {\n          const availableLEs = event.getAvailableLinkedEvents();\n          if (availableLEs.length === 0) {\n            const firstPt = events[0].point;\n            const lastPt = events[events.length - 1].point;\n            throw new Error(\n              `Unable to complete output ring starting at [${firstPt.x}, ${firstPt.y}]. Last matching segment found ends at [${lastPt.x}, ${lastPt.y}].`\n            );\n          }\n          if (availableLEs.length === 1) {\n            nextEvent = availableLEs[0].otherSE;\n            break;\n          }\n          let indexLE = null;\n          for (let j = 0, jMax = intersectionLEs.length; j < jMax; j++) {\n            if (intersectionLEs[j].point === event.point) {\n              indexLE = j;\n              break;\n            }\n          }\n          if (indexLE !== null) {\n            const intersectionLE = intersectionLEs.splice(indexLE)[0];\n            const ringEvents = events.splice(intersectionLE.index);\n            ringEvents.unshift(ringEvents[0].otherSE);\n            ringsOut.push(new _RingOut(ringEvents.reverse()));\n            continue;\n          }\n          intersectionLEs.push({\n            index: events.length,\n            point: event.point\n          });\n          const comparator = event.getLeftmostComparator(prevEvent);\n          nextEvent = availableLEs.sort(comparator)[0].otherSE;\n          break;\n        }\n      }\n      ringsOut.push(new _RingOut(events));\n    }\n    return ringsOut;\n  }\n  constructor(events) {\n    this.events = events;\n    for (let i = 0, iMax = events.length; i < iMax; i++) {\n      events[i].segment.ringOut = this;\n    }\n    this.poly = null;\n  }\n  getGeom() {\n    let prevPt = this.events[0].point;\n    const points = [prevPt];\n    for (let i = 1, iMax = this.events.length - 1; i < iMax; i++) {\n      const pt2 = this.events[i].point;\n      const nextPt2 = this.events[i + 1].point;\n      if (precision.orient(pt2, prevPt, nextPt2) === 0) continue;\n      points.push(pt2);\n      prevPt = pt2;\n    }\n    if (points.length === 1) return null;\n    const pt = points[0];\n    const nextPt = points[1];\n    if (precision.orient(pt, prevPt, nextPt) === 0) points.shift();\n    points.push(points[0]);\n    const step = this.isExteriorRing() ? 1 : -1;\n    const iStart = this.isExteriorRing() ? 0 : points.length - 1;\n    const iEnd = this.isExteriorRing() ? points.length : -1;\n    const orderedPoints = [];\n    for (let i = iStart; i != iEnd; i += step)\n      orderedPoints.push([points[i].x.toNumber(), points[i].y.toNumber()]);\n    return orderedPoints;\n  }\n  isExteriorRing() {\n    if (this._isExteriorRing === void 0) {\n      const enclosing = this.enclosingRing();\n      this._isExteriorRing = enclosing ? !enclosing.isExteriorRing() : true;\n    }\n    return this._isExteriorRing;\n  }\n  enclosingRing() {\n    if (this._enclosingRing === void 0) {\n      this._enclosingRing = this._calcEnclosingRing();\n    }\n    return this._enclosingRing;\n  }\n  /* Returns the ring that encloses this one, if any */\n  _calcEnclosingRing() {\n    let leftMostEvt = this.events[0];\n    for (let i = 1, iMax = this.events.length; i < iMax; i++) {\n      const evt = this.events[i];\n      if (SweepEvent.compare(leftMostEvt, evt) > 0) leftMostEvt = evt;\n    }\n    let prevSeg = leftMostEvt.segment.prevInResult();\n    let prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n    while (true) {\n      if (!prevSeg) return null;\n      if (!prevPrevSeg) return prevSeg.ringOut;\n      if (prevPrevSeg.ringOut !== prevSeg.ringOut) {\n        if (prevPrevSeg.ringOut?.enclosingRing() !== prevSeg.ringOut) {\n          return prevSeg.ringOut;\n        } else return prevSeg.ringOut?.enclosingRing();\n      }\n      prevSeg = prevPrevSeg.prevInResult();\n      prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n    }\n  }\n};\nvar PolyOut = class {\n  exteriorRing;\n  interiorRings;\n  constructor(exteriorRing) {\n    this.exteriorRing = exteriorRing;\n    exteriorRing.poly = this;\n    this.interiorRings = [];\n  }\n  addInterior(ring) {\n    this.interiorRings.push(ring);\n    ring.poly = this;\n  }\n  getGeom() {\n    const geom0 = this.exteriorRing.getGeom();\n    if (geom0 === null) return null;\n    const geom = [geom0];\n    for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n      const ringGeom = this.interiorRings[i].getGeom();\n      if (ringGeom === null) continue;\n      geom.push(ringGeom);\n    }\n    return geom;\n  }\n};\nvar MultiPolyOut = class {\n  rings;\n  polys;\n  constructor(rings) {\n    this.rings = rings;\n    this.polys = this._composePolys(rings);\n  }\n  getGeom() {\n    const geom = [];\n    for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n      const polyGeom = this.polys[i].getGeom();\n      if (polyGeom === null) continue;\n      geom.push(polyGeom);\n    }\n    return geom;\n  }\n  _composePolys(rings) {\n    const polys = [];\n    for (let i = 0, iMax = rings.length; i < iMax; i++) {\n      const ring = rings[i];\n      if (ring.poly) continue;\n      if (ring.isExteriorRing()) polys.push(new PolyOut(ring));\n      else {\n        const enclosingRing = ring.enclosingRing();\n        if (!enclosingRing?.poly) polys.push(new PolyOut(enclosingRing));\n        enclosingRing?.poly?.addInterior(ring);\n      }\n    }\n    return polys;\n  }\n};\n\n// src/sweep-line.ts\nimport { SplayTreeSet as SplayTreeSet2 } from \"splaytree-ts\";\nvar SweepLine = class {\n  queue;\n  tree;\n  segments;\n  constructor(queue, comparator = Segment.compare) {\n    this.queue = queue;\n    this.tree = new SplayTreeSet2(comparator);\n    this.segments = [];\n  }\n  process(event) {\n    const segment = event.segment;\n    const newEvents = [];\n    if (event.consumedBy) {\n      if (event.isLeft) this.queue.delete(event.otherSE);\n      else this.tree.delete(segment);\n      return newEvents;\n    }\n    if (event.isLeft) this.tree.add(segment);\n    let prevSeg = segment;\n    let nextSeg = segment;\n    do {\n      prevSeg = this.tree.lastBefore(prevSeg);\n    } while (prevSeg != null && prevSeg.consumedBy != void 0);\n    do {\n      nextSeg = this.tree.firstAfter(nextSeg);\n    } while (nextSeg != null && nextSeg.consumedBy != void 0);\n    if (event.isLeft) {\n      let prevMySplitter = null;\n      if (prevSeg) {\n        const prevInter = prevSeg.getIntersection(segment);\n        if (prevInter !== null) {\n          if (!segment.isAnEndpoint(prevInter)) prevMySplitter = prevInter;\n          if (!prevSeg.isAnEndpoint(prevInter)) {\n            const newEventsFromSplit = this._splitSafely(prevSeg, prevInter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n      let nextMySplitter = null;\n      if (nextSeg) {\n        const nextInter = nextSeg.getIntersection(segment);\n        if (nextInter !== null) {\n          if (!segment.isAnEndpoint(nextInter)) nextMySplitter = nextInter;\n          if (!nextSeg.isAnEndpoint(nextInter)) {\n            const newEventsFromSplit = this._splitSafely(nextSeg, nextInter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n      if (prevMySplitter !== null || nextMySplitter !== null) {\n        let mySplitter = null;\n        if (prevMySplitter === null) mySplitter = nextMySplitter;\n        else if (nextMySplitter === null) mySplitter = prevMySplitter;\n        else {\n          const cmpSplitters = SweepEvent.comparePoints(\n            prevMySplitter,\n            nextMySplitter\n          );\n          mySplitter = cmpSplitters <= 0 ? prevMySplitter : nextMySplitter;\n        }\n        this.queue.delete(segment.rightSE);\n        newEvents.push(segment.rightSE);\n        const newEventsFromSplit = segment.split(mySplitter);\n        for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n          newEvents.push(newEventsFromSplit[i]);\n        }\n      }\n      if (newEvents.length > 0) {\n        this.tree.delete(segment);\n        newEvents.push(event);\n      } else {\n        this.segments.push(segment);\n        segment.prev = prevSeg;\n      }\n    } else {\n      if (prevSeg && nextSeg) {\n        const inter = prevSeg.getIntersection(nextSeg);\n        if (inter !== null) {\n          if (!prevSeg.isAnEndpoint(inter)) {\n            const newEventsFromSplit = this._splitSafely(prevSeg, inter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n          if (!nextSeg.isAnEndpoint(inter)) {\n            const newEventsFromSplit = this._splitSafely(nextSeg, inter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n      this.tree.delete(segment);\n    }\n    return newEvents;\n  }\n  /* Safely split a segment that is currently in the datastructures\n   * IE - a segment other than the one that is currently being processed. */\n  _splitSafely(seg, pt) {\n    this.tree.delete(seg);\n    const rightSE = seg.rightSE;\n    this.queue.delete(rightSE);\n    const newEvents = seg.split(pt);\n    newEvents.push(rightSE);\n    if (seg.consumedBy === void 0) this.tree.add(seg);\n    return newEvents;\n  }\n};\n\n// src/operation.ts\nvar Operation = class {\n  type;\n  numMultiPolys;\n  run(type, geom, moreGeoms) {\n    operation.type = type;\n    const multipolys = [new MultiPolyIn(geom, true)];\n    for (let i = 0, iMax = moreGeoms.length; i < iMax; i++) {\n      multipolys.push(new MultiPolyIn(moreGeoms[i], false));\n    }\n    operation.numMultiPolys = multipolys.length;\n    if (operation.type === \"difference\") {\n      const subject = multipolys[0];\n      let i = 1;\n      while (i < multipolys.length) {\n        if (getBboxOverlap(multipolys[i].bbox, subject.bbox) !== null) i++;\n        else multipolys.splice(i, 1);\n      }\n    }\n    if (operation.type === \"intersection\") {\n      for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n        const mpA = multipolys[i];\n        for (let j = i + 1, jMax = multipolys.length; j < jMax; j++) {\n          if (getBboxOverlap(mpA.bbox, multipolys[j].bbox) === null) return [];\n        }\n      }\n    }\n    const queue = new SplayTreeSet3(SweepEvent.compare);\n    for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n      const sweepEvents = multipolys[i].getSweepEvents();\n      for (let j = 0, jMax = sweepEvents.length; j < jMax; j++) {\n        queue.add(sweepEvents[j]);\n      }\n    }\n    const sweepLine = new SweepLine(queue);\n    let evt = null;\n    if (queue.size != 0) {\n      evt = queue.first();\n      queue.delete(evt);\n    }\n    while (evt) {\n      const newEvents = sweepLine.process(evt);\n      for (let i = 0, iMax = newEvents.length; i < iMax; i++) {\n        const evt2 = newEvents[i];\n        if (evt2.consumedBy === void 0) queue.add(evt2);\n      }\n      if (queue.size != 0) {\n        evt = queue.first();\n        queue.delete(evt);\n      } else {\n        evt = null;\n      }\n    }\n    precision.reset();\n    const ringsOut = RingOut.factory(sweepLine.segments);\n    const result = new MultiPolyOut(ringsOut);\n    return result.getGeom();\n  }\n};\nvar operation = new Operation();\nvar operation_default = operation;\n\n// src/segment.ts\nvar segmentId = 0;\nvar Segment = class _Segment {\n  id;\n  leftSE;\n  rightSE;\n  rings;\n  windings;\n  ringOut;\n  consumedBy;\n  prev;\n  _prevInResult;\n  _beforeState;\n  _afterState;\n  _isInResult;\n  /* This compare() function is for ordering segments in the sweep\n   * line tree, and does so according to the following criteria:\n   *\n   * Consider the vertical line that lies an infinestimal step to the\n   * right of the right-more of the two left endpoints of the input\n   * segments. Imagine slowly moving a point up from negative infinity\n   * in the increasing y direction. Which of the two segments will that\n   * point intersect first? That segment comes 'before' the other one.\n   *\n   * If neither segment would be intersected by such a line, (if one\n   * or more of the segments are vertical) then the line to be considered\n   * is directly on the right-more of the two left inputs.\n   */\n  static compare(a, b) {\n    const alx = a.leftSE.point.x;\n    const blx = b.leftSE.point.x;\n    const arx = a.rightSE.point.x;\n    const brx = b.rightSE.point.x;\n    if (brx.isLessThan(alx)) return 1;\n    if (arx.isLessThan(blx)) return -1;\n    const aly = a.leftSE.point.y;\n    const bly = b.leftSE.point.y;\n    const ary = a.rightSE.point.y;\n    const bry = b.rightSE.point.y;\n    if (alx.isLessThan(blx)) {\n      if (bly.isLessThan(aly) && bly.isLessThan(ary)) return 1;\n      if (bly.isGreaterThan(aly) && bly.isGreaterThan(ary)) return -1;\n      const aCmpBLeft = a.comparePoint(b.leftSE.point);\n      if (aCmpBLeft < 0) return 1;\n      if (aCmpBLeft > 0) return -1;\n      const bCmpARight = b.comparePoint(a.rightSE.point);\n      if (bCmpARight !== 0) return bCmpARight;\n      return -1;\n    }\n    if (alx.isGreaterThan(blx)) {\n      if (aly.isLessThan(bly) && aly.isLessThan(bry)) return -1;\n      if (aly.isGreaterThan(bly) && aly.isGreaterThan(bry)) return 1;\n      const bCmpALeft = b.comparePoint(a.leftSE.point);\n      if (bCmpALeft !== 0) return bCmpALeft;\n      const aCmpBRight = a.comparePoint(b.rightSE.point);\n      if (aCmpBRight < 0) return 1;\n      if (aCmpBRight > 0) return -1;\n      return 1;\n    }\n    if (aly.isLessThan(bly)) return -1;\n    if (aly.isGreaterThan(bly)) return 1;\n    if (arx.isLessThan(brx)) {\n      const bCmpARight = b.comparePoint(a.rightSE.point);\n      if (bCmpARight !== 0) return bCmpARight;\n    }\n    if (arx.isGreaterThan(brx)) {\n      const aCmpBRight = a.comparePoint(b.rightSE.point);\n      if (aCmpBRight < 0) return 1;\n      if (aCmpBRight > 0) return -1;\n    }\n    if (!arx.eq(brx)) {\n      const ay = ary.minus(aly);\n      const ax = arx.minus(alx);\n      const by = bry.minus(bly);\n      const bx = brx.minus(blx);\n      if (ay.isGreaterThan(ax) && by.isLessThan(bx)) return 1;\n      if (ay.isLessThan(ax) && by.isGreaterThan(bx)) return -1;\n    }\n    if (arx.isGreaterThan(brx)) return 1;\n    if (arx.isLessThan(brx)) return -1;\n    if (ary.isLessThan(bry)) return -1;\n    if (ary.isGreaterThan(bry)) return 1;\n    if (a.id < b.id) return -1;\n    if (a.id > b.id) return 1;\n    return 0;\n  }\n  /* Warning: a reference to ringWindings input will be stored,\n   *  and possibly will be later modified */\n  constructor(leftSE, rightSE, rings, windings) {\n    this.id = ++segmentId;\n    this.leftSE = leftSE;\n    leftSE.segment = this;\n    leftSE.otherSE = rightSE;\n    this.rightSE = rightSE;\n    rightSE.segment = this;\n    rightSE.otherSE = leftSE;\n    this.rings = rings;\n    this.windings = windings;\n  }\n  static fromRing(pt1, pt2, ring) {\n    let leftPt, rightPt, winding;\n    const cmpPts = SweepEvent.comparePoints(pt1, pt2);\n    if (cmpPts < 0) {\n      leftPt = pt1;\n      rightPt = pt2;\n      winding = 1;\n    } else if (cmpPts > 0) {\n      leftPt = pt2;\n      rightPt = pt1;\n      winding = -1;\n    } else\n      throw new Error(\n        `Tried to create degenerate segment at [${pt1.x}, ${pt1.y}]`\n      );\n    const leftSE = new SweepEvent(leftPt, true);\n    const rightSE = new SweepEvent(rightPt, false);\n    return new _Segment(leftSE, rightSE, [ring], [winding]);\n  }\n  /* When a segment is split, the rightSE is replaced with a new sweep event */\n  replaceRightSE(newRightSE) {\n    this.rightSE = newRightSE;\n    this.rightSE.segment = this;\n    this.rightSE.otherSE = this.leftSE;\n    this.leftSE.otherSE = this.rightSE;\n  }\n  bbox() {\n    const y1 = this.leftSE.point.y;\n    const y2 = this.rightSE.point.y;\n    return {\n      ll: { x: this.leftSE.point.x, y: y1.isLessThan(y2) ? y1 : y2 },\n      ur: { x: this.rightSE.point.x, y: y1.isGreaterThan(y2) ? y1 : y2 }\n    };\n  }\n  /* A vector from the left point to the right */\n  vector() {\n    return {\n      x: this.rightSE.point.x.minus(this.leftSE.point.x),\n      y: this.rightSE.point.y.minus(this.leftSE.point.y)\n    };\n  }\n  isAnEndpoint(pt) {\n    return pt.x.eq(this.leftSE.point.x) && pt.y.eq(this.leftSE.point.y) || pt.x.eq(this.rightSE.point.x) && pt.y.eq(this.rightSE.point.y);\n  }\n  /* Compare this segment with a point.\n   *\n   * A point P is considered to be colinear to a segment if there\n   * exists a distance D such that if we travel along the segment\n   * from one * endpoint towards the other a distance D, we find\n   * ourselves at point P.\n   *\n   * Return value indicates:\n   *\n   *   1: point lies above the segment (to the left of vertical)\n   *   0: point is colinear to segment\n   *  -1: point lies below the segment (to the right of vertical)\n   */\n  comparePoint(point) {\n    return precision.orient(this.leftSE.point, point, this.rightSE.point);\n  }\n  /**\n   * Given another segment, returns the first non-trivial intersection\n   * between the two segments (in terms of sweep line ordering), if it exists.\n   *\n   * A 'non-trivial' intersection is one that will cause one or both of the\n   * segments to be split(). As such, 'trivial' vs. 'non-trivial' intersection:\n   *\n   *   * endpoint of segA with endpoint of segB --> trivial\n   *   * endpoint of segA with point along segB --> non-trivial\n   *   * endpoint of segB with point along segA --> non-trivial\n   *   * point along segA with point along segB --> non-trivial\n   *\n   * If no non-trivial intersection exists, return null\n   * Else, return null.\n   */\n  getIntersection(other) {\n    const tBbox = this.bbox();\n    const oBbox = other.bbox();\n    const bboxOverlap = getBboxOverlap(tBbox, oBbox);\n    if (bboxOverlap === null) return null;\n    const tlp = this.leftSE.point;\n    const trp = this.rightSE.point;\n    const olp = other.leftSE.point;\n    const orp = other.rightSE.point;\n    const touchesOtherLSE = isInBbox(tBbox, olp) && this.comparePoint(olp) === 0;\n    const touchesThisLSE = isInBbox(oBbox, tlp) && other.comparePoint(tlp) === 0;\n    const touchesOtherRSE = isInBbox(tBbox, orp) && this.comparePoint(orp) === 0;\n    const touchesThisRSE = isInBbox(oBbox, trp) && other.comparePoint(trp) === 0;\n    if (touchesThisLSE && touchesOtherLSE) {\n      if (touchesThisRSE && !touchesOtherRSE) return trp;\n      if (!touchesThisRSE && touchesOtherRSE) return orp;\n      return null;\n    }\n    if (touchesThisLSE) {\n      if (touchesOtherRSE) {\n        if (tlp.x.eq(orp.x) && tlp.y.eq(orp.y)) return null;\n      }\n      return tlp;\n    }\n    if (touchesOtherLSE) {\n      if (touchesThisRSE) {\n        if (trp.x.eq(olp.x) && trp.y.eq(olp.y)) return null;\n      }\n      return olp;\n    }\n    if (touchesThisRSE && touchesOtherRSE) return null;\n    if (touchesThisRSE) return trp;\n    if (touchesOtherRSE) return orp;\n    const pt = intersection(tlp, this.vector(), olp, other.vector());\n    if (pt === null) return null;\n    if (!isInBbox(bboxOverlap, pt)) return null;\n    return precision.snap(pt);\n  }\n  /**\n   * Split the given segment into multiple segments on the given points.\n   *  * Each existing segment will retain its leftSE and a new rightSE will be\n   *    generated for it.\n   *  * A new segment will be generated which will adopt the original segment's\n   *    rightSE, and a new leftSE will be generated for it.\n   *  * If there are more than two points given to split on, new segments\n   *    in the middle will be generated with new leftSE and rightSE's.\n   *  * An array of the newly generated SweepEvents will be returned.\n   *\n   * Warning: input array of points is modified\n   */\n  split(point) {\n    const newEvents = [];\n    const alreadyLinked = point.events !== void 0;\n    const newLeftSE = new SweepEvent(point, true);\n    const newRightSE = new SweepEvent(point, false);\n    const oldRightSE = this.rightSE;\n    this.replaceRightSE(newRightSE);\n    newEvents.push(newRightSE);\n    newEvents.push(newLeftSE);\n    const newSeg = new _Segment(\n      newLeftSE,\n      oldRightSE,\n      this.rings.slice(),\n      this.windings.slice()\n    );\n    if (SweepEvent.comparePoints(newSeg.leftSE.point, newSeg.rightSE.point) > 0) {\n      newSeg.swapEvents();\n    }\n    if (SweepEvent.comparePoints(this.leftSE.point, this.rightSE.point) > 0) {\n      this.swapEvents();\n    }\n    if (alreadyLinked) {\n      newLeftSE.checkForConsuming();\n      newRightSE.checkForConsuming();\n    }\n    return newEvents;\n  }\n  /* Swap which event is left and right */\n  swapEvents() {\n    const tmpEvt = this.rightSE;\n    this.rightSE = this.leftSE;\n    this.leftSE = tmpEvt;\n    this.leftSE.isLeft = true;\n    this.rightSE.isLeft = false;\n    for (let i = 0, iMax = this.windings.length; i < iMax; i++) {\n      this.windings[i] *= -1;\n    }\n  }\n  /* Consume another segment. We take their rings under our wing\n   * and mark them as consumed. Use for perfectly overlapping segments */\n  consume(other) {\n    let consumer = this;\n    let consumee = other;\n    while (consumer.consumedBy) consumer = consumer.consumedBy;\n    while (consumee.consumedBy) consumee = consumee.consumedBy;\n    const cmp = _Segment.compare(consumer, consumee);\n    if (cmp === 0) return;\n    if (cmp > 0) {\n      const tmp = consumer;\n      consumer = consumee;\n      consumee = tmp;\n    }\n    if (consumer.prev === consumee) {\n      const tmp = consumer;\n      consumer = consumee;\n      consumee = tmp;\n    }\n    for (let i = 0, iMax = consumee.rings.length; i < iMax; i++) {\n      const ring = consumee.rings[i];\n      const winding = consumee.windings[i];\n      const index = consumer.rings.indexOf(ring);\n      if (index === -1) {\n        consumer.rings.push(ring);\n        consumer.windings.push(winding);\n      } else consumer.windings[index] += winding;\n    }\n    consumee.rings = null;\n    consumee.windings = null;\n    consumee.consumedBy = consumer;\n    consumee.leftSE.consumedBy = consumer.leftSE;\n    consumee.rightSE.consumedBy = consumer.rightSE;\n  }\n  /* The first segment previous segment chain that is in the result */\n  prevInResult() {\n    if (this._prevInResult !== void 0) return this._prevInResult;\n    if (!this.prev) this._prevInResult = null;\n    else if (this.prev.isInResult()) this._prevInResult = this.prev;\n    else this._prevInResult = this.prev.prevInResult();\n    return this._prevInResult;\n  }\n  beforeState() {\n    if (this._beforeState !== void 0) return this._beforeState;\n    if (!this.prev)\n      this._beforeState = {\n        rings: [],\n        windings: [],\n        multiPolys: []\n      };\n    else {\n      const seg = this.prev.consumedBy || this.prev;\n      this._beforeState = seg.afterState();\n    }\n    return this._beforeState;\n  }\n  afterState() {\n    if (this._afterState !== void 0) return this._afterState;\n    const beforeState = this.beforeState();\n    this._afterState = {\n      rings: beforeState.rings.slice(0),\n      windings: beforeState.windings.slice(0),\n      multiPolys: []\n    };\n    const ringsAfter = this._afterState.rings;\n    const windingsAfter = this._afterState.windings;\n    const mpsAfter = this._afterState.multiPolys;\n    for (let i = 0, iMax = this.rings.length; i < iMax; i++) {\n      const ring = this.rings[i];\n      const winding = this.windings[i];\n      const index = ringsAfter.indexOf(ring);\n      if (index === -1) {\n        ringsAfter.push(ring);\n        windingsAfter.push(winding);\n      } else windingsAfter[index] += winding;\n    }\n    const polysAfter = [];\n    const polysExclude = [];\n    for (let i = 0, iMax = ringsAfter.length; i < iMax; i++) {\n      if (windingsAfter[i] === 0) continue;\n      const ring = ringsAfter[i];\n      const poly = ring.poly;\n      if (polysExclude.indexOf(poly) !== -1) continue;\n      if (ring.isExterior) polysAfter.push(poly);\n      else {\n        if (polysExclude.indexOf(poly) === -1) polysExclude.push(poly);\n        const index = polysAfter.indexOf(ring.poly);\n        if (index !== -1) polysAfter.splice(index, 1);\n      }\n    }\n    for (let i = 0, iMax = polysAfter.length; i < iMax; i++) {\n      const mp = polysAfter[i].multiPoly;\n      if (mpsAfter.indexOf(mp) === -1) mpsAfter.push(mp);\n    }\n    return this._afterState;\n  }\n  /* Is this segment part of the final result? */\n  isInResult() {\n    if (this.consumedBy) return false;\n    if (this._isInResult !== void 0) return this._isInResult;\n    const mpsBefore = this.beforeState().multiPolys;\n    const mpsAfter = this.afterState().multiPolys;\n    switch (operation_default.type) {\n      case \"union\": {\n        const noBefores = mpsBefore.length === 0;\n        const noAfters = mpsAfter.length === 0;\n        this._isInResult = noBefores !== noAfters;\n        break;\n      }\n      case \"intersection\": {\n        let least;\n        let most;\n        if (mpsBefore.length < mpsAfter.length) {\n          least = mpsBefore.length;\n          most = mpsAfter.length;\n        } else {\n          least = mpsAfter.length;\n          most = mpsBefore.length;\n        }\n        this._isInResult = most === operation_default.numMultiPolys && least < most;\n        break;\n      }\n      case \"xor\": {\n        const diff = Math.abs(mpsBefore.length - mpsAfter.length);\n        this._isInResult = diff % 2 === 1;\n        break;\n      }\n      case \"difference\": {\n        const isJustSubject = (mps) => mps.length === 1 && mps[0].isSubject;\n        this._isInResult = isJustSubject(mpsBefore) !== isJustSubject(mpsAfter);\n        break;\n      }\n    }\n    return this._isInResult;\n  }\n};\n\n// src/geom-in.ts\nvar RingIn = class {\n  poly;\n  isExterior;\n  segments;\n  bbox;\n  constructor(geomRing, poly, isExterior) {\n    if (!Array.isArray(geomRing) || geomRing.length === 0) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    this.poly = poly;\n    this.isExterior = isExterior;\n    this.segments = [];\n    if (typeof geomRing[0][0] !== \"number\" || typeof geomRing[0][1] !== \"number\") {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    const firstPoint = precision.snap({ x: new BigNumber2(geomRing[0][0]), y: new BigNumber2(geomRing[0][1]) });\n    this.bbox = {\n      ll: { x: firstPoint.x, y: firstPoint.y },\n      ur: { x: firstPoint.x, y: firstPoint.y }\n    };\n    let prevPoint = firstPoint;\n    for (let i = 1, iMax = geomRing.length; i < iMax; i++) {\n      if (typeof geomRing[i][0] !== \"number\" || typeof geomRing[i][1] !== \"number\") {\n        throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n      }\n      const point = precision.snap({ x: new BigNumber2(geomRing[i][0]), y: new BigNumber2(geomRing[i][1]) });\n      if (point.x.eq(prevPoint.x) && point.y.eq(prevPoint.y)) continue;\n      this.segments.push(Segment.fromRing(prevPoint, point, this));\n      if (point.x.isLessThan(this.bbox.ll.x)) this.bbox.ll.x = point.x;\n      if (point.y.isLessThan(this.bbox.ll.y)) this.bbox.ll.y = point.y;\n      if (point.x.isGreaterThan(this.bbox.ur.x)) this.bbox.ur.x = point.x;\n      if (point.y.isGreaterThan(this.bbox.ur.y)) this.bbox.ur.y = point.y;\n      prevPoint = point;\n    }\n    if (!firstPoint.x.eq(prevPoint.x) || !firstPoint.y.eq(prevPoint.y)) {\n      this.segments.push(Segment.fromRing(prevPoint, firstPoint, this));\n    }\n  }\n  getSweepEvents() {\n    const sweepEvents = [];\n    for (let i = 0, iMax = this.segments.length; i < iMax; i++) {\n      const segment = this.segments[i];\n      sweepEvents.push(segment.leftSE);\n      sweepEvents.push(segment.rightSE);\n    }\n    return sweepEvents;\n  }\n};\nvar PolyIn = class {\n  multiPoly;\n  exteriorRing;\n  interiorRings;\n  bbox;\n  constructor(geomPoly, multiPoly) {\n    if (!Array.isArray(geomPoly)) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    this.exteriorRing = new RingIn(geomPoly[0], this, true);\n    this.bbox = {\n      ll: { x: this.exteriorRing.bbox.ll.x, y: this.exteriorRing.bbox.ll.y },\n      ur: { x: this.exteriorRing.bbox.ur.x, y: this.exteriorRing.bbox.ur.y }\n    };\n    this.interiorRings = [];\n    for (let i = 1, iMax = geomPoly.length; i < iMax; i++) {\n      const ring = new RingIn(geomPoly[i], this, false);\n      if (ring.bbox.ll.x.isLessThan(this.bbox.ll.x)) this.bbox.ll.x = ring.bbox.ll.x;\n      if (ring.bbox.ll.y.isLessThan(this.bbox.ll.y)) this.bbox.ll.y = ring.bbox.ll.y;\n      if (ring.bbox.ur.x.isGreaterThan(this.bbox.ur.x)) this.bbox.ur.x = ring.bbox.ur.x;\n      if (ring.bbox.ur.y.isGreaterThan(this.bbox.ur.y)) this.bbox.ur.y = ring.bbox.ur.y;\n      this.interiorRings.push(ring);\n    }\n    this.multiPoly = multiPoly;\n  }\n  getSweepEvents() {\n    const sweepEvents = this.exteriorRing.getSweepEvents();\n    for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n      const ringSweepEvents = this.interiorRings[i].getSweepEvents();\n      for (let j = 0, jMax = ringSweepEvents.length; j < jMax; j++) {\n        sweepEvents.push(ringSweepEvents[j]);\n      }\n    }\n    return sweepEvents;\n  }\n};\nvar MultiPolyIn = class {\n  isSubject;\n  polys;\n  bbox;\n  constructor(geom, isSubject) {\n    if (!Array.isArray(geom)) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    try {\n      if (typeof geom[0][0][0] === \"number\") geom = [geom];\n    } catch (ex) {\n    }\n    this.polys = [];\n    this.bbox = {\n      ll: { x: new BigNumber2(Number.POSITIVE_INFINITY), y: new BigNumber2(Number.POSITIVE_INFINITY) },\n      ur: { x: new BigNumber2(Number.NEGATIVE_INFINITY), y: new BigNumber2(Number.NEGATIVE_INFINITY) }\n    };\n    for (let i = 0, iMax = geom.length; i < iMax; i++) {\n      const poly = new PolyIn(geom[i], this);\n      if (poly.bbox.ll.x.isLessThan(this.bbox.ll.x)) this.bbox.ll.x = poly.bbox.ll.x;\n      if (poly.bbox.ll.y.isLessThan(this.bbox.ll.y)) this.bbox.ll.y = poly.bbox.ll.y;\n      if (poly.bbox.ur.x.isGreaterThan(this.bbox.ur.x)) this.bbox.ur.x = poly.bbox.ur.x;\n      if (poly.bbox.ur.y.isGreaterThan(this.bbox.ur.y)) this.bbox.ur.y = poly.bbox.ur.y;\n      this.polys.push(poly);\n    }\n    this.isSubject = isSubject;\n  }\n  getSweepEvents() {\n    const sweepEvents = [];\n    for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n      const polySweepEvents = this.polys[i].getSweepEvents();\n      for (let j = 0, jMax = polySweepEvents.length; j < jMax; j++) {\n        sweepEvents.push(polySweepEvents[j]);\n      }\n    }\n    return sweepEvents;\n  }\n};\n\n// src/index.ts\nvar union = (geom, ...moreGeoms) => operation_default.run(\"union\", geom, moreGeoms);\nvar intersection2 = (geom, ...moreGeoms) => operation_default.run(\"intersection\", geom, moreGeoms);\nvar xor = (geom, ...moreGeoms) => operation_default.run(\"xor\", geom, moreGeoms);\nvar difference = (geom, ...moreGeoms) => operation_default.run(\"difference\", geom, moreGeoms);\nvar setPrecision = precision.set;\nexport {\n  difference,\n  intersection2 as intersection,\n  setPrecision,\n  union,\n  xor\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport * as polyclip from \"polyclip-ts\";\nimport { polygon, multiPolygon } from \"@turf/helpers\";\nimport { geomEach } from \"@turf/meta\";\nfunction difference2(features) {\n  const geoms = [];\n  geomEach(features, (geom) => {\n    geoms.push(geom.coordinates);\n  });\n  if (geoms.length < 2) {\n    throw new Error(\"Must have at least two features\");\n  }\n  const properties = features.features[0].properties || {};\n  const differenced = polyclip.difference(geoms[0], ...geoms.slice(1));\n  if (differenced.length === 0) return null;\n  if (differenced.length === 1) return polygon(differenced[0], properties);\n  return multiPolygon(differenced, properties);\n}\nvar turf_difference_default = difference2;\nexport {\n  turf_difference_default as default,\n  difference2 as difference\n};\n//# sourceMappingURL=index.js.map","// index.js\nimport rbush from \"rbush\";\nimport { featureCollection } from \"@turf/helpers\";\nimport { featureEach } from \"@turf/meta\";\nimport { bbox as turfBBox } from \"@turf/bbox\";\nfunction geojsonRbush(maxEntries) {\n  var tree = new rbush(maxEntries);\n  tree.insert = function(feature) {\n    if (feature.type !== \"Feature\") throw new Error(\"invalid feature\");\n    feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n    return rbush.prototype.insert.call(this, feature);\n  };\n  tree.load = function(features) {\n    var load = [];\n    if (Array.isArray(features)) {\n      features.forEach(function(feature) {\n        if (feature.type !== \"Feature\") throw new Error(\"invalid features\");\n        feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n        load.push(feature);\n      });\n    } else {\n      featureEach(features, function(feature) {\n        if (feature.type !== \"Feature\") throw new Error(\"invalid features\");\n        feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n        load.push(feature);\n      });\n    }\n    return rbush.prototype.load.call(this, load);\n  };\n  tree.remove = function(feature, equals) {\n    if (feature.type !== \"Feature\") throw new Error(\"invalid feature\");\n    feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n    return rbush.prototype.remove.call(this, feature, equals);\n  };\n  tree.clear = function() {\n    return rbush.prototype.clear.call(this);\n  };\n  tree.search = function(geojson) {\n    var features = rbush.prototype.search.call(this, this.toBBox(geojson));\n    return featureCollection(features);\n  };\n  tree.collides = function(geojson) {\n    return rbush.prototype.collides.call(this, this.toBBox(geojson));\n  };\n  tree.all = function() {\n    var features = rbush.prototype.all.call(this);\n    return featureCollection(features);\n  };\n  tree.toJSON = function() {\n    return rbush.prototype.toJSON.call(this);\n  };\n  tree.fromJSON = function(json) {\n    return rbush.prototype.fromJSON.call(this, json);\n  };\n  tree.toBBox = function(geojson) {\n    var bbox;\n    if (geojson.bbox) bbox = geojson.bbox;\n    else if (Array.isArray(geojson) && geojson.length === 4) bbox = geojson;\n    else if (Array.isArray(geojson) && geojson.length === 6)\n      bbox = [geojson[0], geojson[1], geojson[3], geojson[4]];\n    else if (geojson.type === \"Feature\") bbox = turfBBox(geojson);\n    else if (geojson.type === \"FeatureCollection\") bbox = turfBBox(geojson);\n    else throw new Error(\"invalid geojson\");\n    return {\n      minX: bbox[0],\n      minY: bbox[1],\n      maxX: bbox[2],\n      maxY: bbox[3]\n    };\n  };\n  return tree;\n}\nvar turf_geojson_rbush_default = geojsonRbush;\nexport {\n  turf_geojson_rbush_default as default,\n  geojsonRbush\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { distance } from \"@turf/distance\";\nfunction square(bbox) {\n  var west = bbox[0];\n  var south = bbox[1];\n  var east = bbox[2];\n  var north = bbox[3];\n  var horizontalDistance = distance(bbox.slice(0, 2), [east, south]);\n  var verticalDistance = distance(bbox.slice(0, 2), [west, north]);\n  if (horizontalDistance >= verticalDistance) {\n    var verticalMidpoint = (south + north) / 2;\n    return [\n      west,\n      verticalMidpoint - (east - west) / 2,\n      east,\n      verticalMidpoint + (east - west) / 2\n    ];\n  } else {\n    var horizontalMidpoint = (west + east) / 2;\n    return [\n      horizontalMidpoint - (north - south) / 2,\n      south,\n      horizontalMidpoint + (north - south) / 2,\n      north\n    ];\n  }\n}\nvar turf_square_default = square;\nexport {\n  turf_square_default as default,\n  square\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { coordEach } from \"@turf/meta\";\nimport { isObject } from \"@turf/helpers\";\nfunction truncate(geojson, options) {\n  options = options != null ? options : {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var precision = options.precision;\n  var coordinates = options.coordinates;\n  var mutate = options.mutate;\n  precision = precision === void 0 || precision === null || isNaN(precision) ? 6 : precision;\n  coordinates = coordinates === void 0 || coordinates === null || isNaN(coordinates) ? 3 : coordinates;\n  if (!geojson) throw new Error(\"<geojson> is required\");\n  if (typeof precision !== \"number\")\n    throw new Error(\"<precision> must be a number\");\n  if (typeof coordinates !== \"number\")\n    throw new Error(\"<coordinates> must be a number\");\n  if (mutate === false || mutate === void 0)\n    geojson = JSON.parse(JSON.stringify(geojson));\n  var factor = Math.pow(10, precision);\n  coordEach(geojson, function(coords) {\n    truncateCoords(coords, factor, coordinates);\n  });\n  return geojson;\n}\nfunction truncateCoords(coords, factor, coordinates) {\n  if (coords.length > coordinates) coords.splice(coordinates, coords.length);\n  for (var i = 0; i < coords.length; i++) {\n    coords[i] = Math.round(coords[i] * factor) / factor;\n  }\n  return coords;\n}\nvar turf_truncate_default = truncate;\nexport {\n  turf_truncate_default as default,\n  truncate\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { featureCollection, lineString } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\nimport { flattenEach } from \"@turf/meta\";\nfunction lineSegment(geojson) {\n  if (!geojson) {\n    throw new Error(\"geojson is required\");\n  }\n  const results = [];\n  flattenEach(geojson, (feature) => {\n    lineSegmentFeature(feature, results);\n  });\n  return featureCollection(results);\n}\nfunction lineSegmentFeature(geojson, results) {\n  let coords = [];\n  const geometry = geojson.geometry;\n  if (geometry !== null) {\n    switch (geometry.type) {\n      case \"Polygon\":\n        coords = getCoords(geometry);\n        break;\n      case \"LineString\":\n        coords = [getCoords(geometry)];\n    }\n    coords.forEach((coord) => {\n      const segments = createSegments(coord, geojson.properties);\n      segments.forEach((segment) => {\n        segment.id = results.length;\n        results.push(segment);\n      });\n    });\n  }\n}\nfunction createSegments(coords, properties) {\n  const segments = [];\n  coords.reduce((previousCoords, currentCoords) => {\n    const segment = lineString([previousCoords, currentCoords], properties);\n    segment.bbox = bbox(previousCoords, currentCoords);\n    segments.push(segment);\n    return currentCoords;\n  });\n  return segments;\n}\nfunction bbox(coords1, coords2) {\n  const x1 = coords1[0];\n  const y1 = coords1[1];\n  const x2 = coords2[0];\n  const y2 = coords2[1];\n  const west = x1 < x2 ? x1 : x2;\n  const south = y1 < y2 ? y1 : y2;\n  const east = x1 > x2 ? x1 : x2;\n  const north = y1 > y2 ? y1 : y2;\n  return [west, south, east, north];\n}\nvar turf_line_segment_default = lineSegment;\nexport {\n  turf_line_segment_default as default,\n  lineSegment\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// index.ts\nimport { distance } from \"@turf/distance\";\nimport { flattenEach } from \"@turf/meta\";\nimport {\n  point,\n  degreesToRadians,\n  radiansToDegrees\n} from \"@turf/helpers\";\nimport { getCoord, getCoords } from \"@turf/invariant\";\nfunction nearestPointOnLine(lines, pt, options = {}) {\n  if (!lines || !pt) {\n    throw new Error(\"lines and pt are required arguments\");\n  }\n  const ptPos = getCoord(pt);\n  let closestPt = point([Infinity, Infinity], {\n    dist: Infinity,\n    index: -1,\n    multiFeatureIndex: -1,\n    location: -1\n  });\n  let length = 0;\n  flattenEach(\n    lines,\n    function(line, _featureIndex, multiFeatureIndex) {\n      const coords = getCoords(line);\n      for (let i = 0; i < coords.length - 1; i++) {\n        const start = point(coords[i]);\n        start.properties.dist = distance(pt, start, options);\n        const startPos = getCoord(start);\n        const stop = point(coords[i + 1]);\n        stop.properties.dist = distance(pt, stop, options);\n        const stopPos = getCoord(stop);\n        const sectionLength = distance(start, stop, options);\n        let intersectPos;\n        let wasEnd;\n        if (startPos[0] === ptPos[0] && startPos[1] === ptPos[1]) {\n          [intersectPos, , wasEnd] = [startPos, void 0, false];\n        } else if (stopPos[0] === ptPos[0] && stopPos[1] === ptPos[1]) {\n          [intersectPos, , wasEnd] = [stopPos, void 0, true];\n        } else {\n          [intersectPos, , wasEnd] = nearestPointOnSegment(\n            start.geometry.coordinates,\n            stop.geometry.coordinates,\n            getCoord(pt)\n          );\n        }\n        let intersectPt;\n        if (intersectPos) {\n          intersectPt = point(intersectPos, {\n            dist: distance(pt, intersectPos, options),\n            multiFeatureIndex,\n            location: length + distance(start, intersectPos, options)\n          });\n        }\n        if (intersectPt && intersectPt.properties.dist < closestPt.properties.dist) {\n          closestPt = __spreadProps(__spreadValues({}, intersectPt), {\n            properties: __spreadProps(__spreadValues({}, intersectPt.properties), {\n              // Legacy behaviour where index progresses to next segment # if we\n              // went with the end point this iteration.\n              index: wasEnd ? i + 1 : i\n            })\n          });\n        }\n        length += sectionLength;\n      }\n    }\n  );\n  return closestPt;\n}\nfunction dot(v1, v2) {\n  const [v1x, v1y, v1z] = v1;\n  const [v2x, v2y, v2z] = v2;\n  return v1x * v2x + v1y * v2y + v1z * v2z;\n}\nfunction cross(v1, v2) {\n  const [v1x, v1y, v1z] = v1;\n  const [v2x, v2y, v2z] = v2;\n  return [v1y * v2z - v1z * v2y, v1z * v2x - v1x * v2z, v1x * v2y - v1y * v2x];\n}\nfunction magnitude(v) {\n  return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2) + Math.pow(v[2], 2));\n}\nfunction angle(v1, v2) {\n  const theta = dot(v1, v2) / (magnitude(v1) * magnitude(v2));\n  return Math.acos(Math.min(Math.max(theta, -1), 1));\n}\nfunction lngLatToVector(a) {\n  const lat = degreesToRadians(a[1]);\n  const lng = degreesToRadians(a[0]);\n  return [\n    Math.cos(lat) * Math.cos(lng),\n    Math.cos(lat) * Math.sin(lng),\n    Math.sin(lat)\n  ];\n}\nfunction vectorToLngLat(v) {\n  const [x, y, z] = v;\n  const lat = radiansToDegrees(Math.asin(z));\n  const lng = radiansToDegrees(Math.atan2(y, x));\n  return [lng, lat];\n}\nfunction nearestPointOnSegment(posA, posB, posC) {\n  const A = lngLatToVector(posA);\n  const B = lngLatToVector(posB);\n  const C = lngLatToVector(posC);\n  const [Cx, Cy, Cz] = C;\n  const [D, E, F] = cross(A, B);\n  const a = E * Cz - F * Cy;\n  const b = F * Cx - D * Cz;\n  const c = D * Cy - E * Cx;\n  const f = c * E - b * F;\n  const g = a * F - c * D;\n  const h = b * D - a * E;\n  const t = 1 / Math.sqrt(Math.pow(f, 2) + Math.pow(g, 2) + Math.pow(h, 2));\n  const I1 = [f * t, g * t, h * t];\n  const I2 = [-1 * f * t, -1 * g * t, -1 * h * t];\n  const angleAB = angle(A, B);\n  const angleAI1 = angle(A, I1);\n  const angleBI1 = angle(B, I1);\n  const angleAI2 = angle(A, I2);\n  const angleBI2 = angle(B, I2);\n  let I;\n  if (angleAI1 < angleAI2 && angleAI1 < angleBI2 || angleBI1 < angleAI2 && angleBI1 < angleBI2) {\n    I = I1;\n  } else {\n    I = I2;\n  }\n  if (angle(A, I) > angleAB || angle(B, I) > angleAB) {\n    if (distance(vectorToLngLat(I), vectorToLngLat(A)) <= distance(vectorToLngLat(I), vectorToLngLat(B))) {\n      return [vectorToLngLat(A), true, false];\n    } else {\n      return [vectorToLngLat(B), false, true];\n    }\n  }\n  return [vectorToLngLat(I), false, false];\n}\nvar turf_nearest_point_on_line_default = nearestPointOnLine;\nexport {\n  turf_nearest_point_on_line_default as default,\n  nearestPointOnLine\n};\n//# sourceMappingURL=index.js.map","// index.js\nimport { geojsonRbush as rbush } from \"@turf/geojson-rbush\";\nimport { square } from \"@turf/square\";\nimport { bbox } from \"@turf/bbox\";\nimport { truncate } from \"@turf/truncate\";\nimport { lineSegment } from \"@turf/line-segment\";\nimport { lineIntersect } from \"@turf/line-intersect\";\nimport { nearestPointOnLine } from \"@turf/nearest-point-on-line\";\nimport { getCoords, getCoord, getType } from \"@turf/invariant\";\nimport { featureEach, featureReduce, flattenEach } from \"@turf/meta\";\nimport { lineString, featureCollection } from \"@turf/helpers\";\nfunction lineSplit(line, splitter) {\n  if (!line) throw new Error(\"line is required\");\n  if (!splitter) throw new Error(\"splitter is required\");\n  var lineType = getType(line);\n  var splitterType = getType(splitter);\n  if (lineType !== \"LineString\") throw new Error(\"line must be LineString\");\n  if (splitterType === \"FeatureCollection\")\n    throw new Error(\"splitter cannot be a FeatureCollection\");\n  if (splitterType === \"GeometryCollection\")\n    throw new Error(\"splitter cannot be a GeometryCollection\");\n  var truncatedSplitter = truncate(splitter, { precision: 7 });\n  switch (splitterType) {\n    case \"Point\":\n      return splitLineWithPoint(line, truncatedSplitter);\n    case \"MultiPoint\":\n      return splitLineWithPoints(line, truncatedSplitter);\n    case \"LineString\":\n    case \"MultiLineString\":\n    case \"Polygon\":\n    case \"MultiPolygon\":\n      return splitLineWithPoints(\n        line,\n        lineIntersect(line, truncatedSplitter, {\n          ignoreSelfIntersections: true\n        })\n      );\n  }\n}\nfunction splitLineWithPoints(line, splitter) {\n  var results = [];\n  var tree = rbush();\n  flattenEach(splitter, function(point) {\n    results.forEach(function(feature, index) {\n      feature.id = index;\n    });\n    if (!results.length) {\n      results = splitLineWithPoint(line, point).features;\n      results.forEach(function(feature) {\n        if (!feature.bbox) feature.bbox = square(bbox(feature));\n      });\n      tree.load(featureCollection(results));\n    } else {\n      var search = tree.search(point);\n      if (search.features.length) {\n        var closestLine = findClosestFeature(point, search);\n        results = results.filter(function(feature) {\n          return feature.id !== closestLine.id;\n        });\n        tree.remove(closestLine);\n        featureEach(splitLineWithPoint(closestLine, point), function(line2) {\n          results.push(line2);\n          tree.insert(line2);\n        });\n      }\n    }\n  });\n  return featureCollection(results);\n}\nfunction splitLineWithPoint(line, splitter) {\n  var results = [];\n  var startPoint = getCoords(line)[0];\n  var endPoint = getCoords(line)[line.geometry.coordinates.length - 1];\n  if (pointsEquals(startPoint, getCoord(splitter)) || pointsEquals(endPoint, getCoord(splitter)))\n    return featureCollection([line]);\n  var tree = rbush();\n  var segments = lineSegment(line);\n  tree.load(segments);\n  var search = tree.search(splitter);\n  if (!search.features.length) return featureCollection([line]);\n  var closestSegment = findClosestFeature(splitter, search);\n  var initialValue = [startPoint];\n  var lastCoords = featureReduce(\n    segments,\n    function(previous, current, index) {\n      var currentCoords = getCoords(current)[1];\n      var splitterCoords = getCoord(splitter);\n      if (index === closestSegment.id) {\n        previous.push(splitterCoords);\n        results.push(lineString(previous));\n        if (pointsEquals(splitterCoords, currentCoords))\n          return [splitterCoords];\n        return [splitterCoords, currentCoords];\n      } else {\n        previous.push(currentCoords);\n        return previous;\n      }\n    },\n    initialValue\n  );\n  if (lastCoords.length > 1) {\n    results.push(lineString(lastCoords));\n  }\n  return featureCollection(results);\n}\nfunction findClosestFeature(point, lines) {\n  if (!lines.features.length) throw new Error(\"lines must contain features\");\n  if (lines.features.length === 1) return lines.features[0];\n  var closestFeature;\n  var closestDistance = Infinity;\n  featureEach(lines, function(segment) {\n    var pt = nearestPointOnLine(segment, point);\n    var dist = pt.properties.dist;\n    if (dist < closestDistance) {\n      closestFeature = segment;\n      closestDistance = dist;\n    }\n  });\n  return closestFeature;\n}\nfunction pointsEquals(pt1, pt2) {\n  return pt1[0] === pt2[0] && pt1[1] === pt2[1];\n}\nvar turf_line_split_default = lineSplit;\nexport {\n  turf_line_split_default as default,\n  lineSplit\n};\n//# sourceMappingURL=index.js.map","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type {\n  AnyEvent,\n  EditModeName,\n  FeatureId,\n  FeatureShape,\n  GeoJsonShapeFeature,\n  LineEventHandlerArguments,\n} from '@/main.ts';\nimport { BaseEdit } from '@/modes/edit/base.ts';\nimport { LineDrawer } from '@/utils/draw/line-drawer.ts';\nimport { getBufferedOuterPolygon, isGeoJsonFeatureInPolygon } from '@/utils/features.ts';\nimport { getGeoJsonBounds } from '@/utils/geojson.ts';\nimport { isNonEmptyArray } from '@/utils/guards/index.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\nimport booleanIntersects from '@turf/boolean-intersects';\nimport turfClone from '@turf/clone';\nimport turfDifference from '@turf/difference';\nimport { featureCollection } from '@turf/helpers';\nimport lineSplit from '@turf/line-split';\nimport lineToPolygon from '@turf/line-to-polygon';\nimport type { Feature, LineString, MultiPolygon, Polygon } from 'geojson';\nimport log from 'loglevel';\n\n\ntype PolygonFeature = Feature<Polygon | MultiPolygon>;\n\nexport class EditCut extends BaseEdit {\n  mode: EditModeName = 'cut';\n  lineDrawer = new LineDrawer(\n    this.gm,\n    { snappingMarkers: 'first', targetShape: 'polygon' },\n  );\n  cutShapesAllowed: Array<FeatureShape> = ['circle', 'line', 'rectangle', 'polygon'];\n  mapEventHandlers = {\n    [`${gmPrefix}:draw`]: this.forwardLineDrawerEvent.bind(this),\n    mousemove: this.onMouseMove.bind(this),\n  };\n\n  onStartAction() {\n    this.lineDrawer.startAction();\n    this.lineDrawer.on(\n      'firstMarkerClick',\n      this.cutPolygonFinished.bind(this),\n    );\n  }\n\n  onEndAction() {\n    this.lineDrawer.endAction();\n  }\n\n  onMouseMove(event: AnyEvent) {\n    if (!isMapPointerEvent(event)) {\n      return { next: true };\n    }\n\n    if (!this.lineDrawer.featureData) {\n      this.fireMarkerPointerUpdateEvent();\n    }\n    return { next: true };\n  }\n\n  cutPolygonFinished(event: LineEventHandlerArguments) {\n    this.lineDrawer.endShape();\n    const geoJsonPolygon = lineToPolygon(event.geoJson);\n    const bBoxfeatures = this.getBBoxFeaturesByPolygon(geoJsonPolygon);\n    this.cutFeaturesByPolygon(bBoxfeatures, geoJsonPolygon);\n  }\n\n  getBBoxFeaturesByPolygon(geoJson: PolygonFeature): Array<FeatureData> {\n    const coordBounds = getGeoJsonBounds(geoJson);\n    const polygonScreenBounds = this.gm.mapAdapter.coordBoundsToScreenBounds(coordBounds);\n    return this.gm.mapAdapter.queryFeaturesByScreenCoordinates({\n      queryCoordinates: polygonScreenBounds,\n      sourceNames: [SOURCES.main],\n    });\n  }\n\n  cutFeaturesByPolygon(bBoxfeatures: Array<FeatureData>, cutGeoJson: PolygonFeature) {\n    bBoxfeatures.forEach((featureData) => {\n      if (isGeoJsonFeatureInPolygon(featureData.getGeoJson(), cutGeoJson)) {\n        this.gm.features.delete(featureData);\n        this.fireFeatureRemovedEvent(featureData);\n        return;\n      }\n\n      if (!booleanIntersects(featureData.getGeoJson(), cutGeoJson)) {\n        return;\n      }\n\n      if (!this.cutShapesAllowed.includes(featureData.shape)) {\n        return;\n      }\n\n      if (featureData.shape === 'line') {\n        this.cutLineFeatureByPolygon(featureData, cutGeoJson);\n        return;\n      }\n\n      this.cutPolygonFeatureByPolygon(featureData.id, cutGeoJson);\n    });\n  }\n\n  cutLineFeatureByPolygon(featureData: FeatureData, cutGeoJson: PolygonFeature) {\n    const shapeGeoJson = featureData.getGeoJson() as Feature<LineString>;\n    const bufferedCutGeoJson = getBufferedOuterPolygon(this.gm.mapAdapter, cutGeoJson);\n    const resultGeoJson = lineSplit(shapeGeoJson, cutGeoJson);\n\n    if (!bufferedCutGeoJson || resultGeoJson.features.length === 0) {\n      return;\n    }\n\n    const resultFeatures: Array<FeatureData> = [];\n    resultGeoJson.features\n      .filter((feature) => !isGeoJsonFeatureInPolygon(feature, bufferedCutGeoJson))\n      .forEach((feature) => {\n        const lineFeatureData = this.createLineFeature(turfClone(feature));\n        if (lineFeatureData) {\n          resultFeatures.push(lineFeatureData);\n        }\n      });\n    this.gm.features.delete(featureData);\n\n    if (!isNonEmptyArray(resultFeatures)) {\n      log.error('cutLineFeatureByPolygon: resultFeatures not found', resultGeoJson);\n      return;\n    }\n\n    this.fireFeatureUpdatedEvent({\n      sourceFeatures: [featureData],\n      targetFeatures: resultFeatures,\n    });\n  }\n\n  createLineFeature(lineFeatureGeoJson: Feature<LineString>) {\n    const shapeGeoJson: GeoJsonShapeFeature = {\n      ...lineFeatureGeoJson,\n      properties: {\n        shape: 'line',\n      },\n    };\n\n    return this.gm.features.createFeature({\n      shapeGeoJson,\n      sourceName: SOURCES.main,\n    });\n  }\n\n\n  cutPolygonFeatureByPolygon(featureId: FeatureId, cutGeoJson: PolygonFeature) {\n    const featureData = this.gm.features.get(SOURCES.main, featureId);\n\n    if (!featureData) {\n      log.warn('cutPolygonFeatureByPolygon: featureData not found', featureId);\n      return;\n    }\n\n    featureData.convertToPolygon(); // if possible\n    const shapeGeoJson = featureData.getGeoJson() as PolygonFeature;\n    const geoJsonDifference = this.getGeoJsonDifference(shapeGeoJson, cutGeoJson);\n    if (geoJsonDifference) {\n      featureData.updateGeoJsonGeometry(geoJsonDifference.geometry);\n      this.fireFeatureUpdatedEvent({\n        sourceFeatures: [featureData],\n        targetFeatures: [featureData],\n      });\n    }\n  }\n\n  getGeoJsonDifference(\n    shapeGeoJson: PolygonFeature,\n    geoJson: PolygonFeature,\n  ): Feature<Polygon | MultiPolygon> | null {\n    const collection = featureCollection([shapeGeoJson, geoJson]);\n    const geoJsonDiff = turfDifference(collection);\n\n    if (!geoJsonDiff) {\n      return null;\n    }\n\n    if (geoJsonDiff.type === 'Feature') {\n      return geoJsonDiff;\n    } else if (geoJsonDiff.type === 'FeatureCollection') {\n      log.error('getGeoJsonDifference: FeatureCollection detected (not supported)', geoJsonDiff);\n    }\n    return null;\n  }\n}\n","import { SOURCES } from '@/core/features/index.ts';\nimport type { AnyEvent, EditModeName, MapHandlerReturnData } from '@/main.ts';\nimport { BaseEdit } from '@/modes/edit/base.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\n\n\nexport class EditDelete extends BaseEdit {\n  mode: EditModeName = 'delete';\n  mapEventHandlers = {\n    click: this.onMouseClick.bind(this),\n  };\n\n  onStartAction() {\n    this.gm.markerPointer.enable({ invisibleMarker: true });\n    this.gm.markerPointer.pauseSnapping();\n  }\n\n  onEndAction() {\n    this.gm.markerPointer.resumeSnapping();\n    this.gm.markerPointer.disable();\n  }\n\n  onMouseClick(event: AnyEvent): MapHandlerReturnData {\n    if (!isMapPointerEvent(event, { warning: true })) {\n      return { next: false };\n    }\n\n    const feature = this.gm.features.getFeatureByMouseEvent({ event, sourceNames: [SOURCES.main] });\n    if (feature) {\n      this.gm.features.delete(feature);\n      this.fireFeatureRemovedEvent(feature);\n    }\n    return { next: false };\n  }\n}\n","import { SOURCES } from '@/core/features/index.ts';\nimport type { AnyEvent, EditModeName, MapHandlerReturnData } from '@/main.ts';\nimport { BaseDrag } from '@/modes/edit/base-drag.ts';\nimport { isGmEditEvent } from '@/utils/guards/modes.ts';\nimport log from 'loglevel';\n\n\nexport class EditDrag extends BaseDrag {\n  mode: EditModeName = 'drag';\n\n  onStartAction(): void {\n    // ...\n  }\n\n  onEndAction(): void {\n    // ...\n  }\n\n  handleGmEdit(event: AnyEvent): MapHandlerReturnData {\n    if (!isGmEditEvent(event)) {\n      log.error('EditDrag.handleGmEdit: not an edit event', event);\n      return { next: true };\n    }\n\n    if (event.action === 'marker_move' && event.lngLatStart && event.lngLatEnd) {\n      if (!this.previousLngLat) {\n        this.previousLngLat = event.lngLatStart;\n      }\n      this.moveFeature(event.featureData, event.lngLatEnd);\n      return { next: false };\n    } else if (event.action === 'marker_captured') {\n      this.isDragging = true;\n      event.featureData.changeSource({ sourceName: SOURCES.temporary, atomic: true });\n      this.fireFeatureEditStartEvent({ feature: event.featureData });\n    } else if (event.action === 'marker_released') {\n      this.previousLngLat = null;\n      this.isDragging = false;\n      event.featureData.changeSource({ sourceName: SOURCES.main, atomic: true });\n      this.fireFeatureEditEndEvent({ feature: event.featureData });\n    }\n    return { next: true };\n  }\n}\n","// index.ts\nimport { degreesToRadians, radiansToDegrees } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\nfunction bearing(start, end, options = {}) {\n  if (options.final === true) {\n    return calculateFinalBearing(start, end);\n  }\n  const coordinates1 = getCoord(start);\n  const coordinates2 = getCoord(end);\n  const lon1 = degreesToRadians(coordinates1[0]);\n  const lon2 = degreesToRadians(coordinates2[0]);\n  const lat1 = degreesToRadians(coordinates1[1]);\n  const lat2 = degreesToRadians(coordinates2[1]);\n  const a = Math.sin(lon2 - lon1) * Math.cos(lat2);\n  const b = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1) * Math.cos(lat2) * Math.cos(lon2 - lon1);\n  return radiansToDegrees(Math.atan2(a, b));\n}\nfunction calculateFinalBearing(start, end) {\n  let bear = bearing(end, start);\n  bear = (bear + 180) % 360;\n  return bear;\n}\nvar turf_bearing_default = bearing;\nexport {\n  bearing,\n  turf_bearing_default as default\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { degreesToRadians, radiansToDegrees } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\nfunction rhumbBearing(start, end, options = {}) {\n  let bear360;\n  if (options.final) {\n    bear360 = calculateRhumbBearing(getCoord(end), getCoord(start));\n  } else {\n    bear360 = calculateRhumbBearing(getCoord(start), getCoord(end));\n  }\n  const bear180 = bear360 > 180 ? -(360 - bear360) : bear360;\n  return bear180;\n}\nfunction calculateRhumbBearing(from, to) {\n  const phi1 = degreesToRadians(from[1]);\n  const phi2 = degreesToRadians(to[1]);\n  let deltaLambda = degreesToRadians(to[0] - from[0]);\n  if (deltaLambda > Math.PI) {\n    deltaLambda -= 2 * Math.PI;\n  }\n  if (deltaLambda < -Math.PI) {\n    deltaLambda += 2 * Math.PI;\n  }\n  const deltaPsi = Math.log(\n    Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4)\n  );\n  const theta = Math.atan2(deltaLambda, deltaPsi);\n  return (radiansToDegrees(theta) + 360) % 360;\n}\nvar turf_rhumb_bearing_default = rhumbBearing;\nexport {\n  turf_rhumb_bearing_default as default,\n  rhumbBearing\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { convertLength, earthRadius } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\nfunction rhumbDistance(from, to, options = {}) {\n  const origin = getCoord(from);\n  const destination = getCoord(to);\n  destination[0] += destination[0] - origin[0] > 180 ? -360 : origin[0] - destination[0] > 180 ? 360 : 0;\n  const distanceInMeters = calculateRhumbDistance(origin, destination);\n  const distance = convertLength(distanceInMeters, \"meters\", options.units);\n  return distance;\n}\nfunction calculateRhumbDistance(origin, destination, radius) {\n  radius = radius === void 0 ? earthRadius : Number(radius);\n  const R = radius;\n  const phi1 = origin[1] * Math.PI / 180;\n  const phi2 = destination[1] * Math.PI / 180;\n  const DeltaPhi = phi2 - phi1;\n  let DeltaLambda = Math.abs(destination[0] - origin[0]) * Math.PI / 180;\n  if (DeltaLambda > Math.PI) {\n    DeltaLambda -= 2 * Math.PI;\n  }\n  const DeltaPsi = Math.log(\n    Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4)\n  );\n  const q = Math.abs(DeltaPsi) > 1e-11 ? DeltaPhi / DeltaPsi : Math.cos(phi1);\n  const delta = Math.sqrt(\n    DeltaPhi * DeltaPhi + q * q * DeltaLambda * DeltaLambda\n  );\n  const dist = delta * R;\n  return dist;\n}\nvar turf_rhumb_distance_default = rhumbDistance;\nexport {\n  turf_rhumb_distance_default as default,\n  rhumbDistance\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport {\n  convertLength,\n  degreesToRadians,\n  earthRadius,\n  point\n} from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\nfunction rhumbDestination(origin, distance, bearing, options = {}) {\n  const wasNegativeDistance = distance < 0;\n  let distanceInMeters = convertLength(\n    Math.abs(distance),\n    options.units,\n    \"meters\"\n  );\n  if (wasNegativeDistance) distanceInMeters = -Math.abs(distanceInMeters);\n  const coords = getCoord(origin);\n  const destination = calculateRhumbDestination(\n    coords,\n    distanceInMeters,\n    bearing\n  );\n  destination[0] += destination[0] - coords[0] > 180 ? -360 : coords[0] - destination[0] > 180 ? 360 : 0;\n  return point(destination, options.properties);\n}\nfunction calculateRhumbDestination(origin, distance, bearing, radius) {\n  radius = radius === void 0 ? earthRadius : Number(radius);\n  const delta = distance / radius;\n  const lambda1 = origin[0] * Math.PI / 180;\n  const phi1 = degreesToRadians(origin[1]);\n  const theta = degreesToRadians(bearing);\n  const DeltaPhi = delta * Math.cos(theta);\n  let phi2 = phi1 + DeltaPhi;\n  if (Math.abs(phi2) > Math.PI / 2) {\n    phi2 = phi2 > 0 ? Math.PI - phi2 : -Math.PI - phi2;\n  }\n  const DeltaPsi = Math.log(\n    Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4)\n  );\n  const q = Math.abs(DeltaPsi) > 1e-11 ? DeltaPhi / DeltaPsi : Math.cos(phi1);\n  const DeltaLambda = delta * Math.sin(theta) / q;\n  const lambda2 = lambda1 + DeltaLambda;\n  return [\n    (lambda2 * 180 / Math.PI + 540) % 360 - 180,\n    phi2 * 180 / Math.PI\n  ];\n}\nvar turf_rhumb_destination_default = rhumbDestination;\nexport {\n  turf_rhumb_destination_default as default,\n  rhumbDestination\n};\n//# sourceMappingURL=index.js.map","// index.ts\nimport { centroid } from \"@turf/centroid\";\nimport { rhumbBearing } from \"@turf/rhumb-bearing\";\nimport { rhumbDistance } from \"@turf/rhumb-distance\";\nimport { rhumbDestination } from \"@turf/rhumb-destination\";\nimport { clone } from \"@turf/clone\";\nimport { coordEach } from \"@turf/meta\";\nimport { getCoords } from \"@turf/invariant\";\nimport { isObject } from \"@turf/helpers\";\nfunction transformRotate(geojson, angle, options) {\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  const pivot = options.pivot;\n  const mutate = options.mutate;\n  if (!geojson) throw new Error(\"geojson is required\");\n  if (angle === void 0 || angle === null || isNaN(angle))\n    throw new Error(\"angle is required\");\n  if (angle === 0) return geojson;\n  const pivotCoord = pivot != null ? pivot : centroid(geojson);\n  if (mutate === false || mutate === void 0) geojson = clone(geojson);\n  coordEach(geojson, function(pointCoords) {\n    const initialAngle = rhumbBearing(pivotCoord, pointCoords);\n    const finalAngle = initialAngle + angle;\n    const distance = rhumbDistance(pivotCoord, pointCoords);\n    const newCoords = getCoords(\n      rhumbDestination(pivotCoord, distance, finalAngle)\n    );\n    pointCoords[0] = newCoords[0];\n    pointCoords[1] = newCoords[1];\n  });\n  return geojson;\n}\nvar turf_transform_rotate_default = transformRotate;\nexport {\n  turf_transform_rotate_default as default,\n  transformRotate\n};\n//# sourceMappingURL=index.js.map","import { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type {\n  AnyEvent,\n  EditModeName,\n  FeatureShape,\n  GeoJsonShapeFeature,\n  GMEditMarkerMoveEvent,\n  LngLat,\n  MapHandlerReturnData,\n} from '@/main.ts';\nimport { BaseDrag } from '@/modes/edit/base-drag.ts';\nimport { geoJsonPointToLngLat } from '@/utils/geojson.ts';\nimport { isGmEditEvent } from '@/utils/guards/modes.ts';\nimport bearing from '@turf/bearing';\nimport centroid from '@turf/centroid';\nimport transformRotate from '@turf/transform-rotate';\nimport { cloneDeep } from 'lodash-es';\nimport log from 'loglevel';\n\n\nexport class EditRotate extends BaseDrag {\n  mode: EditModeName = 'rotate';\n  convertFeaturesTypes: Array<FeatureShape> = ['rectangle'];\n\n  onStartAction(): void {\n    // ...\n  }\n\n  onEndAction(): void {\n    // ...\n  }\n\n  handleGmEdit(event: AnyEvent): MapHandlerReturnData {\n    if (!isGmEditEvent(event)) {\n      log.error('EditChange.handleGmEdit: not an edit event', event);\n      return { next: false };\n    }\n\n    if (event.action === 'marker_move' && event.lngLatStart && event.lngLatEnd) {\n      if (event.markerData?.type === 'vertex') {\n        this.moveVertex(event);\n      } else {\n        this.moveSource(event.featureData, event.lngLatStart, event.lngLatEnd);\n      }\n      return { next: false };\n    } else if (event.action === 'marker_captured') {\n      event.featureData.changeSource({ sourceName: SOURCES.temporary, atomic: true });\n      this.fireFeatureEditStartEvent({ feature: event.featureData });\n    } else if (event.action === 'marker_released') {\n      event.featureData.changeSource({ sourceName: SOURCES.main, atomic: true });\n      this.fireFeatureEditEndEvent({ feature: event.featureData });\n    }\n    return { next: true };\n  }\n\n  moveVertex(event: GMEditMarkerMoveEvent) {\n    this.rotateFeature(event.featureData, event);\n  }\n\n  rotateFeature(featureData: FeatureData, event: GMEditMarkerMoveEvent) {\n    const geoJson = cloneDeep(featureData.getGeoJson() as GeoJsonShapeFeature);\n    const shapeCentroid = geoJsonPointToLngLat(centroid(geoJson));\n\n    const angle = this.calculateRotationAngle(\n      shapeCentroid,\n      event.lngLatStart,\n      event.lngLatEnd,\n    );\n\n    geoJson.geometry = transformRotate(geoJson, angle, { pivot: shapeCentroid }).geometry;\n    this.fireBeforeFeatureUpdate({\n      features: [featureData],\n      geoJsonFeatures: [geoJson],\n    });\n\n    const isUpdated = this.updateFeatureGeoJson({ featureData, featureGeoJson: geoJson });\n\n    if (isUpdated) {\n      featureData.convertToPolygon(); // if possible\n    }\n  }\n\n  calculateRotationAngle(pivot: LngLat, start: LngLat, end: LngLat) {\n    const bearingStart = bearing(pivot, start);\n    const bearingEnd = bearing(pivot, end);\n\n    const rotationAngle = bearingEnd - bearingStart;\n    return (rotationAngle + 360) % 360;\n  }\n}\n","import type { EditModeName, Geoman } from '@/main.ts';\nimport { BaseEdit } from '@/modes/edit/base.ts';\nimport { EditChange } from '@/modes/edit/change.ts';\nimport { EditCut } from '@/modes/edit/cut.ts';\nimport { EditDelete } from '@/modes/edit/delete.ts';\nimport { EditDrag } from '@/modes/edit/drag.ts';\nimport { EditRotate } from '@/modes/edit/rotate.ts';\n\n\ntype EditClassConstructor = new (gm: Geoman) => BaseEdit;\ntype EditClassMap = {\n  [K in EditModeName]: EditClassConstructor | null;\n};\n\nexport const editClassMap: EditClassMap = {\n  drag: EditDrag,\n  change: EditChange,\n  rotate: EditRotate,\n  scale: null,\n  copy: null,\n  cut: EditCut,\n  split: null,\n  union: null,\n  difference: null,\n  line_simplification: null,\n  lasso: null,\n  delete: EditDelete,\n} as const;\n","export const findInCollection = <T>(\n  collection: Map<unknown, T> | Set<T> | Array<T>,\n  callback: (item: T) => boolean,\n): T | null => {\n  let targetItem: T | null = null;\n\n  try {\n    collection.forEach((item: T) => {\n      if (callback(item)) {\n        targetItem = item;\n        throw new Error('found');\n      }\n    });\n  } catch {\n    // no action required\n  }\n\n  return targetItem;\n};\n","import { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type {\n  AnyEvent,\n  DomMarkerData,\n  EdgeMarkerData,\n  EditModeName,\n  FeatureShape,\n  GMEditEvent,\n  GMEditFeatureUpdatedEvent,\n  GMEditMarkerEvent,\n  HelperModeName,\n  LngLat,\n  MapHandlerReturnData,\n  MapPointerEvent,\n  MarkerData,\n  PositionData,\n  ScreenPoint,\n  SegmentPosition,\n} from '@/main.ts';\nimport { BaseHelper } from '@/modes/helpers/base.ts';\nimport { convertToDebounced, convertToThrottled } from '@/utils/behavior.ts';\nimport { findInCollection } from '@/utils/collections.ts';\nimport { getFeatureFirstPoint } from '@/utils/features.ts';\nimport { eachSegmentWithPath, findCoordinateWithPath, isEqualPosition } from '@/utils/geojson.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\nimport { isGmDrawEvent, isGmEditEvent } from '@/utils/guards/modes.ts';\nimport { cloneDeep, intersection } from 'lodash-es';\nimport log from 'loglevel';\nimport type { SharedMarker } from '@/types/interfaces.ts';\nimport { isPinHelper } from '@/utils/guards/interfaces.ts';\n\n\ntype SegmentData = {\n  segment: SegmentPosition,\n  middle: PositionData,\n  edgeMarkerKey: string,\n};\n\ntype CreateMarkerParams = {\n  type: MarkerData['type'],\n  positionData: PositionData,\n  parentFeature: FeatureData,\n  segment?: EdgeMarkerData['segment'],\n};\n\nexport class ShapeMarkersHelper extends BaseHelper {\n  mode: HelperModeName = 'shape_markers';\n  pinEnabled: boolean = this.gm.options.controls.helper.pin?.active || false;\n  previousPosition: LngLat | null = null;\n  activeMarker: MarkerData | null = null;\n  activeFeatureData: FeatureData | null = null;\n  sharedMarkers: Array<SharedMarker> = [];\n  allowedShapes: Array<FeatureShape> = ['circle', 'line', 'rectangle', 'polygon'];\n  edgeMarkersAllowed: boolean = false;\n  edgeMarkerAllowedShapes: Array<FeatureShape> = ['line', 'rectangle', 'polygon'];\n  shapeMarkerAllowedModes: Array<EditModeName> = ['drag', 'change', 'cut', 'split'];\n  mapEventHandlers = {\n    [`${gmPrefix}:draw`]: this.handleGmDraw.bind(this),\n    [`${gmPrefix}:edit`]: this.handleGmEdit.bind(this),\n\n    mousedown: this.onMouseDown.bind(this),\n    touchstart: this.onMouseDown.bind(this),\n\n    mouseup: this.onMouseUp.bind(this),\n    touchend: this.onMouseUp.bind(this),\n\n    mousemove: this.onMouseMove.bind(this),\n    touchmove: this.onMouseMove.bind(this),\n\n    contextmenu: this.onMouseRightButtonClick.bind(this),\n  };\n  throttledMethods = convertToThrottled({\n    sendMarkerMoveEvent: this.sendMarkerMoveEvent,\n    sendMarkerRightClickEvent: this.sendMarkerRightClickEvent,\n  }, this, this.gm.options.settings.throttlingDelay);\n\n  debouncedMethods = convertToDebounced({\n    refreshMarkers: this.refreshMarkers,\n  }, this, this.gm.options.settings.throttlingDelay * 10);\n\n  onStartAction() {\n    if (this.isShapeMarkerAllowed()) {\n      this.gm.markerPointer.enable({ invisibleMarker: true });\n    }\n\n    this.edgeMarkersAllowed = this.gm.getActiveEditModes().includes('change');\n    this.addMarkers();\n  }\n\n  onEndAction() {\n    this.gm.markerPointer.disable();\n    this.removeMarkers();\n  }\n\n  setPin(enabled: boolean) {\n    this.pinEnabled = enabled;\n  }\n\n  onMouseDown(event: AnyEvent): MapHandlerReturnData {\n    const allowedEventNames = ['mousedown', 'touchstart'];\n    if (!isMapPointerEvent(event, { warning: true }) || !allowedEventNames.includes(event.type)) {\n      return { next: true };\n    }\n    if (event.type === 'mousedown' && event.originalEvent.button !== 0) {\n      // todo: check for right button click in other places like this\n      return { next: true };\n    }\n\n    const featureMarkerData = this.getFeatureMarkerByMouseEvent(event);\n    this.activeMarker = featureMarkerData || null;\n    this.activeFeatureData = featureMarkerData?.instance.parent || null;\n\n    if (!(this.activeMarker && this.activeFeatureData)) {\n      return { next: true };\n    }\n\n    this.previousPosition = getFeatureFirstPoint(this.activeMarker.instance);\n    this.gm.mapAdapter.setDragPan(false);\n\n    if (this.activeMarker.type === 'edge') {\n      this.sendMarkerEvent('edge_marker_click', this.activeFeatureData, this.activeMarker);\n    }\n\n    if (this.pinEnabled && this.pinHelperInstance) {\n      this.sharedMarkers = this.pinHelperInstance.getSharedMarkers(this.activeMarker.position.coordinate);\n      this.sharedMarkers.forEach(\n        (sharedMarker) => this.snappingHelper?.addExcludedFeature(sharedMarker.featureData),\n      );\n    } else {\n      this.snappingHelper?.addExcludedFeature(this.activeFeatureData);\n    }\n\n    this.sendMarkerEvent('marker_captured', this.activeFeatureData, this.activeMarker);\n    return { next: false };\n  }\n\n  onMouseUp(): MapHandlerReturnData {\n    if (!this.activeMarker) {\n      return { next: true };\n    }\n\n    const eventData = {\n      featureData: this.activeFeatureData,\n      markerData: this.activeMarker,\n    };\n\n    this.activeMarker = null;\n    this.activeFeatureData = null;\n    this.sharedMarkers = [];\n    this.snappingHelper?.clearExcludedFeatures();\n    this.previousPosition = null;\n    this.gm.mapAdapter.setDragPan(true);\n\n    if (eventData.featureData && eventData.markerData) {\n      this.sendMarkerEvent('marker_released', eventData.featureData, eventData.markerData);\n      return { next: false };\n    } else {\n      log.debug('ShapeMarkersHelper.onMouseUp: no active marker or featureData', eventData);\n    }\n\n    return { next: true };\n  }\n\n  onMouseMove(event: AnyEvent): MapHandlerReturnData {\n    if (!this.activeMarker || !isMapPointerEvent(event, { warning: true })) {\n      return { next: true };\n    }\n\n    this.throttledMethods.sendMarkerMoveEvent(event);\n    return { next: false };\n  }\n\n  onMouseRightButtonClick(event: AnyEvent): MapHandlerReturnData {\n    const featureMarkerData = this.getFeatureMarkerByMouseEvent(event);\n\n    if (featureMarkerData && featureMarkerData.instance.parent) {\n      this.throttledMethods.sendMarkerRightClickEvent(\n        featureMarkerData.instance.parent,\n        featureMarkerData,\n      );\n      return { next: false };\n    }\n\n    return { next: true };\n  }\n\n  get pinHelperInstance() {\n    if (!this.pinEnabled) {\n      return null;\n    }\n\n    return Object.values(this.gm.actionInstances).find(isPinHelper) || null;\n  }\n\n  isShapeMarkerAllowed() {\n    return intersection(\n      this.shapeMarkerAllowedModes,\n      this.gm.getActiveEditModes(),\n    ).length > 0;\n  }\n\n  convertToVertexMarker(markerData: MarkerData): MarkerData {\n    if (markerData.type === 'edge' && markerData.instance.parent) {\n      const oldPosition = markerData.position;\n      const featureData = markerData.instance.parent;\n      this.removeMarker(markerData);\n\n      const newMarkerData = this.createMarker({\n        type: 'vertex',\n        positionData: oldPosition,\n        parentFeature: featureData,\n      });\n\n      const shapeGeoJson = featureData.getGeoJson();\n      const position = findCoordinateWithPath(shapeGeoJson, oldPosition.coordinate);\n\n      if (position) {\n        const markerKey = position.path.join('.');\n        const existingMarker = featureData.markers.get(markerKey);\n        if (existingMarker) {\n          this.removeMarker(existingMarker);\n        }\n\n        featureData.markers.set(markerKey, newMarkerData);\n        return newMarkerData;\n      }\n    }\n\n    log.error('ShapeMarkersHelper.convertToVertexMarker: invalid marker type', markerData);\n    return markerData;\n  }\n\n  getFeatureMarkerByMouseEvent(event: AnyEvent): Exclude<MarkerData, DomMarkerData> | null {\n    const markerFeatureData = this.gm.features.getFeatureByMouseEvent({\n      event,\n      sourceNames: [SOURCES.main],\n    });\n\n    if (markerFeatureData?.parent?.markers) {\n      const markerData = findInCollection(\n        markerFeatureData.parent.markers,\n        (item) => item.instance === markerFeatureData,\n      );\n      if (markerData?.type !== 'dom') {\n        return markerData;\n      }\n    }\n    return null;\n  }\n\n  addMarkers() {\n    this.gm.features.forEach((featureData) => {\n      if (!featureData || !this.allowedShapes.includes(featureData.shape)) {\n        return;\n      }\n\n      this.addCenterMarker(featureData);\n      const shapeSegments = this.getAllShapeSegments(featureData);\n\n      shapeSegments.forEach((segmentData, index) => {\n        // generic vertex marker\n        const isVertexMarkerAllowed = this.isMarkerIndexAllowed(\n          featureData.shape,\n          index,\n          shapeSegments.length,\n        );\n\n        if (isVertexMarkerAllowed) {\n          const marker = this.createOrUpdateVertexMarker(segmentData.segment.start, featureData);\n          featureData.markers.set(marker.markerKey, marker.markerData);\n\n          if (featureData.shape === 'line' && index === shapeSegments.length - 1) {\n            const lineEndMarker = this.createOrUpdateVertexMarker(\n              segmentData.segment.end,\n              featureData,\n            );\n            featureData.markers.set(lineEndMarker.markerKey, lineEndMarker.markerData);\n          }\n        }\n\n        // edge middle marker\n        if (this.isEdgeMarkerAllowed(featureData)) {\n          const marker = this.createOrUpdateEdgeMarker(segmentData, featureData);\n          featureData.markers.set(marker.markerKey, marker.markerData);\n        }\n      });\n    });\n  }\n\n  addCenterMarker(featureData: FeatureData) {\n    if (featureData.shapeProperties.center) {\n      const markerData = this.createMarker({\n        type: 'center',\n        positionData: {\n          path: [],\n          coordinate: featureData.shapeProperties.center,\n        },\n        parentFeature: featureData,\n      });\n      featureData.markers.set('center', markerData);\n    }\n  }\n\n  getAllShapeSegments(featureData: FeatureData) {\n    const shapeGeoJson = featureData.getGeoJson();\n    const segmentsData: Array<SegmentData> = [];\n\n    eachSegmentWithPath(shapeGeoJson, (segment, index) => {\n      segmentsData.push({\n        segment,\n        middle: this.getSegmentMiddlePosition(segment),\n        edgeMarkerKey: this.getEdgeMarkerKey(index),\n      });\n    });\n    return segmentsData;\n  }\n\n  isEdgeMarkerAllowed(featureData: FeatureData) {\n    return this.edgeMarkersAllowed && this.edgeMarkerAllowedShapes.includes(featureData.shape);\n  }\n\n  isMarkerIndexAllowed(\n    shape: FeatureData['shape'],\n    markerIndex: number,\n    verticesCount: number,\n  ) {\n    // allows 4 markers for a circle's rim\n    const divider = Math.floor(verticesCount / 4);\n\n    if (shape === 'circle') {\n      return (markerIndex + divider / 2) % divider === 0;\n    } else {\n      return true;\n    }\n  }\n\n  getEdgeMarkerKey(index: number) {\n    return `edge.${index}`;\n  }\n\n  getSegmentMiddlePosition(segment: SegmentPosition): PositionData {\n    const startPoint = this.gm.mapAdapter.project(segment.start.coordinate);\n    const endPoint = this.gm.mapAdapter.project(segment.end.coordinate);\n\n    const middlePoint: ScreenPoint = [\n      (startPoint[0] + endPoint[0]) / 2,\n      (startPoint[1] + endPoint[1]) / 2,\n    ];\n    const middlePath = segment.start.path.slice(0, segment.start.path.length - 1).concat([-1]);\n    return {\n      coordinate: this.gm.mapAdapter.unproject(middlePoint),\n      path: middlePath,\n    };\n  }\n\n  removeMarkers() {\n    this.gm.features.forEach((_, featureId) => {\n      const featureData = this.gm.features.get(SOURCES.main, featureId);\n\n      if (featureData) {\n        featureData.markers.forEach((marker) => {\n          if (marker.type !== 'dom') {\n            this.gm.features.delete(marker.instance);\n          } else {\n            log.error('Non a FeatureData marker', marker);\n          }\n        });\n        featureData.markers = new Map();\n      }\n    });\n  }\n\n  removeMarker(markerData: MarkerData) {\n    if (markerData.type === 'dom') {\n      log.error('Wrong marker type', markerData);\n      return;\n    }\n\n    const featureData = markerData.instance.parent;\n    if (!featureData) {\n      log.error('Missing parent feature data', markerData);\n      return;\n    }\n\n    try {\n      featureData.markers.forEach((markerItem, key) => {\n        if (markerItem === markerData) {\n          this.gm.features.delete(markerItem.instance);\n          featureData.markers.delete(key);\n          throw new Error('break');\n        }\n      });\n    } catch {\n      // ...\n    }\n  }\n\n  protected createMarker(\n    { type, segment, positionData, parentFeature }: CreateMarkerParams,\n  ): MarkerData {\n    const coordinate = positionData.coordinate;\n\n    const featureData = this.gm.features.createMarkerFeature({\n      sourceName: parentFeature.sourceName,\n      parentFeature,\n      type,\n      coordinate,\n    });\n    if (!featureData) {\n      throw new Error(`Missine feature data for the \"${type}\" marker`);\n    }\n\n    if (type === 'edge' && segment) {\n      return {\n        type,\n        instance: featureData,\n        position: cloneDeep(positionData),\n        segment,\n      };\n    } else if (type === 'vertex' || type === 'center') {\n      return {\n        type,\n        instance: featureData,\n        position: cloneDeep(positionData),\n      };\n    } else {\n      throw new Error(`Invalid marker type \"${type}\" with segment: ${segment}`);\n    }\n  }\n\n  handleGmDraw(event: AnyEvent): MapHandlerReturnData {\n    if (!isGmDrawEvent(event)) {\n      log.error('ShapeMarkersHelper.handleGmDraw: not a draw event', event);\n      return { next: true };\n    }\n\n    if (event.action === 'feature_created') {\n      this.debouncedMethods.refreshMarkers();\n    }\n\n    return { next: true };\n  }\n\n  refreshMarkers() {\n    this.removeMarkers();\n    this.addMarkers();\n  }\n\n  handleGmEdit(event: AnyEvent): MapHandlerReturnData {\n    if (!isGmEditEvent(event)) {\n      log.error('ShapeMarkersHelper.handleGmEdit: not an edit event', event);\n      return { next: true };\n    }\n\n    if (event.action === 'feature_updated') {\n      this.gm.features.withAtomicSourcesUpdate(() => {\n        this.handleShapeUpdate(event);\n      });\n    }\n\n    return { next: true };\n  }\n\n  handleShapeUpdate(event: GMEditFeatureUpdatedEvent) {\n    const featureData = event.targetFeatures[0];\n\n    if (!featureData) {\n      log.error('ShapeMarkersHelper.handleShapeUpdate: no featureData', event);\n      return;\n    }\n\n    if (this.activeMarker?.type === 'edge') {\n      this.activeMarker = this.convertToVertexMarker(this.activeMarker);\n    }\n\n    const shapeSegments = this.getAllShapeSegments(featureData);\n    const currentMarkerKeys = new Set(featureData.markers.keys());\n\n    shapeSegments.forEach((segmentData, index) => {\n      const isVertexMarkerAllowed = this.isMarkerIndexAllowed(\n        featureData.shape,\n        index,\n        shapeSegments.length,\n      );\n\n      if (isVertexMarkerAllowed) {\n        const marker = this.createOrUpdateVertexMarker(segmentData.segment.start, featureData);\n        currentMarkerKeys.delete(marker.markerKey);\n        if (featureData.shape === 'line' && index === shapeSegments.length - 1) {\n          const lineEndMarker = this.createOrUpdateVertexMarker(\n            segmentData.segment.end,\n            featureData,\n          );\n          currentMarkerKeys.delete(lineEndMarker.markerKey);\n        }\n      }\n\n      if (this.isEdgeMarkerAllowed(featureData)) {\n        const marker = this.createOrUpdateEdgeMarker(segmentData, featureData);\n        currentMarkerKeys.delete(marker.markerKey);\n      }\n    });\n\n    this.updateCenterMarkerPosition(featureData);\n    currentMarkerKeys.delete('center');\n\n    currentMarkerKeys.forEach((markerKey) => {\n      const markerData = featureData.markers.get(markerKey);\n      if (markerData && markerData.type !== 'dom') {\n        this.gm.features.delete(markerData.instance);\n      } else {\n        log.error('Non a FeatureData marker');\n      }\n\n      featureData.markers.delete(markerKey);\n    });\n  }\n\n  createOrUpdateVertexMarker(position: PositionData, featureData: FeatureData) {\n    const markerKey = position.path.join('.');\n    let markerData = featureData.markers.get(markerKey) || null;\n\n    if (markerData && markerData?.type !== 'vertex') {\n      throw new Error(`Invalid marker type \"${markerData?.type}\" for edge marker`);\n    }\n\n    if (markerData) {\n      if (!isEqualPosition(markerData.position.coordinate, position.coordinate)) {\n        this.gm.features.updateMarkerFeaturePosition(markerData.instance, position.coordinate);\n      }\n      markerData.position = position;\n    } else {\n      markerData = this.createMarker({\n        type: 'vertex',\n        positionData: position,\n        parentFeature: featureData,\n      });\n      featureData.markers.set(markerKey, markerData);\n    }\n    return { markerKey, markerData };\n  }\n\n  createOrUpdateEdgeMarker(segmentData: SegmentData, featureData: FeatureData) {\n    let markerData = featureData.markers.get(segmentData.edgeMarkerKey) || null;\n\n    if (markerData && markerData?.type !== 'edge') {\n      throw new Error(`Invalid marker type \"${markerData?.type}\" for edge marker`);\n    }\n\n    if (markerData) {\n      if (!isEqualPosition(markerData.position.coordinate, segmentData.middle.coordinate)) {\n        markerData.instance.updateGeoJsonGeometry({\n          type: 'Point',\n          coordinates: segmentData.middle.coordinate,\n        });\n      }\n      markerData.position = segmentData.middle;\n      markerData.segment = segmentData.segment;\n    } else {\n      markerData = this.createMarker({\n        type: 'edge',\n        positionData: segmentData.middle,\n        segment: segmentData.segment,\n        parentFeature: featureData,\n      });\n      featureData.markers.set(segmentData.edgeMarkerKey, markerData);\n    }\n\n    return { markerKey: segmentData.edgeMarkerKey, markerData };\n  }\n\n  updateCenterMarkerPosition(featureData: FeatureData) {\n    const markerData = featureData.markers.get('center') || null;\n    if (markerData && markerData.type !== 'dom' && featureData.shapeProperties.center) {\n      markerData.instance.updateGeoJsonGeometry({\n        type: 'Point',\n        coordinates: featureData.shapeProperties.center,\n      });\n      markerData.position.coordinate = featureData.shapeProperties.center;\n    }\n  }\n\n  sendMarkerEvent(\n    action: GMEditMarkerEvent['action'],\n    featureData: FeatureData,\n    markerData: MarkerData,\n  ) {\n    const payload: GMEditMarkerEvent = {\n      level: 'system',\n      type: 'edit',\n      mode: 'change',\n      action,\n      featureData,\n      markerData,\n    };\n    this.gm.events.fire(`${gmPrefix}:edit`, payload);\n  }\n\n  sendMarkerRightClickEvent(featureData: FeatureData, markerData: MarkerData) {\n    const payload: GMEditEvent = {\n      level: 'system',\n      type: 'edit',\n      mode: 'change',\n      action: 'marker_right_click',\n      featureData,\n      markerData,\n    };\n    this.gm.events.fire(`${gmPrefix}:edit`, payload);\n  }\n\n  sendMarkerMoveEvent(event: MapPointerEvent) {\n    const markerLngLat = this.gm.markerPointer.marker?.getLngLat() || event.lngLat.toArray();\n\n    if (this.activeMarker && this.activeFeatureData) {\n      const targetMarkers = this.pinEnabled ? this.sharedMarkers : [{\n        markerData: this.activeMarker,\n        featureData: this.activeFeatureData,\n      }];\n\n      targetMarkers.forEach((item) => {\n        if (this.previousPosition) {\n          const payload: GMEditEvent = {\n            level: 'system',\n            type: 'edit',\n            mode: 'drag',\n            action: 'marker_move',\n            featureData: item.featureData,\n            markerData: item.markerData,\n            lngLatStart: this.previousPosition,\n            lngLatEnd: markerLngLat,\n          };\n          this.gm.events.fire(`${gmPrefix}:edit`, payload);\n        }\n      });\n    }\n\n    this.previousPosition = markerLngLat;\n  }\n}\n","import { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type { FeatureShape, HelperModeName, LngLat, ScreenPoint } from '@/main.ts';\nimport { BaseHelper } from '@/modes/helpers/base.ts';\nimport { eachCoordinateWithPath, getEuclideanDistance } from '@/utils/geojson.ts';\nimport type { Feature, LineString, MultiLineString } from 'geojson';\nimport { sortBy } from 'lodash-es';\n\n\ntype ShapeSnappingHandler = (\n  featureData: FeatureData,\n  lngLat: LngLat,\n  point: ScreenPoint,\n) => { lngLat: LngLat, distance: number };\n\n\nexport class SnappingHelper extends BaseHelper {\n  mode: HelperModeName = 'snapping';\n  tolerance: number = 18;\n  private excludedFeature = new Set<FeatureData>();\n  private customSnappingLngLats = new Map<string, Array<LngLat>>();\n  private customSnappingFeatures = new Set<FeatureData>();\n  lineSnappingShapes: ReadonlyArray<FeatureShape> = [\n    'circle',\n    'line',\n    'rectangle',\n    'polygon',\n    'snap_guide',\n  ];\n  mapEventHandlers = {};\n\n  shapeSnappingHandlers: { [key in FeatureShape]?: ShapeSnappingHandler } = {\n    marker: this.getPointsSnapping.bind(this),\n    circle: this.getLineSnapping.bind(this),\n    circle_marker: this.getPointsSnapping.bind(this),\n    text_marker: this.getPointsSnapping.bind(this),\n    line: this.getLineSnapping.bind(this),\n    rectangle: this.getLineSnapping.bind(this),\n    polygon: this.getLineSnapping.bind(this),\n    snap_guide: this.getLineSnapping.bind(this),\n  };\n\n\n  onStartAction() {\n    this.gm.markerPointer.setSnapping(true);\n  }\n\n  onEndAction() {\n    this.gm.markerPointer.setSnapping(false);\n  }\n\n  addExcludedFeature(featureData: FeatureData) {\n    this.excludedFeature.add(featureData);\n  }\n\n  clearExcludedFeatures() {\n    this.excludedFeature.clear();\n  }\n\n  addCustomSnappingFeature(featureData: FeatureData) {\n    this.customSnappingFeatures.add(featureData);\n  }\n\n  removeCustomSnappingFeature(featureData: FeatureData) {\n    this.customSnappingFeatures.delete(featureData);\n  }\n\n  clearCustomSnappingFeature() {\n    this.customSnappingFeatures.clear();\n  }\n\n  setCustomSnappingCoordinates(sectionKey: string, lngLats: Array<LngLat>) {\n    this.customSnappingLngLats.set(sectionKey, lngLats);\n  }\n\n  clearCustomSnappingCoordinates(sectionKey: string) {\n    this.customSnappingLngLats.delete(sectionKey);\n  }\n\n  getSnappedLngLat(lngLat: LngLat, point: ScreenPoint): LngLat {\n    let snappingLngLat = this.getCustomLngLatsSnapping(point);\n    if (snappingLngLat) {\n      return snappingLngLat;\n    }\n\n    const features = this.getFeaturesInPointBounds(point).filter(\n      (featureData) => !this.excludedFeature.has(featureData),\n    );\n\n    snappingLngLat = this.getFeaturePointsSnapping(features, lngLat, point);\n    if (snappingLngLat) {\n      return snappingLngLat;\n    }\n\n    snappingLngLat = this.getFeatureLinesSnapping(features, lngLat, point);\n    if (snappingLngLat) {\n      return snappingLngLat;\n    }\n\n    return lngLat;\n  }\n\n  getCustomLngLatsSnapping(point: ScreenPoint): LngLat | null {\n    const closestPointData: { distance: number, lngLat: LngLat | null } = {\n      distance: Infinity,\n      lngLat: null,\n    };\n\n    this.customSnappingLngLats.forEach((coordinates) => {\n      coordinates.forEach((customLngLat) => {\n        const coordPoint = this.gm.mapAdapter.project(customLngLat);\n        const distance = getEuclideanDistance(point, coordPoint);\n\n        if (distance < this.tolerance && distance < closestPointData.distance) {\n          closestPointData.distance = distance;\n          closestPointData.lngLat = customLngLat;\n        }\n      });\n    });\n\n    return closestPointData.lngLat;\n  }\n\n  getFeaturePointsSnapping(features: Array<FeatureData>, lngLat: LngLat, point: ScreenPoint) {\n    let featuresPointsSnapping = features.map((featureData) => ({\n      shape: featureData.shape,\n      ...this.getPointsSnapping(featureData, lngLat, point),\n    })).filter((item) => item.distance < this.tolerance);\n\n    if (featuresPointsSnapping.length) {\n      featuresPointsSnapping = sortBy(featuresPointsSnapping, ['distance']);\n      return featuresPointsSnapping[0].lngLat;\n    }\n    return null;\n  }\n\n  getFeatureLinesSnapping(features: Array<FeatureData>, lngLat: LngLat, point: ScreenPoint) {\n    type LineSpappingData = ReturnType<ShapeSnappingHandler> & { shape: FeatureShape };\n\n    let featuresLineSnapping = features.filter(\n      (featureData) => this.lineSnappingShapes.includes(featureData.shape),\n    ).map((featureData) => {\n      const snappingHandler = this.shapeSnappingHandlers[featureData.shape];\n      if (snappingHandler) {\n        return {\n          shape: featureData.shape,\n          ...snappingHandler(featureData, lngLat, point),\n        };\n      }\n      return null;\n    }).filter(\n      (item): item is LineSpappingData => item !== null && item.distance < this.tolerance,\n    );\n\n    if (featuresLineSnapping.length) {\n      featuresLineSnapping = sortBy(featuresLineSnapping, ['distance']);\n      return featuresLineSnapping[0].lngLat;\n    }\n\n    return null;\n  }\n\n  getFeaturesInPointBounds(point: ScreenPoint): Array<FeatureData> {\n    const bounds: [ScreenPoint, ScreenPoint] = [\n      [point[0] - this.tolerance, point[1] - this.tolerance],\n      [point[0] + this.tolerance, point[1] + this.tolerance],\n    ];\n\n    return this.gm.features.getFeaturesByScreenBounds(\n      { bounds, sourceNames: [SOURCES.main, SOURCES.temporary] },\n    ).filter((featureData) => {\n      return featureData.temporary ? this.customSnappingFeatures.has(featureData) : true;\n    }) || [];\n  }\n\n  getPointsSnapping(\n    featureData: FeatureData,\n    lngLat: LngLat,\n    point: ScreenPoint,\n  ): ReturnType<ShapeSnappingHandler> {\n    const shapeGeoJson = featureData.getGeoJson();\n    const closestPointData: { distance: number, coord: LngLat | null } = {\n      distance: Infinity,\n      coord: null, // lngLat coords\n    };\n\n    eachCoordinateWithPath(shapeGeoJson, (position) => {\n      const coordPoint = this.gm.mapAdapter.project(position.coordinate);\n      const distance = getEuclideanDistance(point, coordPoint);\n\n      if (distance < this.tolerance && distance < closestPointData.distance) {\n        closestPointData.distance = distance;\n        closestPointData.coord = position.coordinate;\n      }\n    }, true);\n\n    return {\n      lngLat: closestPointData.coord ? closestPointData.coord : lngLat,\n      distance: closestPointData.distance,\n    };\n  }\n\n  getLineSnapping(\n    featureData: FeatureData,\n    lngLat: LngLat,\n    point: ScreenPoint,\n  ): ReturnType<ShapeSnappingHandler> {\n    const shapeGeoJson = featureData.getGeoJson() as Feature<LineString>;\n    return this.getNearestLinePointData(shapeGeoJson, lngLat, point);\n  }\n\n  getNearestLinePointData(\n    lineGeoJson: Feature<LineString | MultiLineString>,\n    lngLat: LngLat,\n    point: ScreenPoint,\n  ) {\n    const result: ReturnType<ShapeSnappingHandler> = {\n      lngLat,\n      distance: Infinity,\n    };\n\n    const nearestPointLngLat = this.gm.mapAdapter.getEuclideanNearestLngLat(\n      lineGeoJson,\n      lngLat,\n    );\n\n    const nearestPointCoord = this.gm.mapAdapter.project(nearestPointLngLat);\n\n    result.distance = getEuclideanDistance(nearestPointCoord, point);\n    if (result.distance < this.tolerance) {\n      result.lngLat = nearestPointLngLat;\n    }\n\n    return result;\n  }\n}\n","import { SOURCES } from '@/core/features/index.ts';\nimport type { HelperModeName, LngLat } from '@/main.ts';\nimport { BaseHelper } from '@/modes/helpers/base.ts';\nimport bbox from '@turf/bbox';\nimport log from 'loglevel';\n\n\nexport class ZoomToFeaturesHelper extends BaseHelper {\n  mode: HelperModeName = 'zoom_to_features';\n  mapEventHandlers = {};\n\n  onStartAction() {\n    this.fitMapToFeatures();\n\n    setTimeout(() => {\n      this.gm.options.disableMode('helper', 'zoom_to_features');\n    });\n  }\n\n  onEndAction() {\n    // ...\n  }\n\n  fitMapToFeatures() {\n    const featureCollection = this.gm.features.asGeoJsonFeatureCollection({\n      sourceNames: [SOURCES.main, SOURCES.standby],\n    });\n    const bboxArray = bbox(featureCollection) as [number, number, number, number];\n    const bounds: [LngLat, LngLat] = [\n      [bboxArray[0], bboxArray[1]],\n      [bboxArray[2], bboxArray[3]],\n    ];\n\n    try {\n      this.gm.mapAdapter.fitBounds(bounds, { padding: 20 });\n    } catch {\n      log.warn('Wrong bounds for zooming to features', bounds, featureCollection);\n    }\n  }\n}\n","import type { Geoman, HelperModeName } from '@/main.ts';\nimport { BaseHelper } from '@/modes/helpers/base.ts';\nimport { ShapeMarkersHelper } from '@/modes/helpers/shape-markers.ts';\nimport { SnappingHelper } from '@/modes/helpers/snapping.ts';\nimport { ZoomToFeaturesHelper } from '@/modes/helpers/zoom-to-features.ts';\n\n\ntype HelperClassConstructor = new (gm: Geoman) => BaseHelper;\ntype HelperClassMap = {\n  [K in HelperModeName]: HelperClassConstructor | null;\n};\n\nexport const helperClassMap: HelperClassMap = {\n  shape_markers: ShapeMarkersHelper,\n  pin: null,\n  snapping: SnappingHelper,\n  snap_guides: null,\n  measurements: null,\n  auto_trace: null,\n  geofencing: null,\n  zoom_to_features: ZoomToFeaturesHelper,\n  click_to_edit: null,\n} as const;\n","import { BaseDomMarker } from '@/core/map/base/marker.ts';\nimport type { AnyEvent, Geoman, LngLat, MapEventHadler, MapEventHandlers, ScreenPoint } from '@/main.ts';\nimport { SnappingHelper } from '@/modes/helpers/snapping.ts';\nimport { convertToThrottled, isTouchScreen } from '@/utils/behavior.ts';\nimport { createMarkerElement } from '@/utils/dom.ts';\nimport { isMapPointerEvent } from '@/utils/guards/map.ts';\nimport log from 'loglevel';\n\n\ntype EnableMarkerParameters = {\n  lngLat?: LngLat,\n  customMarker?: BaseDomMarker,\n  invisibleMarker?: boolean,\n};\n\n\nexport class MarkerPointer {\n  gm: Geoman;\n  marker: BaseDomMarker | null = null;\n  tmpMarker: BaseDomMarker | null = null;\n  private snapping: boolean = false;\n  private oldSnapping: boolean | undefined = undefined;\n\n  declare throttledMethods: { onMouseMove: MapEventHadler, };\n  declare mapEventHandlers: MapEventHandlers;\n\n  constructor(gm: Geoman) {\n    this.gm = gm;\n    this.initEventHandlers();\n  }\n\n  initEventHandlers() {\n    this.throttledMethods = convertToThrottled({\n      onMouseMove: this.onMouseMove,\n    }, this, this.gm.options.settings.throttlingDelay);\n\n    this.mapEventHandlers = {\n      mousemove: this.throttledMethods.onMouseMove.bind(this),\n    };\n  }\n\n  get snappingHelper(): SnappingHelper | null {\n    return (\n      this.gm.actionInstances.helper__snapping || null\n    ) as SnappingHelper | null;\n  }\n\n  setSnapping(snapping: boolean) {\n    if (snapping && !this.snappingHelper) {\n      log.error('MarkerPointer: snapping is not available');\n      return;\n    }\n\n    this.snapping = snapping;\n  }\n\n  pauseSnapping() {\n    if (this.oldSnapping !== undefined) {\n      log.error('MarkerPointer: snapping is already paused');\n    }\n    this.oldSnapping = this.snapping;\n    this.setSnapping(false);\n  }\n\n  resumeSnapping() {\n    if (this.oldSnapping === undefined) {\n      log.error('MarkerPointer: resumeSnapping is called before pauseSnapping');\n      this.setSnapping(true);\n    } else {\n      this.setSnapping(this.oldSnapping);\n      this.oldSnapping = undefined;\n    }\n  }\n\n  enable({ lngLat, customMarker, invisibleMarker }: EnableMarkerParameters = {\n    lngLat: [0, 0],\n    customMarker: undefined,\n    invisibleMarker: false,\n  }) {\n    if (isTouchScreen()) {\n      // marker pointer is not available on touch screens\n      return;\n    }\n\n    if (customMarker && invisibleMarker) {\n      throw new Error('MarkerPointer: customMarker and invisibleMarker can\\'t be used together');\n    }\n    if (this.marker) {\n      throw new Error('MarkerPointer: marker is already enabled');\n    }\n\n    this.gm.events.bus.attachEvents(this.mapEventHandlers);\n    if (invisibleMarker) {\n      this.marker = this.createInvisibleMarker(lngLat || [0, 0]);\n    } else {\n      this.marker = customMarker || this.createMarker(lngLat || [0, 0]);\n    }\n\n    if (this.gm.getActiveDrawModes().length) {\n      this.gm.mapAdapter.setCursor('crosshair');\n    } else {\n      // this.gm.setMapCursor('pointer');\n    }\n  }\n\n  disable() {\n    if (this.marker) {\n      this.gm.events.bus.detachEvents(this.mapEventHandlers);\n      this.marker.remove();\n      this.marker = null;\n    }\n    this.gm.mapAdapter.setCursor('');\n  }\n\n  createMarker(lngLat: LngLat = [0, 0]): BaseDomMarker {\n    return this.gm.mapAdapter.createDomMarker({\n      anchor: 'center',\n      element: createMarkerElement('dom', { pointerEvents: 'none' }),\n    }, lngLat) as BaseDomMarker; // todo: create a marker abstraction\n  }\n\n  createInvisibleMarker(lngLat: LngLat = [0, 0]): BaseDomMarker {\n    const htmlElement = document.createElement('div');\n    htmlElement.style.width = '0px';\n    htmlElement.style.height = '0px';\n\n    return this.gm.mapAdapter.createDomMarker({\n      anchor: 'center',\n      element: htmlElement,\n    }, lngLat) as BaseDomMarker; // todo: create a marker abstraction\n  }\n\n  onMouseMove(event: AnyEvent) {\n    if (isMapPointerEvent(event, { warning: true }) && this.marker) {\n      if (this.snapping && this.snappingHelper) {\n        const point: ScreenPoint = [event.point.x, event.point.y];\n        const snappedLngLat = this.snappingHelper.getSnappedLngLat(event.lngLat.toArray(), point);\n        this.marker.setLngLat(snappedLngLat);\n      } else {\n        this.marker.setLngLat(event.lngLat.toArray());\n      }\n    }\n    return { next: true };\n  }\n\n  syncTmpMarker(lngLat: LngLat) {\n    if (!this.tmpMarker) {\n      this.tmpMarker = this.createMarker(lngLat);\n    }\n    this.tmpMarker.setLngLat(lngLat);\n  }\n}\n","export const customShapeTriangle = {\n  type: 'Feature',\n  properties: {\n    shape: 'polygon',\n  },\n  geometry: {\n    type: 'MultiPolygon',\n    coordinates: [\n      [\n        [\n          [\n            4.0,\n            51.2,\n          ],\n          [\n            5.4,\n            52.4,\n          ],\n          [\n            6.8,\n            51.2,\n          ],\n          [\n            4.0,\n            51.2,\n          ],\n        ],\n      ],\n    ],\n  },\n};\n\nexport const customShapeRectangle = {\n  type: 'Feature',\n  properties: {\n    shape: 'rectangle',\n  },\n  geometry: {\n    type: 'Polygon',\n    coordinates: [\n      [\n        [\n          -0.47,\n          51.67,\n        ],\n        [\n          1.43,\n          51.67,\n        ],\n        [\n          1.43,\n          53.32,\n        ],\n        [\n          -0.47,\n          53.32,\n        ],\n        [\n          -0.47,\n          51.67,\n        ],\n      ],\n    ],\n  },\n};\n","// index.ts\nimport * as polyclip from \"polyclip-ts\";\nimport { multiPolygon, polygon } from \"@turf/helpers\";\nimport { geomEach } from \"@turf/meta\";\nfunction union2(features, options = {}) {\n  const geoms = [];\n  geomEach(features, (geom) => {\n    geoms.push(geom.coordinates);\n  });\n  if (geoms.length < 2) {\n    throw new Error(\"Must have at least 2 geometries\");\n  }\n  const unioned = polyclip.union(geoms[0], ...geoms.slice(1));\n  if (unioned.length === 0) return null;\n  if (unioned.length === 1) return polygon(unioned[0], options.properties);\n  else return multiPolygon(unioned, options.properties);\n}\nvar turf_union_default = union2;\nexport {\n  turf_union_default as default,\n  union2 as union\n};\n//# sourceMappingURL=index.js.map","import { FeatureData } from '@/core/features/feature-data.ts';\nimport { SOURCES } from '@/core/features/index.ts';\nimport type { AnyEvent, EditModeName, FeatureShape, FeatureSourceName, MapHandlerReturnData } from '@/main.ts';\nimport { BaseEdit } from '@/modes/edit/base.ts';\nimport { isNonEmptyArray } from '@/utils/guards/index.ts';\nimport booleanIntersects from '@turf/boolean-intersects';\nimport difference from '@turf/difference';\nimport union from '@turf/union';\nimport type { Feature, FeatureCollection, MultiPolygon, Polygon } from 'geojson';\nimport log from 'loglevel';\n\n\nexport abstract class BaseGroupEdit extends BaseEdit {\n  abstract mode: EditModeName;\n  abstract allowedShapeTypes: Array<FeatureShape>;\n  features: Array<FeatureData> = [];\n  featureData: FeatureData | null = null;\n  mapEventHandlers = {\n    click: this.onMouseClick.bind(this),\n  };\n\n  onStartAction() {\n    // ...\n  }\n\n  onEndAction() {\n    this.features.forEach((featureData) => {\n      featureData.changeSource({ sourceName: SOURCES.main, atomic: true });\n    });\n    this.features = [];\n  }\n\n  onMouseClick(event: AnyEvent): MapHandlerReturnData {\n    // check if a clicked feature temporary, if yes, convert it to regular\n    const featureUnselected = this.unselectFeature(event);\n    if (featureUnselected) {\n      return { next: true };\n    }\n\n    // if a feature is regular, convert it to temporary and add to the features array\n    const featureData = this.getAllowedFeatureByMouseEvent({ event, sourceNames: [SOURCES.main] });\n    if (featureData && this.isFeatureAllowedToGroup(featureData)) {\n      featureData.changeSource({ sourceName: SOURCES.temporary, atomic: true });\n      this.features.push(featureData);\n    }\n\n    // if there are two features in the array, group them\n    if (this.features.length > 1) {\n      this.groupFeatures();\n      return { next: true };\n    }\n\n    return { next: true };\n  }\n\n  unselectFeature(event: AnyEvent) {\n    const tmpFeatureData = this.getAllowedFeatureByMouseEvent({\n      event,\n      sourceNames: [SOURCES.temporary],\n    });\n    if (tmpFeatureData) {\n      const featureIndex = this.features.findIndex(\n        (featureData) => featureData === tmpFeatureData,\n      );\n      if (featureIndex > -1) {\n        this.features.splice(featureIndex, 1);\n      }\n      tmpFeatureData.changeSource({ sourceName: SOURCES.main, atomic: true });\n      return true;\n    }\n    return false;\n  }\n\n  getAllowedFeatureByMouseEvent({ event, sourceNames }: {\n    event: AnyEvent,\n    sourceNames: Array<FeatureSourceName>,\n  }) {\n    const featureData = this.gm.features.getFeatureByMouseEvent({ event, sourceNames });\n    if (featureData && this.allowedShapeTypes.includes(featureData.shape)) {\n      return featureData;\n    }\n    return null;\n  }\n\n  isFeatureAllowedToGroup(featureData: FeatureData) {\n    if (!this.allowedShapeTypes.includes(featureData.shape)) {\n      return false;\n    }\n    if (this.features.length === 0) {\n      return true;\n    }\n\n    const newFeatureGeoJson = featureData.getGeoJson();\n    return this.features.every(\n      (feature) => booleanIntersects(feature.getGeoJson(), newFeatureGeoJson),\n    );\n  }\n\n  groupFeatures() {\n    if (!this.features.length) {\n      log.error('BaseGroupEdit.groupFeatures: no features to group');\n      return;\n    }\n\n    const featureCollection: FeatureCollection<Polygon | MultiPolygon> = {\n      type: 'FeatureCollection',\n      features: this.features.map((featureData) => {\n        const geoJson = featureData.getGeoJson();\n        if (['Polygon', 'MultiPolygon'].includes(geoJson.geometry.type)) {\n          return geoJson as Feature<Polygon | MultiPolygon>;\n        }\n        return null;\n      }).filter((feature) => !!feature),\n    };\n\n    let resultGeoJson: Feature<Polygon | MultiPolygon> | null = null;\n    if (this.mode === 'union') {\n      resultGeoJson = union(featureCollection);\n    } else if (this.mode === 'difference') {\n      resultGeoJson = difference(featureCollection);\n    }\n\n    if (resultGeoJson) {\n      const featureData = this.gm.features.createFeature({\n        shapeGeoJson: {\n          ...resultGeoJson,\n          properties: {\n            ...resultGeoJson.properties,\n            shape: 'polygon',\n          },\n        },\n        sourceName: SOURCES.main,\n      });\n\n      this.features.forEach((feature) => {\n        this.gm.features.delete(feature);\n      });\n\n      if (featureData && isNonEmptyArray(this.features)) {\n        this.fireFeatureUpdatedEvent({\n          sourceFeatures: this.features,\n          targetFeatures: [featureData],\n        });\n      }\n\n      this.features = [];\n    }\n  }\n}\n","/* A MapLibre Plugin For Drawing and Editing Geometry Layers\n * Copyright (C) Geoman.io - All Rights Reserved\n */\nimport defaultMarker from '@/assets/images/markers/default-marker.png';\nimport GMControl from '@/core/controls/index.ts';\nimport { type EventForwarder } from '@/core/events/forwarder.ts';\nimport GMEvents from '@/core/events/index.ts';\nimport { gmPrefix } from '@/core/events/listeners/base.ts';\nimport { Features } from '@/core/features/index.ts';\nimport { BaseMapAdapter } from '@/core/map/base/index.ts';\nimport { getMapAdapter } from '@/core/map/index.ts';\nimport { GmOptions } from '@/core/options/index.ts';\nimport { BaseDraw } from '@/modes/draw/base.ts';\nimport { BaseEdit } from '@/modes/edit/base.ts';\nimport { BaseHelper } from '@/modes/helpers/base.ts';\nimport type { ModeName } from '@/types/controls.ts';\nimport { type AnyMapInstance, type LngLat, type MapInstanceWithGeoman } from '@/types/map/index.ts';\nimport {\n  type ActionInstance,\n  type ActionInstanceKey,\n  type DrawModeName,\n  type EditModeName,\n  type HelperModeName,\n} from '@/types/modes/index.ts';\n\nimport { drawClassMap } from '@/modes/draw/index.ts';\nimport { editClassMap } from '@/modes/edit/index.ts';\nimport { helperClassMap } from '@/modes/helpers/index.ts';\nimport '@/styles/map/maplibre.css';\nimport '@/styles/style.css';\nimport type { ActionType, GmOptionsData } from '@/types/options.ts';\nimport { MarkerPointer } from '@/utils/draw/marker-pointer.ts';\nimport { hasMapOnceMethod } from '@/utils/guards/map.ts';\nimport { isActionType, isGmDrawEvent, isModeName } from '@/utils/guards/modes.ts';\nimport { typedKeys } from '@/utils/typing.ts';\nimport log from 'loglevel';\nimport type { PartialDeep } from 'type-fest';\n\n\n// declare module 'maplibre-gl' {\n//   interface Map {\n//     gm?: Geoman;\n//   }\n// }\n\nexport class Geoman {\n  mapAdapterInstance: BaseMapAdapter<AnyMapInstance> | null = null;\n  globalLngLatBounds: [LngLat, LngLat] = this.getGlobalLngLatBounds();\n  features: Features;\n  loaded: boolean = false;\n\n  options: GmOptions;\n  events: GMEvents;\n  control: GMControl;\n\n  actionInstances: { [key in ActionInstanceKey]?: ActionInstance } = {};\n  markerPointer: MarkerPointer;\n\n  constructor(map: AnyMapInstance, options: PartialDeep<GmOptionsData> = {}) {\n    const mapWithGeoman = Object.assign(map, { gm: this });\n\n    this.options = this.initCoreOptions(options);\n    this.events = this.initCoreEvents();\n    this.features = this.initCoreFeatures();\n    this.control = this.initCoreControls();\n    this.markerPointer = this.initMarkerPointer();\n\n    if (hasMapOnceMethod(map)) {\n      if (this.isMapInstanceLoaded(map)) {\n        this.init(mapWithGeoman).then();\n      } else {\n        map.once('load', async () => {\n          await this.init(mapWithGeoman);\n        });\n      }\n    }\n  }\n\n  initCoreOptions(options: PartialDeep<GmOptionsData> = {}) {\n    return new GmOptions(this, options);\n  }\n\n  initCoreEvents() {\n    return new GMEvents(this);\n  }\n\n  initCoreFeatures() {\n    return new Features(this);\n  }\n\n  initCoreControls() {\n    return new GMControl(this);\n  }\n\n  initMarkerPointer() {\n    return new MarkerPointer(this);\n  }\n\n  get drawClassMap() {\n    return drawClassMap;\n  }\n\n  get editClassMap() {\n    return editClassMap;\n  }\n\n  get helperClassMap() {\n    return helperClassMap;\n  }\n\n  get mapAdapter(): BaseMapAdapter<AnyMapInstance> {\n    if (this.mapAdapterInstance) {\n      return this.mapAdapterInstance;\n    }\n    log.trace('Map adapter is not initialized');\n    throw new Error('Map adapter is not initialized');\n  }\n\n  addControls(controlsElement: HTMLElement | undefined = undefined) {\n    return new Promise<void>((resolve) => {\n      const handleCreateControls = async () => {\n        if (controlsElement) {\n          this.control.createControls(controlsElement);\n        } else {\n          this.mapAdapter.addControl(this.control);\n        }\n        await this.onMapLoad();\n        resolve();\n      };\n\n      handleCreateControls().then();\n    });\n  }\n\n  isMapInstanceLoaded(map: AnyMapInstance) {\n    return '_fullyLoaded' in map && map._fullyLoaded;\n  }\n\n  async init(map: MapInstanceWithGeoman) {\n    this.mapAdapterInstance = await getMapAdapter(this, map);\n    this.features.init();\n    await this.addControls();\n  }\n\n  destroy() {\n    this.removeControls();\n    this.events.bus.detachAllEvents();\n\n    if ('gm' in this.mapAdapter.mapInstance) {\n      delete this.mapAdapter.mapInstance.gm;\n    }\n  }\n\n  removeControls() {\n    this.disableAllModes();\n    this.mapAdapter.removeControl(this.control);\n  }\n\n  async onMapLoad() {\n    if (this.loaded) {\n      return;\n    }\n\n    await this.mapAdapter.loadImage({\n      id: 'default-marker',\n      image: defaultMarker,\n    });\n\n    this.events.fire(`${gmPrefix}:control`, {\n      level: 'system',\n      type: 'control',\n      action: 'loaded',\n    });\n    this.loaded = true;\n  }\n\n  disableAllModes() {\n    typedKeys(this.actionInstances).forEach((key) => {\n      const [actionType, mode] = key.split('__');\n\n      if (isActionType(actionType) && isModeName(mode)) {\n        this.options.disableMode(actionType, mode);\n      }\n    });\n  }\n\n  getActiveDrawModes(): Array<DrawModeName> {\n    return typedKeys(this.actionInstances).map((key) => {\n      const instance = this.actionInstances[key];\n      return instance instanceof BaseDraw ? instance.mode : null;\n    }).filter((mode): mode is DrawModeName => mode !== null);\n  }\n\n  getActiveEditModes(): Array<EditModeName> {\n    return typedKeys(this.actionInstances).map((key) => {\n      const instance = this.actionInstances[key];\n      return instance instanceof BaseEdit ? instance.mode : null;\n    }).filter((mode): mode is EditModeName => mode !== null);\n  }\n\n  getActiveHelperModes(): Array<HelperModeName> {\n    return typedKeys(this.actionInstances).map((key) => {\n      const instance = this.actionInstances[key];\n      return instance instanceof BaseHelper ? instance.mode : null;\n    }).filter((mode): mode is HelperModeName => mode !== null);\n  }\n\n  getGlobalLngLatBounds(): [LngLat, LngLat] {\n    // these coordinates are used to restrict the map to the maximum possible bounds\n    // mercator projection is used for the map, so the maximum latitude is MAX_VALID_LATITUDE\n    // import { MAX_VALID_LATITUDE } from 'maplibre-gl/src/geo/transform.ts';\n\n    const MAX_VALID_LATITUDE = 85.051129;\n    return [\n      [-179.99999, -MAX_VALID_LATITUDE],\n      [179.99999, MAX_VALID_LATITUDE],\n    ];\n  }\n\n  createDrawInstance(shape: DrawModeName) {\n    if (this.drawClassMap[shape]) {\n      return new this.drawClassMap[shape](this);\n    }\n\n    log.error(`Draw \"${shape}\" is not available`);\n    return null;\n  }\n\n  createEditInstance(mode: EditModeName) {\n    if (this.editClassMap[mode]) {\n      return new this.editClassMap[mode](this);\n    }\n\n    log.error(`Edit \"${mode}\" is not available`);\n    return null;\n  }\n\n  createHelperInstance(mode: HelperModeName) {\n    if (this.helperClassMap[mode]) {\n      return new this.helperClassMap[mode](this);\n    }\n\n    log.error(`Helper \"${mode}\" is not available`);\n    return null;\n  }\n\n  setGlobalEventsListener(callback: EventForwarder['globalEventsListener'] = null) {\n    this.events.bus.forwarder.globalEventsListener = callback;\n  }\n\n  enableMode(actionType: ActionType, modeName: ModeName) {\n    this.options.enableMode(actionType, modeName);\n  }\n\n  disableMode(actionType: ActionType, modeName: ModeName) {\n    this.options.disableMode(actionType, modeName);\n  }\n\n  toggleMode(actionType: ActionType, modeName: ModeName) {\n    this.options.toggleMode(actionType, modeName);\n  }\n\n  isModeEnabled(actionType: ActionType, modeName: ModeName) {\n    return this.options.isModeEnabled(actionType, modeName);\n  }\n\n  // helper methods for compatibility with the old API\n  // draw (draw:*)\n  enableDraw(shape: DrawModeName) {\n    this.options.enableMode('draw', shape);\n  }\n\n  disableDraw() {\n    this.getActiveDrawModes().forEach(\n      (shape) => this.options.disableMode('draw', shape),\n    );\n  }\n\n  toggleDraw(shape: DrawModeName) {\n    this.options.toggleMode('draw', shape);\n  }\n\n  drawEnabled(shape: DrawModeName) {\n    return this.options.isModeEnabled('draw', shape);\n  }\n\n  // drag(edit:drag)\n  enableGlobalDragMode() {\n    this.options.enableMode('edit', 'drag');\n  }\n\n  disableGlobalDragMode() {\n    this.options.disableMode('edit', 'drag');\n  }\n\n  toggleGlobalDragMode() {\n    this.options.toggleMode('edit', 'drag');\n  }\n\n  globalDragModeEnabled() {\n    return this.options.isModeEnabled('edit', 'drag');\n  }\n\n  // edit (edit:change)\n  enableGlobalEditMode() {\n    this.options.enableMode('edit', 'change');\n  }\n\n  disableGlobalEditMode() {\n    this.options.disableMode('edit', 'change');\n  }\n\n  toggleGlobalEditMode() {\n    this.options.toggleMode('edit', 'change');\n  }\n\n  globalEditModeEnabled() {\n    return this.options.isModeEnabled('edit', 'change');\n  }\n\n  // rotate (edit:rotate)\n  enableGlobalRotateMode() {\n    this.options.enableMode('edit', 'rotate');\n  }\n\n  disableGlobalRotateMode() {\n    this.options.disableMode('edit', 'rotate');\n  }\n\n  toggleGlobalRotateMode() {\n    this.options.toggleMode('edit', 'rotate');\n  }\n\n  globalRotateModeEnabled() {\n    return this.options.isModeEnabled('edit', 'rotate');\n  }\n\n  // cut (edit:cut)\n  enableGlobalCutMode() {\n    this.options.enableMode('edit', 'cut');\n  }\n\n  disableGlobalCutMode() {\n    this.options.disableMode('edit', 'cut');\n  }\n\n  toggleGlobalCutMode() {\n    this.options.toggleMode('edit', 'cut');\n  }\n\n  globalCutModeEnabled() {\n    return this.options.isModeEnabled('edit', 'cut');\n  }\n\n  // remove (edit:delete)\n  enableGlobalRemovalMode() {\n    this.options.enableMode('edit', 'delete');\n  }\n\n  disableGlobalRemovalMode() {\n    this.options.disableMode('edit', 'delete');\n  }\n\n  toggleGlobalRemovalMode() {\n    this.options.toggleMode('edit', 'delete');\n  }\n\n  globalRemovalModeEnabled() {\n    return this.options.isModeEnabled('edit', 'delete');\n  }\n}\n\nexport const createGeomanInstance = async (\n  map: AnyMapInstance,\n  options: PartialDeep<GmOptionsData>,\n) => {\n  const TIMEOUT = 60000;\n  const geoman = new Geoman(map, options);\n\n  await Promise.race([\n    new Promise((resolve) => {\n      geoman.mapAdapter.once(`${gmPrefix}:loaded`, resolve);\n    }),\n    new Promise((_, reject) => {\n      setTimeout(() => reject(new Error(`Timeout ${TIMEOUT / 1000} seconds: can't init geoman`)), TIMEOUT);\n    }),\n  ]);\n\n  return geoman;\n};\n\n// export all possible types to make them available in rollup-dts\nexport * from '@/types/index.ts';\n\n// constants\nexport { gmPrefix } from '@/core/events/listeners/base.ts';\nexport { FEATURE_ID_PROPERTY, SOURCES } from '@/core/features/index.ts';\nexport { controlIcons } from '@/core/options/icons.ts';\nexport { default as defaultLayerStyles } from '@/core/options/layers/style.ts';\nexport { customShapeRectangle, customShapeTriangle } from '@/core/options/shapes.ts';\nexport { drawModes, extraDrawModes, shapeNames } from '@/modes/draw/base.ts';\nexport { editModes } from '@/modes/edit/base.ts';\nexport { helperModes } from '@/modes/helpers/base.ts';\n\n// core classes\nexport { GmOptions } from '@/core/options/index.ts';\nexport { drawClassMap, editClassMap, helperClassMap };\n\n// utils\nexport { mergeByTypeCustomizer } from '@/core/options/utils.ts';\nexport { convertToThrottled } from '@/utils/behavior.ts';\nexport { isGeoJsonFeatureInPolygon, moveFeatureData, moveGeoJson } from '@/utils/features.ts';\nexport {\n  boundsContains,\n  boundsToBBox, calculatePerimeter, convertToLineStringFeatureCollection,\n  eachCoordinateWithPath,\n  eachSegmentWithPath, findCoordinateWithPath, geoJsonPointToLngLat, getEuclideanDistance,\n  getEuclideanSegmentNearestPoint, getGeoJsonCoordinatesCount, getGeoJsonFirstPoint, getLngLatDiff, isEqualPosition, isMultiPolygonFeature,\n  isPolygonFeature, lngLatToGeoJsonPoint, twoCoordsToLineString\n} from '@/utils/geojson.ts';\nexport { formatArea, formatDistance, toMod } from '@/utils/number.ts';\nexport { includesWithType, typedKeys } from '@/utils/typing.ts';\n\n// guards\nexport {\n  isGmDrawFreehandDrawerEvent, isGmDrawLineDrawerEvent, isGmDrawShapeEvent\n} from '@/utils/guards/events/draw.ts';\nexport { isGmEditEvent } from '@/utils/guards/events/edit.ts';\nexport { isGmFeatureBeforeCreateEvent, isGmFeatureBeforeUpdateEvent } from '@/utils/guards/events/features.ts';\nexport { isGmHelperEvent } from '@/utils/guards/events/helper.ts';\nexport { isGmControlEvent, isGmEvent, isGmModeEvent } from '@/utils/guards/events/index.ts';\nexport * from '@/utils/guards/index.ts';\nexport { isGmDrawEvent };\n\n// features\nexport { FeatureData } from '@/core/features/feature-data.ts';\n\n// base adapter classes\nexport { BaseMapAdapter } from '@/core/map/base/index.ts';\nexport { BaseLayer } from '@/core/map/base/layer.ts';\nexport { BaseDomMarker } from '@/core/map/base/marker.ts';\nexport { BasePopup } from '@/core/map/base/popup.ts';\nexport { BaseSource } from '@/core/map/base/source.ts';\n\n// base actions\nexport { BaseAction } from '@/modes/base-action.ts';\nexport { BaseDraw } from '@/modes/draw/base.ts';\nexport { BaseDrag } from '@/modes/edit/base-drag.ts';\nexport { BaseGroupEdit } from '@/modes/edit/base-group.ts';\nexport { BaseEdit } from '@/modes/edit/base.ts';\nexport { BaseHelper } from '@/modes/helpers/base.ts';\n\n// specific actions\nexport { ShapeMarkersHelper } from '@/modes/helpers/shape-markers.ts';\nexport { LineDrawer } from '@/utils/draw/line-drawer.ts';\nexport { MarkerPointer } from '@/utils/draw/marker-pointer.ts';\n\n"],"names":["defaultMarker","systemControls","change","circleMarker","circle$1","drag","line","marker","polygon$1","rectangle","remove","rotate","snapGuides","textMarker","autoTrace","copy","customShape","cut","difference$1","freehand","geoFencing","lasso","lineSimplification","measurements","mouse","pin","scale","snapping","split","union$1","zoomToFeatures","controlIcons","circle","polygon","union","difference","modeActions","typedKeys","obj","typedValues","includesWithType","value","validValues","root","definition","module","this","noop","undefinedType","isIE","logMethods","_loggersByName","defaultLogger","bindMethod","methodName","method","traceForIE","realMethod","replaceLoggingMethods","level","i","enableLoggingWhenConsoleArrives","defaultMethodFactory","_level","_loggerName","Logger","name","factory","self","inheritedLevel","defaultLevel","userLevel","storageKey","persistLevelIfPossible","levelNum","levelName","getPersistedLevel","storedLevel","cookie","cookieName","location","clearPersistedLevel","normalizeLevel","input","persist","childName","initialLevel","logger","_log","BaseDomMarker","log","earthRadius","factors","feature","geom","properties","options","feat","point","coordinates","isNumber","ring","j","lineString","featureCollection","features","fc","multiLineString","multiPolygon","radiansToLength","radians","units","factor","lengthToRadians","distance","radiansToDegrees","degreesToRadians","degrees","convertLength","length","originalUnit","finalUnit","num","isObject","coordEach","geojson","callback","excludeWrapCoord","k","l","geometry","stopG","coords","geometryMaybeCollection","wrapShrink","coordIndex","isGeometryCollection","type","isFeatureCollection","isFeature","stop","featureIndex","geomIndex","multiFeatureIndex","geometryIndex","geomType","featureEach","featureReduce","initialValue","previousValue","currentFeature","geomEach","g","featureProperties","featureBBox","featureId","geomReduce","currentGeometry","flattenEach","bbox","id","coordinate","result","coord","turf_bbox_default","getCoord","getCoords","getGeom","getType","_name","destination","origin","bearing","coordinates1","longitude1","latitude1","bearingRad","latitude2","longitude2","lng","lat","center","radius","steps","turf_circle_default","from","to","coordinates2","dLat","dLon","lat1","lat2","a","turf_distance_default","polygonToLine","poly","singlePolygonToLine","multiPolygonToLine","coordsToLine","multiPoly","lines","freeGlobal","freeSelf","Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","getRawTag","isOwn","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","symbolTag","isSymbol","arrayMap","array","iteratee","index","isArray","symbolProto","symbolToString","baseToString","reWhitespace","trimmedEndIndex","string","reTrimStart","baseTrim","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","isBinary","identity","asyncTag","funcTag","genTag","proxyTag","isFunction","coreJsData","maskSrcKey","uid","isMasked","func","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","baseIsNative","pattern","getValue","object","key","getNative","WeakMap","objectCreate","baseCreate","proto","apply","thisArg","args","copyArray","source","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","count","lastCalled","stamp","remaining","constant","defineProperty","baseSetToString","setToString","arrayEach","baseFindIndex","predicate","fromIndex","fromRight","baseIsNaN","strictIndexOf","baseIndexOf","arrayIncludes","MAX_SAFE_INTEGER","reIsUint","isIndex","baseAssignValue","eq","assignValue","objValue","copyObject","props","customizer","isNew","newValue","nativeMax","overRest","start","transform","otherArgs","baseRest","isLength","isArrayLike","isIterateeCall","createAssigner","assigner","sources","guard","isPrototype","Ctor","baseTimes","argsTag","baseIsArguments","propertyIsEnumerable","isArguments","stubFalse","freeExports","freeModule","moduleExports","Buffer","nativeIsBuffer","isBuffer","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeProcess","nodeUtil","types","nodeIsTypedArray","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","overArg","arg","nativeKeys","baseKeys","keys","nativeKeysIn","baseKeysIn","isProto","keysIn","reIsDeepProp","reIsPlainProp","isKey","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","hashGet","data","hashHas","hashSet","Hash","entries","entry","listCacheClear","assocIndexOf","arrayProto","splice","listCacheDelete","lastIndex","listCacheGet","listCacheHas","listCacheSet","ListCache","Map","mapCacheClear","isKeyable","getMapData","map","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","size","MapCache","FUNC_ERROR_TEXT","memoize","resolver","memoized","cache","MAX_MEMOIZE_SIZE","memoizeCapped","rePropName","reEscapeChar","stringToPath","match","number","quote","subString","toString","castPath","toKey","baseGet","path","get","defaultValue","arrayPush","values","offset","spreadableSymbol","isFlattenable","baseFlatten","depth","isStrict","getPrototype","objectCtorString","isPlainObject","stackClear","stackDelete","stackGet","stackHas","LARGE_ARRAY_SIZE","stackSet","pairs","Stack","allocUnsafe","cloneBuffer","buffer","isDeep","arrayFilter","resIndex","stubArray","nativeGetSymbols","getSymbols","symbol","baseGetAllKeys","keysFunc","symbolsFunc","getAllKeys","DataView","Promise","Set","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","initCloneArray","Uint8Array","cloneArrayBuffer","arrayBuffer","cloneDataView","dataView","reFlags","cloneRegExp","regexp","symbolValueOf","cloneSymbol","cloneTypedArray","typedArray","initCloneByTag","initCloneObject","baseIsMap","nodeIsMap","isMap","baseIsSet","nodeIsSet","isSet","CLONE_DEEP_FLAG","cloneableTags","baseClone","bitmask","stack","isFunc","stacked","subValue","CLONE_SYMBOLS_FLAG","cloneDeep","setCacheAdd","setCacheHas","SetCache","arraySome","cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","mapToArray","setToArray","set","equalByTag","convert","equalObjects","objProps","objLength","othProps","objStacked","skipCtor","objCtor","othCtor","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","baseIsMatch","matchData","srcValue","isStrictComparable","getMatchData","matchesStrictComparable","baseMatches","baseHasIn","hasPath","hasFunc","hasIn","baseMatchesProperty","baseProperty","basePropertyDeep","property","baseIteratee","arrayAggregator","setter","accumulator","createBaseFor","iterable","baseFor","baseForOwn","createBaseEach","eachFunc","collection","baseEach","baseAggregator","createAggregator","initializer","now","nativeMin","debounce","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","assignMergeValue","isArrayLikeObject","safeGet","toPlainObject","baseMergeDeep","srcIndex","mergeFunc","isCommon","isTyped","baseMerge","mergeWith","arrayIncludesWith","comparator","baseMap","baseValues","baseIntersection","arrays","includes","caches","maxLength","outer","computed","castArrayLikeObject","intersection","mapped","isEqual","keyBy","merge","baseSortBy","comparer","compareAscending","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","compareMultiple","orders","objCriteria","othCriteria","ordersLength","order","baseOrderBy","iteratees","criteria","sortBy","throttle","INFINITY","createSet","baseUniq","seenIndex","uniqWith","isEqualPosition","position1","position2","isLineStringFeature","geoJson","isMultiLineStringFeature","isPolygonFeature","isMultiPolygonFeature","multiLineStringToFeatureCollection","lineCoordinates","getLngLatDiff","startLngLat","endLngLat","isPosition","position","item","eachCoordinateWithPath","skipClosingCoordinate","counter","nestedKeys","traverseGeoJson","geoJsonItem","currentPath","isPolygon","subItem","itemType","nextIsPolygon","findCoordinateWithPath","targetPosition","targetIndex","eachSegmentWithPath","nextGeoJsonItem","nextPath","findCoordinateIndices","lngLat","indices","turfCoordEach","currentCoord","twoCoordsToLineString","getBboxFromTwoCoords","lngLat1","lngLat2","lng1","lng2","minX","minY","maxX","maxY","twoCoordsToGeoJsonRectangle","bBox","southWest","northEast","geoJsonPointToLngLat","getGeoJsonBounds","bounds","boundsToBBox","bBoxContains","bBoxBounds","boundsContains","getGeoJsonCoordinatesCount","getAllGeoJsonCoordinates","allCoordinatesEqual","featureLngLats","getGeoJsonFirstPoint","shapeGeoJson","firstPoint","getEuclideanDistance","point1","point2","getEuclideanSegmentNearestPoint","linePoint1","linePoint2","targetPoint","x1","y1","x2","y2","px","py","vx","vy","wx","wy","c1","c2","b","removeVertexFromLine","lineGeoJson","vertexLngLat","absCoordIndex","removeVertexFromPolygon","coordIndices","coordinatesPath","targetCoordIndex","removeVertexFromMultiPolygon","coordinatesContainer","removeVertexFromGeoJsonFeature","calculatePerimeter","perimeter","segment","turfDistance","convertToLineStringFeatureCollection","sourceFeatureCollection","targetFeatureCollection","lineFeature","lngLatToGeoJsonPoint","shape","getGeoJsonCircle","circleGeoJson","turfCircle","centroid","xSum","ySum","len","turf_centroid_default","conversionAllowedShapes","FeatureData","parameters","__publicField","sourceName","SOURCES","geoJsonFeature","FEATURE_ID_PROPERTY","markerData","fcGeoJson","diff","shapeCentroid","atomic","isGmFeatureBeforeCreateEvent","payload","isGmEvent","isGmFeatureBeforeUpdateEvent","controlActions","isGmControlEvent","isGmModeEvent","gmPrefix","BaseEventListener","gm","currentSectionName","currentModeName","control","actionType","targetMode","_a","modeName","sectionName","BaseSource","geofencingViolationActions","isGmHelperEvent","isGmGeofencingViolationEvent","actionTypes","BaseAction","option","choiceItemValue","event","geoJsonFeatures","forceMode","isGmDrawEvent","isGmDrawShapeEvent","isGmDrawLineDrawerEvent","isGmDrawFreehandDrawerEvent","shapeNames","extraDrawModes","drawModes","BaseDraw","featureGeoJson","eventData","epsilon","splitter","resulterrbound","sum","elen","e","flen","f","h","Q","Qnew","hh","bvirt","enow","fnow","eindex","findex","hindex","estimate","vec","ccwerrboundA","ccwerrboundB","ccwerrboundC","B","C1","C2","D","u","orient2dadapt","ax","ay","bx","by","cx","cy","detsum","acxtail","acytail","bcxtail","bcytail","c","ahi","alo","bhi","blo","_i","_j","_0","s1","s0","t1","t0","u3","acx","bcx","acy","bcy","det","errbound","C1len","C2len","Dlen","orient2d","detleft","detright","pointInPolygon","p","ii","u1","v1","u2","v2","currentP","nextP","x","y","numContours","contour","contourLen","booleanPointInPolygon","pt","polys","inBBox","polyResult","pip","TinyQueue","compare","defaultCompare","top","bottom","pos","parent","current","halfLength","left","best","right","checkWhichEventIsLeft","e1","e2","checkWhichSegmentHasRightEndpointFirst","seg1","seg2","Event","ringId","eventId","eventToCheck","fillEventQueue","eventQueue","processFeature","featureOrGeometry","iii","Segment$1","testSegmentIntersect","x3","y3","x4","y4","denom","numeA","numeB","uA","uB","runCheck","ignoreSelfIntersections","intersectionPoints","outQueue","Segment","otherSeg","sweeplineIntersections","lib","lineIntersect","line1","line2","removeDuplicates","intersections","results","unique","r","turf_line_intersect_default","clone","cloneFeature","cloneFeatureCollection","cloneGeometry","cloned","cloneProperties","deepSlice","turf_clone_default","booleanClockwise","prev","cur","rewind","_b","mutate","reverse","rewindFeature","rewoundFeature","rewindLineString","rewindPolygon","lineCoords","turf_rewind_default","pointBasedGeometryType","lineBasedGeometryType","isPointBasedGeoJsonFeature","isLineBasedGeoJsonFeature","ext","t","n","v","s","o","d","_","m","I","E","N","T","S","L","C","R","w","O","M","A","P","F","G","q","Y","z","X","U","V","H","Z","W","K","J","$","tt","et","nt","it","rt","st","at","ot","ut","lt","ht","ct","ft","gt","vt","yt","dt","_t","mt","kt","xt","It","Et","Nt","Tt","St","Lt","Ct","Rt","wt","Ot","bt","Mt","At","Pt","Dt","Ft","Gt","qt","Yt","zt","Xt","Bt","Ut","Vt","Ht","Zt","jt","Wt","Kt","Jt","Qt","$t","te","ee","ne","ie","re","se","ae","oe","ue","le","he","ce","fe","ge","ve","ye","de","_e","pe","me","ke","xe","Ie","Ee","Ne","Te","Se","Le","Ce","Re","we","Oe","be","Me","Ae","Pe","De","Fe","Ge","qe","Ye","ze","Xe","Be","Ue","Ve","He","Ze","je","We","Ke","Je","Qe","$e","tn","en","nn","rn","sn","an","on","un","ln","hn","cn","fn","gn","vn","yn","dn","_n","xn","pn","mn","kn","In","En","Nn","Tn","Sn","Ln","Cn","Rn","wn","On","bn","Mn","An","Pn","Dn","Fn","Gn","qn","Yn","zn","Xn","Bn","Un","Vn","Hn","Zn","jn","Wn","Kn","Jn","Qn","ri","$n","ti","ei","ni","si","ai","oi","ui","li","hi","ci","fi","gi","vi","yi","di","pi","adder","Adder","add","temp","bv","av","halfPi","quarterPi","tau","abs","atan","atan2","cos","sin","sqrt","acos","asin","streamGeometry","stream","streamGeometryType","streamObjectType","streamLine","streamPolygon","geometries","closed","geoStream","spherical","cartesian","lambda","phi","cosPhi","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","compose","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","circleStream","delta","direction","cosRadius","sinRadius","step","circleRadius","clipBuffer","clipLine","x0","y0","dx","dy","pointEqual","Intersection","points","clipPolygon","segments","compareIntersection","startInside","interpolate","subject","clip","p0","p1","link","isSubject","ascending","bisector","ascendingComparator","lo","mid","merged","clipMax","clipMin","clipExtent","visible","a1","corner","comparePoint","ca","cb","activeStream","bufferStream","x__","y__","v__","x_","y_","v_","first","clean","clipStream","lineStart","lineEnd","polygonStart","polygonEnd","polygonInside","winding","a0","b0","b1","cleanInside","linePoint","polygonContains","normal","angle","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","phi1","sign","absDelta","antimeridian","arc","phiArc","boundsStream","boundsPoint","pointVisible","sink","rotatedStart","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","pointLine","ringSegments","validSegment","clipAntimeridian","clipAntimeridianLine","clipAntimeridianInterpolate","sign0","sign1","clipAntimeridianIntersect","sinLambda0Lambda1","clipCircle","cr","smallRadius","notHemisphere","c0","v0","v00","code","intersect","two","pa","pb","n1","n2","n2n2","n1n2","determinant","n1xn2","uu","t2","polar","meridian","q1","transformer","methods","TransformStream","fitExtent","projection","extent","fitSize","maxDepth","cosMinDistance","resample","project","delta2","resampleNone","resampleLineTo","d2","phi2","lambda2","dx2","dy2","dz","lambda00","x00","y00","a00","b00","c00","resampleStream","ringPoint","transformRadians","projectionMutator","projectAt","projectRotate","theta","preclip","postclip","projectResample","projectTransform","cacheStream","invert","reset","recenter","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","geoAzimuthalEquidistant","equirectangularRaw","BufferOp","GeoJSONReader","GeoJSONWriter","jsts","buffered","bufferFeature","feature2","multiBuffered","geometry2","buffered2","defineProjection","projected","projectCoords","reader","writer","coordsIsNaN","unprojectCoords","proj","turf_buffer_default","moveGeoJson","lngLatDiff","getBufferedOuterPolygon","mapAdapter","polygonGeoJson","widthMeters","getMovedGeoJson","featureData","moveFeatureData","allFeaturePointsInPolygon","containerGeoJson","isGeoJsonFeatureInPolygon","allPointsInPolygon","getFeatureFirstPoint","fixGeoJsonFeature","resultFeature","pointerEvents","baseMapEventNames","isPointerEventName","isBaseMapEventName","hasMapOnceMethod","isMapPointerEvent","isCursorEvent","Features","filterFn","callbackfn","featureStore","updateStorage","updatesAvailable","featureIdOrFeatureData","sourceNames","coordBounds","polygonScreenBounds","imported","fixedFeature","allowedShapes","shapeTypes","resultFeatureCollection","inputSource","sourceGeoJsonFeatures","sourceFeature","defaultSource","targetSourceName","layers","shapeName","partialStyle","layer","layerId","layerOptions","SHAPE_MAP","parentFeature","markerFeatureData","getCircleMarkerStyles","styleVariables","getControlMarkerStyles","getLineStyles","getMarkerStyles","getPolygonStyles","getSecondaryControlMarkerStyles","getSnapGuideStyles","getTextMarkerStyles","sourceStyles","styles","defaultOptions","defaultLayerStyles","getDefaultOptions","DEV","is_array","index_of","array_from","define_property","get_descriptor","get_descriptors","object_prototype","array_prototype","get_prototype_of","run","run_all","arr","DERIVED","EFFECT","RENDER_EFFECT","BLOCK_EFFECT","BRANCH_EFFECT","ROOT_EFFECT","BOUNDARY_EFFECT","UNOWNED","DISCONNECTED","CLEAN","DIRTY","MAYBE_DIRTY","INERT","DESTROYED","EFFECT_RAN","EFFECT_TRANSPARENT","HEAD_EFFECT","EFFECT_HAS_DERIVED","STATE_SYMBOL","LOADING_ATTR_SYMBOL","micro_tasks","run_micro_tasks","tasks","queue_micro_task","equals","safe_not_equal","safe_equals","effect_in_teardown","rune","effect_in_unowned_derived","effect_orphan","effect_update_depth_exceeded","state_descriptors_fixed","state_prototype_fixed","state_unsafe_local_read","state_unsafe_mutation","legacy_mode_flag","tracing_mode_flag","enable_legacy_mode_flag","EACH_ITEM_REACTIVE","EACH_INDEX_REACTIVE","EACH_IS_CONTROLLED","EACH_IS_ANIMATED","EACH_ITEM_IMMUTABLE","TEMPLATE_FRAGMENT","TEMPLATE_USE_IMPORT_NODE","UNINITIALIZED","lifecycle_outside_component","component_context","set_component_context","context","getContext","get_or_init_context_map","push","runes","pop","component","context_stack_item","component_effects","previous_effect","active_effect","previous_reaction","active_reaction","component_effect","set_active_effect","set_active_reaction","effect","is_runes","get_parent_context","context_map","signal","state","push_derived_source","mutable_source","initial_value","immutable","mutable_state","untracking","derived_sources","set_derived_sources","e.state_unsafe_mutation","internal_set","increment_write_version","mark_reactions","untracked_writes","set_untracked_writes","status","reactions","reaction","flags","set_signal_status","schedule_effect","derived","parent_derived","derived_safe_equal","destroy_derived_effects","effects","destroy_effect","get_derived_parent_effect","execute_derived","prev_active_effect","update_reaction","update_derived","skip_reaction","hydrating","proxy","prototype","is_proxied_array","version","metadata","prop","descriptor","e.state_descriptors_fixed","target","ls","update_version","receiver","exists","has","other_s","own_keys","e.state_prototype_fixed","get_proxied_value","is","$window","is_firefox","first_child_getter","next_sibling_getter","init_operations","element_prototype","node_prototype","create_text","get_first_child","node","get_next_sibling","child","is_text","first_child","fragment","sibling","next_sibling","clear_text_content","is_throwing_error","is_flushing","last_scheduled_effect","is_updating_effect","is_destroying_effect","set_is_destroying_effect","queued_root_effects","new_deps","skipped_deps","write_version","read_version","check_dirtiness","dependencies","is_unowned","dependency","is_disconnected","is_unowned_connected","propagate_error","error","should_rethrow_error","handle_error","schedule_possible_effect_self_invalidation","previous_deps","previous_skipped_deps","previous_untracked_writes","previous_skip_reaction","prev_derived_sources","previous_component_context","previous_untracking","deps","remove_reactions","remove_reaction","new_length","start_index","update_effect","was_updating_effect","destroy_block_effect_children","destroy_effect_children","execute_effect_teardown","teardown","dep","infinite_loop_guard","e.effect_update_depth_exceeded","flush_queued_root_effects","flush_count","root_effects","collected_effects","process_effects","flush_queued_effects","unlink_effect","is_branch","is_skippable_branch","previous_active_reaction","is_derived","e.state_unsafe_local_read","untrack","STATUS_MASK","deep_read_state","deep_read","visited","descriptors","validate_effect","e.effect_orphan","e.effect_in_unowned_derived","e.effect_in_teardown","push_effect","parent_effect","parent_last","create_effect","sync","is_root","inert","user_effect","defer","user_pre_effect","render_effect","component_root","fulfil","pause_effect","template_effect","thunks","deriveds","block","branch","previously_destroying_effect","remove_dom","next","removed","end","transitions","transition","pause_children","run_out_transitions","check","local","transparent","resume_effect","resume_children","PASSIVE_EVENTS","is_passive_event","listening_to_form_reset","add_form_reset_listener","evt","without_reactive_context","listen_to_event_and_reset_event","element","handler","on_reset","all_registered_events","root_event_handles","delegate","events","handle_event_propagation","handler_element","owner_document","event_name","current_target","path_idx","handled_at","at_idx","handler_idx","throw_error","other_errors","parent_element","delegated","create_fragment_from_html","html","elem","assign_nodes","template","content","is_fragment","use_import_node","has_start","text","comment","frag","anchor","append","dom","set_text","str","mount","_mount","document_listeners","Component","intro","registered_events","event_handle","passive","unmount","anchor_node","ctx","mounted_components","if_block","root_index","hydrate_index","consequent_effect","alternate_effect","condition","has_branch","set_branch","flag","update_branch","new_condition","pause_effects","items","controlled_anchor","items_map","is_controlled","parent_node","each","get_collection","get_key","render_fn","fallback_fn","fallback","was_empty","each_array","reconcile","is_animated","should_update","to_animate","matched","stashed","child_anchor","create_item","update_item","move","to_destroy","destroy_length","_c","_d","reactive","mutable","dest","next_node","get_value","svg","mathml","skip_warning","whitespace","to_class","hash","directives","classname","set_class","is_html","prev_classes","next_classes","next_class_name","is_present","set_attribute","attribute","attributes","get_setters","setters_cache","setters","element_proto","bind_checked","is_reset","select_option","select","mounting","select_options","option_value","get_option_value","init_select","observer","bind_select_value","query","selected_option","init","callbacks","changed","observe_all","fns","IS_UNMOUNTED","store_get","store","store_name","stores","is_synchronous_callback","subscribe_to_store","get_store","setup_stores","cleanup","onMount","init_update_callbacks","onDestroy","invalidate","unsub","subscriber_queue","writable","subscribers","new_value","run_queue","subscriber","update","subscribe","initialState","controlsStore","PUBLIC_VERSION","handleOptionChange","$$props","selectedValue","$.each","choiceItem","$.get","$.set_text","text_1","$.bind_select_value","$$value","$.bind_checked","$$render","consequent_1","alternate_1","consequent","alternate","handleSubAction","actionInstance","$.index","$$anchor","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","construct","fun","thisValue","Func","arrayForEach","unapply","arrayLastIndexOf","arrayPop","arraySplice","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","objectHasOwnProperty","regExpTest","typeErrorCreate","unconstruct","_len","_key","_len2","_key2","addToSet","transformCaseFunc","lcElement","cleanArray","newObject","lookupGetter","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","NODE_TYPE","getGlobal","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","suffix","ATTR_NAME","policyName","scriptUrl","_createHooksMap","createDOMPurify","window","DOMPurify","document","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","NamedNodeMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","tagName","parentTagName","_forceRemove","_removeAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","body","_createNodeIterator","_isClobbered","_isNode","_executeHooks","currentNode","hook","_sanitizeElements","_isBasicCustomElement","parentNode","childNodes","childCount","childClone","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attr","namespaceURI","attrValue","_sanitizeShadowDOM","shadowNode","shadowIterator","importedNode","returnNode","nodeIterator","serializedHTML","entryPoint","hookFunction","purify","handleClick","sanitizedSvg","menuPosition","consequent_2","$.set_attribute","button","classes","consequent_3","$$item","groupKey","groupControls","controlKey","controlOptions","$.derived_safe_equal","getControl","mapName","BaseControl","GMControl","containerElement","controlsContext","GmReactiveControls","container","section","mode","gmSystemPrefix","EventForwarder","eventName","enabled","multiFeatureMode","featuresPayload","eventNameWithPrefix","EventBus","eventHandler","controlHandler","handlers","gmEventName","mapEventName","eventSection","eventHandlers","handlerIndex","handlerItem","ControlEventListener","bus","editModes","BaseEdit","subName","sourceFeatures","targetFeatures","helperModes","BaseHelper","isGmEditEvent","isActionType","isDrawModeName","isEditModeName","isHelperModeName","isModeName","DrawEventListener","actionInstanceKey","EditEventListener","HelperEventListener","GMEvents","BaseMapAdapter","closestPoint","minDistance","nearestCoordinates","BaseLayer","MaplibreLayer","MaplibreDomMarker","mapInstance","ml","BasePopup","MaplibrePopup","htmlContent","mergeGeoJsonDiff","pendingDiffOrNull","nextDiffOrNull","pending","nextRemoveIds","pendingAdd","pendingUpdate","nextUpdate","updatedFeature","pendingAddIdx","pendingUpdateIdx","MaplibreSource","sourceId","fullUpdateStorage","mlDiff","propertiesArray","removeLayers","maplibrePointerEvents","isMaplibreSupportedPointerEventName","MaplibreAdapter","image","loadedImage","cursor","interactionTypes","interactionType","queryCoordinates","featureSourceName","item1","item2","mlBounds","sw","arg2","listener","getMapAdapter","mergeByTypeCustomizer","GmOptions","inputOptions","isModeEnabled","isModeAvailable","actionName","instance","action","BaseCircle","svgElement","DrawCircleMarker","isTouchScreen","convertToThrottled","throttledMethods","convertToDebounced","debouncedMethods","DrawCircle","markerLngLat","rimLngLat","eventLngLat","defaultShapeMarker","markerIcons","createMarkerElement","style","lineToPolygon","autoComplete","orderCoords","lineStringToPolygon","autoCompleteCoords","multiCoords","largestArea","area","calculateArea","turfBBox","last","west","south","east","north","turf_line_to_polygon_default","isSnapGuidesHelper","isAutoTraceHelper","isPinHelper","LineDrawer","eventType","markerInfo","clickedMarkerInfo","totalMarkersCount","_f","markerIndex","snappingMarkers","markerPath","markerElement","eventTarget","eventElement","newLngLat","existingMarkerInfo","addedLngLats","targetLngLat","pathPositions","finishLngLat","previousLngLat","withControlMarker","DrawLine","shapeCoordinates","DrawMarker","customMarker","iconElement","combine","groups","turf_combine_default","quickselect","quickselectStep","sd","newLeft","newRight","swap","tmp","RBush","maxEntries","intersects","toBBox","nodesToSearch","childBBox","contains","tmpNode","createNode","equalsFn","indexes","goingUp","findItem","height","calcBBox","N2","N1","multiSelect","right2","right3","minArea","minEnlargement","targetNode","bboxArea","enlargement","enlargedArea","isNode","insertPath","extend","splitIndex","newNode","minOverlap","bbox1","distBBox","bbox2","overlap","intersectionArea","compareMinX","compareNodeMinX","compareMinY","compareNodeMinY","xMargin","yMargin","leftBBox","rightBBox","margin","bboxMargin","siblings","destNode","children","total","polygonArea","ringArea","FACTOR","PI_OVER_180","coordsLength","lower","middle","upper","lowerX","middleY","upperX","geojsonPolygonSelfIntersections","useSpatialIndex","output","allEdgesAsRbushTreeItems","ring0","edge0","rbushTreeItem","tree","rbush","ringA","edgeA","bboxOverlaps","bboxIsect","ring12","edge12","ifIsectAddToOutput","ring1","edge1","ring02","edge02","start0","end0","start1","end1","isect","frac0","frac1","edge","array1","array2","simplepolygon","numRings","vertices","equalArrays2","isUnique","numvertices","selfIsectsData","numSelfIsect","outputFeatureArray","windingOfRing","determineParents","setNetWinding","pseudoVtxListByRingAndEdge","isectList","PseudoVtx","modulo","Isect","numIsect","allIsectsAsIsectRbushTreeItem","isectRbushTree","rbush2","coordToFind","IsectRbushTreeItemFound","queue","leftIsect","isectAfterLeftIsect","isectBeforeLeftIsect","windingAtIsect","isConvex","popped","startIsect","currentOutputRingParent","currentOutputRingWinding","currentOutputRing","currentOutputRingCoords","currentIsect","walkingRingAndEdge","nxtIsect","nxtIsectInQueue","pushing","featuresWithoutParent","i2","parentArea","j2","netWinding","setNetWindingOfChildren","ParentNetWinding","param","ringAndEdgeIn","ringAndEdgeOut","nxtIsectAlongEdgeIn","ringAndEdge1","ringAndEdge2","nxtIsectAlongRingAndEdge1","nxtIsectAlongRingAndEdge2","ringAndEdge1Walkable","ringAndEdge2Walkable","pts","righthanded","leftVtx","isUnique2","unkinkPolygon","polygon2","featureCollection2","turf_unkink_polygon_default","DrawPolygon","geoJsonPolygon","turfClone","DrawRectangle","rectangleData","controlMarker","DrawTextMarker","drawClassMap","BaseDrag","shapeLngLat","shapeUpdateMethod","updatedGeoJson","oldLngLat","shapeCenter","circleRimLngLat","newCenterCoords","circlePolygon","toMod","mod","formatNumber","formatDistance","range","formatArea","EditChange","featureUpdated","markerPosition","insertIndex","lngLatEnd","coordPath","lngLatStart","shapeCoords","startIndex","oppositeVertexIndex","oppositeCoordinate","isNonEmptyArray","booleanDisjoint","feature1","bool","flatten1","flatten2","disjoint","geom1","geom2","compareCoords","isPointOnLine","isLineOnLine","isLineInPoly","isPolyInPoly","isPointOnLineSegment","lineString1","lineString2","coord1","coord2","lineSegmentStart","lineSegmentEnd","dxc","dyc","dxl","dyl","pair1","pair2","booleanIntersects","turf_boolean_intersects_default","isNumeric","mathceil","mathfloor","bignumberError","tooManyDigits","BASE","LOG_BASE","POWS_TEN","SQRT_BASE","MAX","configObject","div","convertBase","parseNumeric","BigNumber","ONE","DECIMAL_PLACES","ROUNDING_MODE","TO_EXP_NEG","TO_EXP_POS","MIN_EXP","MAX_EXP","CRYPTO","MODULO_MODE","POW_PRECISION","FORMAT","ALPHABET","alphabetHasNormalDecimalDigits","alphabet","caseChanged","isNum","intCheck","round","out","maxOrMin","pow2_53","random53bitInt","dp","rand","decimal","toBaseOut","baseIn","baseOut","arrL","callerIsToString","xc","rm","toFixedPoint","coeffToString","multiply","base","xlo","xhi","carry","klo","khi","aL","bL","cmp","subtract","more","prod","prodL","qc","rem","remL","rem0","xi","xL","yc0","yL","yz","yc","bitFloor","format","toExponential","normalise","basePrefix","dotAfter","dotBefore","isInfinityOrNaN","whitespaceOrPlus","p2","rd","pows10","valueOf","half","isModExp","nIsBig","nIsNeg","nIsOdd","isOdd","xLTy","xcL","ycL","ylo","yhi","zc","sqrtBase","rep","g1","g2","groupSeparator","intPart","fractionPart","isNeg","intDigits","md","d0","d1","exp","n0","min","max","zs","SplayTreeNode","SplayTreeSetNode","SplayTree","newTreeRight","newTreeLeft","comp","currentLeft","currentRight","nextLeft","nextRight","SplayTreeSet","_SplayTreeSet","isValidKey","elements","nodes","nodeRight","nodeLeft","retainSet","modificationCount","copyChildren","node2","SplayTreeSetEntryIterableIterator","SplayTreeKeyIterableIterator","SplayTreeIterableIterator","constant_default","compare_default","eps","almostEqual","orient_default","almostCollinear","area2","identity_default","snap_default","xTree","yTree","snapCoord","snap","eps2","precision","isInBbox","getBboxOverlap","b2","lowerY","upperY","crossProduct","dotProduct","sineOfAngle","pShared","pBase","pAngle","vBase","vAngle","cosineOfAngle","horizontalIntersection","verticalIntersection","pt1","pt2","kross","SweepEvent","_SweepEvent","isLeft","ptCmp","aPt","bPt","otherEvents","iMax","numEvents","evt1","evt2","baseEvent","fillCache","linkedEvent","nextEvent","asine","acosine","bsine","bcosine","RingOut","_RingOut","allSegments","ringsOut","prevEvent","startingPoint","intersectionLEs","availableLEs","firstPt","lastPt","indexLE","jMax","intersectionLE","ringEvents","prevPt","nextPt2","nextPt","iStart","iEnd","orderedPoints","enclosing","leftMostEvt","prevSeg","prevPrevSeg","PolyOut","exteriorRing","geom0","ringGeom","MultiPolyOut","rings","polyGeom","enclosingRing","SweepLine","SplayTreeSet2","newEvents","nextSeg","prevMySplitter","prevInter","newEventsFromSplit","nextMySplitter","nextInter","mySplitter","inter","seg","rightSE","Operation","moreGeoms","operation","multipolys","MultiPolyIn","mpA","SplayTreeSet3","sweepEvents","sweepLine","operation_default","segmentId","_Segment","leftSE","windings","alx","blx","arx","brx","aly","bly","ary","bry","aCmpBLeft","bCmpARight","bCmpALeft","aCmpBRight","leftPt","rightPt","cmpPts","newRightSE","tBbox","oBbox","bboxOverlap","tlp","trp","olp","orp","touchesOtherLSE","touchesThisLSE","touchesOtherRSE","touchesThisRSE","alreadyLinked","newLeftSE","oldRightSE","newSeg","tmpEvt","consumer","consumee","beforeState","ringsAfter","windingsAfter","mpsAfter","polysAfter","polysExclude","mp","mpsBefore","noBefores","noAfters","least","most","isJustSubject","mps","RingIn","geomRing","isExterior","BigNumber2","prevPoint","PolyIn","geomPoly","ringSweepEvents","polySweepEvents","difference2","geoms","differenced","polyclip.difference","turf_difference_default","geojsonRbush","load","json","square","horizontalDistance","verticalDistance","verticalMidpoint","horizontalMidpoint","truncate","truncateCoords","lineSegment","lineSegmentFeature","createSegments","previousCoords","currentCoords","coords1","coords2","__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","__spreadValues","__spreadProps","nearestPointOnLine","ptPos","closestPt","_featureIndex","startPos","stopPos","sectionLength","intersectPos","wasEnd","nearestPointOnSegment","intersectPt","dot","v1x","v1y","v1z","v2x","v2y","v2z","cross","magnitude","lngLatToVector","vectorToLngLat","posA","posB","posC","Cx","Cy","Cz","I1","I2","angleAB","angleAI1","angleBI1","angleAI2","angleBI2","lineSplit","lineType","splitterType","truncatedSplitter","splitLineWithPoint","splitLineWithPoints","search","closestLine","findClosestFeature","startPoint","endPoint","pointsEquals","closestSegment","lastCoords","previous","splitterCoords","closestFeature","closestDistance","dist","turf_line_split_default","EditCut","bBoxfeatures","cutGeoJson","bufferedCutGeoJson","resultGeoJson","resultFeatures","lineFeatureData","lineFeatureGeoJson","geoJsonDifference","geoJsonDiff","turfDifference","EditDelete","EditDrag","calculateFinalBearing","lon1","lon2","bear","turf_bearing_default","rhumbBearing","bear360","calculateRhumbBearing","deltaPsi","rhumbDistance","distanceInMeters","calculateRhumbDistance","DeltaPhi","DeltaLambda","DeltaPsi","rhumbDestination","wasNegativeDistance","calculateRhumbDestination","transformRotate","pivot","pivotCoord","pointCoords","finalAngle","newCoords","turf_transform_rotate_default","EditRotate","bearingStart","editClassMap","findInCollection","targetItem","ShapeMarkersHelper","allowedEventNames","featureMarkerData","sharedMarker","oldPosition","newMarkerData","markerKey","existingMarker","shapeSegments","segmentData","lineEndMarker","segmentsData","verticesCount","divider","middlePoint","middlePath","markerItem","positionData","currentMarkerKeys","SnappingHelper","sectionKey","lngLats","snappingLngLat","closestPointData","customLngLat","coordPoint","featuresPointsSnapping","featuresLineSnapping","snappingHandler","nearestPointLngLat","nearestPointCoord","ZoomToFeaturesHelper","bboxArray","helperClassMap","MarkerPointer","invisibleMarker","htmlElement","snappedLngLat","customShapeTriangle","customShapeRectangle","union2","unioned","polyclip.union","turf_union_default","BaseGroupEdit","tmpFeatureData","newFeatureGeoJson","Geoman","mapWithGeoman","controlsElement","resolve","createGeomanInstance","geoman","reject"],"mappings":"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","x_google_ignoreList":[34,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,242,255,256,257,258,259,260,261,262,263,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,358,359,360,364,400,405,406,407,408,409,418,419,420,421,422,423,424,425,426,427,428,429,433,434,435,436,437,447]}